/*! For license information please see 32.d12b8d2b38767e4ef7e8.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1:function(module,exports){},"1Gkd":function(module,exports,e){},2:function(module,exports){},"4nIq":function(module,exports,e){},"4x9Y":function(module,e,t){"use strict";t.d(e,"a",(function(){return handleVideoJsError}));var n=t("agHs");function handleVideoJsError(e,t){var i=null==e?void 0:e.error();if(i){var o=i;i instanceof Error||(o=new Error("video.js: ".concat(JSON.stringify(i)))),n.captureException(o,{tags:{source:t,errorType:"media"}})}}},"7bkI":function(module,exports){module.exports={name:"leeCoreLexFocusedLex",parameters:[{name:"showLectureSummary",valid:[!0,!1],value:!1}]}},"7ipH":function(module,e,t){"use strict";t.d(e,"a",(function(){return n}));var n=function(e){return e.mouse_movement="mouse_movement",e.key_press="key_press",e.page_scroll="page_scroll",e.video_is_playing="video_is_playing",e}({})},"80dD":function(module,exports,e){var t=e("Ixfw"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},ARDt:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LearningHours_SendEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LearningHours_SendEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventSuccess"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LearningHours_SendEventError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:244}};e.loc.source={body:"mutation LearningHours_SendEvent($input: LearningHours_SendEventInput!) {\n  LearningHours_SendEvent(input: $input) {\n    ... on LearningHours_SendEventSuccess {\n      id\n    }\n    ... on LearningHours_SendEventError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.LearningHours_SendEvent=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=t[n]||new Set,r=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"LearningHours_SendEvent")},CLvh:function(module,exports,e){var t=e("xmJK"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},CdQ7:function(module,exports,e){},"DJ+3":function(module,exports,e){e("1Gkd")},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return formatTime})),t.d(e,"e",(function(){return getTimeFromDuration})),t.d(e,"a",(function(){return buildParagraphs})),t.d(e,"b",(function(){return findCuesAroundTime})),t.d(e,"d",(function(){return getAdjacentCues}));var n=t("wd/R"),i=t.n(n),findCueIndexForTime=function(e,t){return function findCueIndexForTimeHelper(e,t,n,i){if(t>n)return-1;var o=n-Math.floor((n-t)/2);return i<e[o].startTime?findCueIndexForTimeHelper(e,t,o-1,i):o!==e.length-1&&i>=e[o+1].startTime?findCueIndexForTimeHelper(e,o+1,n,i):o}(e,0,e.length-1,t)},formatTime=function(e){var t="m:ss",n=1e3*e;return i.a.duration(n).hours()>0&&(t="h:m"+t),i.a.utc(n).locale("en").format(t)},getTimeFromDuration=function(e){var t=1e3*e,n=i.a.duration(t),o=n.hours(),r=n.minutes();return{seconds:n.seconds(),minutes:r,hours:o}},buildParagraphs=function(e){var t,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];return e.forEach((function(e){n&&(i=e.startTime-n.endTime),(!t||i>=o)&&(t=[],r.push(t)),e.hideForTrimmingRange||t.push(e),n=e})),r.filter((function(e){return e.length>0}))},findCuesAroundTime=function(e,t){var n=e[findCueIndexForTime(e,t)];return n?[n]:[]},getAdjacentCues=function(e,t,n){var i=findCueIndexForTime(e,t);return-1===i&&e.length>2?[0,1,2].map((function(t){return e[t]})):i<0||i>=e.length?[]:"en"===n?function(e,t){for(var n=[],i=e-1;-1!==i;){var o=t[i];if("."===o.text[o.text.length-1])break;n.unshift(i),i-=1}for(var r=e;r<=t.length-1;){var a=t[r];if(n.push(r),"."===a.text[a.text.length-1])break;r+=1}return n}(i,e).map((function(t){return e[t]})):function(e,t){var n=[],i=[];return e>=2&&i.push(e-2),e>=1&&i.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(i,[e],n)}(i,e.length).map((function(t){return e[t]}))}},Ht4C:function(module,exports,e){e("4nIq")},Ixfw:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},JAA1:function(module,e,t){"use strict";var n=t("F/us"),i=t.n(n),o=t("8OJ3"),r=t("cVIm"),a=t("ROEb"),ResolutionsHandler=function(e,t){this.player=e,this.sourcesByResolution=t.sourcesByResolution,this.supportedResolutions=i()(this._knownResolutions).intersection(i()(t.sourcesByResolution).keys()),this.resolution=this.isResolutionSupported(t.resolution)?t.resolution:"540p",this.possibleResolutions=this.supportedResolutions,this.player.on("error",function(){var e=this.player.error();if(e&&4===e.code&&"testing"!==r.a.environment){a.a.error("Attempted to get source for resolution, but server responded with an error");var t=this.getResolution();this.possibleResolutions=i()(this.possibleResolutions).without(t),this.possibleResolutions.length&&this.setResolution(this.possibleResolutions[0])}}.bind(this))};ResolutionsHandler.prototype.getResolution=function(){return this.resolution},ResolutionsHandler.prototype.getSupportedResolutions=function(){return this.supportedResolutions},ResolutionsHandler.prototype.getResolutionIndex=function(){return i()(this.supportedResolutions).indexOf(this.resolution)},ResolutionsHandler.prototype.isResolutionSupported=function(e){return i()(this.supportedResolutions).contains(e)},ResolutionsHandler.prototype.getSourceForResolution=function(e){if(this.isResolutionSupported(e)){var t=i()(this.sourcesByResolution[e]).findWhere({type:"video/mp4"});return t&&t.src}a.a.error("Attempted to get source for unsupported resolution")},ResolutionsHandler.prototype.setResolution=function(e){if(this.resolution!==e&&this.isResolutionSupported(e)){var t=this.player.currentTime(),n=this.player.playbackRate(),i=this.player.paused();this.player.pause(),this.player.one("loadedmetadata",function(){this.player.currentTime(t),this.player.options().playbackRates&&this.player.playbackRate(n),i?this.player.pause():this.player.play()}.bind(this)),this.player.src(this.sourcesByResolution[e]),this.resolution=e,this.player.trigger("resolutionchange")}},ResolutionsHandler.prototype.decreaseResolution=function(){0!==this.supportedResolutions.length&&this.getResolution!==i()(this.supportedResolutions).first()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()-1])},ResolutionsHandler.prototype.increaseResolution=function(){0!==this.supportedResolutions.length&&this.resolution!==i()(this.supportedResolutions).last()&&this.setResolution(this.supportedResolutions[this.getResolutionIndex()+1])},ResolutionsHandler.prototype._knownResolutions=["240p","360p","540p","720p","1080p"],o.a.registerPlugin("resolutions",(function(e){if(!this.resolutionsHandler_){var t=new ResolutionsHandler(this,e);this.resolutionsHandler_=t,this.resolution=function(e){return e?(t.setResolution(e),e):t.getResolution()},this.increaseResolution=t.increaseResolution.bind(t),this.decreaseResolution=t.decreaseResolution.bind(t),this.isResolutionSupported=t.isResolutionSupported.bind(t),this.getSupportedResolutions=t.getSupportedResolutions.bind(t),this.getResolutionIndex=t.getResolutionIndex.bind(t),this.getSourceForResolution=t.getSourceForResolution.bind(t)}}))},JqCg:function(module,exports,e){var t=e("nQ+W"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},KjNy:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QueryByEventType"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"eventType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LexExperimentEvents_EventType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"LexExperimentEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByEventType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"eventType"},value:{kind:"Variable",name:{kind:"Name",value:"eventType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:192}};e.loc.source={body:"query QueryByEventType($eventType: LexExperimentEvents_EventType!) {\n  LexExperimentEvents {\n    queryByEventType(eventType: $eventType) {\n      id\n      eventType\n      createdAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.QueryByEventType=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var o=t[n]||new Set,r=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var s=a;a=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"QueryByEventType")},KoCz:function(module,e,t){"use strict";t.d(e,"a",(function(){return ItemPageContextProvider}));var n=t("J4zp"),i=t.n(n),o=t("q1tI"),r=Object(o.createContext)({hasModalOpen:!1,setHasModalOpen:function(e){}});e.b=r;var ItemPageContextProvider=function(e){var t=e.children,n=Object(o.useState)(!1),a=i()(n,2),s=a[0],c=a[1];return o.createElement(r.Provider,{value:{hasModalOpen:s,setHasModalOpen:c}},t)}},N8J5:function(module,exports,e){var t=e("NFod"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},NFod:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},OIEB:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},OMAK:function(module,exports){module.exports={name:"siteOnDemandCompletion",parameters:[{name:"assignmentVerificationSessions",value:["XttsmXm4EeWpCwrPNVXTlw","7P0bJnRZEeWgtQq7brjg6Q","IM53RnK_EeWpCwrPNVXTlw","jTosCG7UEeWPJBI9QEQKiQ","NrwvcW7VEeWWpw7gge8ZbQ","N7aolG-BEeWdPxJ-h_8T7w","NtSGgG-BEeWgtQq7brjg6Q","RpHdwHLAEeWXygocDxikNQ","dTeBf3K_EeWpCwrPNVXTlw","_MN8qm7UEeWgtQq7brjg6Q"]},{name:"showPhotoUploadInClassmates",value:!1},{name:"itemVideoDownloadBlacklist",value:["3EPZVpSGEeSb9SIACzCJlg"]},{name:"itemVideoContextMenuDenyList",value:["VNEblfJtEeyFUAphC_7O7w"]}]}},Q64i:function(module,exports,e){var t=e("WXLS"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},"RY+i":function(module,exports,e){e("CdQ7")},RgwD:function(module,e,t){"use strict";t.d(e,"b",(function(){return g})),t.d(e,"a",(function(){return PersistentFullScreen}));var n,i=t("fsL8"),o=t.n(i),r=t("yXPU"),a=t.n(r),s=t("VkAN"),c=t.n(s),l=t("AeFk"),u=t("q1tI"),d="persistent_fullscreen";function waitFor(e,t){return new Promise((function(n){setTimeout((function(){return n(e())}),t)}))}var p,m,h=Object(l.c)(n||(n=c()(["\n  display: flex;\n  align-items: center;\n\n  .vjs-react.video-js {\n    padding: 0 !important;\n    position: relative;\n    height: 100%;\n    margin: 0 auto;\n  }\n"]))),f={isFullScreen:function(){var e=!1,t=document;return t.fullscreenElement?e=!!t.fullscreenElement:t.msFullscreenElement?e=!!t.msFullscreenElement:t.mozFullScreenElement?e=!!t.mozFullScreenElement:t.webkitIsFullScreen&&(e=t.webkitIsFullScreen),e},getFullScreenElement:function(){var e,t=document;return document.fullscreenElement?e=document.fullscreenElement:t.webkitCurrentFullScreenElement?e=t.webkitCurrentFullScreenElement:t.mozFullScreenElement?e=t.mozFullScreenElement:t.msCurrentFullScreenElement&&(e=t.msCurrentFullScreenElement),e},requestFullScreenExit:(m=a()(o()().mark((function _callee(){var e,t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=document).msExitFullscreen){n.next=7;break}return n.next=4,t.msExitFullscreen();case 4:e=n.sent,n.next=26;break;case 7:if(!t.mozExitFullScreen){n.next=13;break}return n.next=10,t.mozExitFullScreen();case 10:e=n.sent,n.next=26;break;case 13:if(!t.webkitExitFullscreen){n.next=19;break}return e=t.webkitExitFullscreen(),n.next=17,waitFor((function(){}),600);case 17:n.next=26;break;case 19:if(!t.exitFullscreen){n.next=25;break}return n.next=22,t.exitFullscreen();case 22:e=n.sent,n.next=26;break;case 25:e="Fullscreen API is not supported";case 26:return n.abrupt("return",e);case 27:case"end":return n.stop()}}),_callee)}))),function(){return m.apply(this,arguments)}),requestFullScreen:(p=a()(o()().mark((function _callee2(e){var t;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.msRequestFullscreen){n.next=4;break}t=e.msRequestFullscreen(),n.next=19;break;case 4:if(!e.mozRequestFullScreen){n.next=8;break}t=e.mozRequestFullScreen(),n.next=19;break;case 8:if(!e.webkitRequestFullscreen){n.next=12;break}t=e.webkitRequestFullscreen(),n.next=19;break;case 12:if(!e.requestFullscreen){n.next=18;break}return n.next=15,e.requestFullscreen();case 15:t=n.sent,n.next=19;break;case 18:t="Fullscreen API is not supported";case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}}),_callee2)}))),function(e){return p.apply(this,arguments)})},g={setFullScreenElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenEl:e}}))},setOriginalContainerElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{originalContainerEl:e}}))},setFullScreenContainerElRef:function(e){document.dispatchEvent(new CustomEvent("updatePersistentFullScreen",{detail:{fullScreenContainerEl:e}}))},isFullScreen:f.isFullScreen,getfullScreenElement:f.getFullScreenElement,enterFullScreen:function(e){document.dispatchEvent(new CustomEvent("enterPersistentFullScreen",e))},exitFullScreen:function(e){document.dispatchEvent(new CustomEvent("exitPersistentFullScreen",e))}};function PersistentFullScreen(){var e=Object(u.useRef)(null),t=null,n=null,i=!1;function updateFullScreen(i){(function(e){return"detail"in e})(i)&&(i.detail.originalContainerEl&&(t=i.detail.originalContainerEl),i.detail.fullScreenEl&&(n=i.detail.fullScreenEl),e.current&&g.isFullScreen()&&n&&(e.current.firstElementChild===n||(e.current.innerHTML="",e.current.appendChild(n))))}function enterFullScreen(){n&&e.current&&f.requestFullScreen(e.current).then((function(){e.current&&n&&(e.current.innerHTML="",e.current.appendChild(n))})),setTimeout((function(){var e;i=!0,null===(e=n)||void 0===e||e.focus()}),600)}function exitFullScreen(){g.isFullScreen()&&i?f.requestFullScreenExit().then((function(){t&&n&&t.appendChild(n)})):t&&n&&i&&t.appendChild(n),setTimeout((function(){var e;i=!1,null===(e=n)||void 0===e||e.focus()}),600)}function handleChange(e){e.bubbles&&e.isTrusted&&i&&exitFullScreen()}return Object(u.useEffect)((function(){return document.addEventListener("enterPersistentFullScreen",enterFullScreen),document.addEventListener("exitPersistentFullScreen",exitFullScreen),document.addEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.addEventListener(e,handleChange)})),function(){document.removeEventListener("enterPersistentFullScreen",enterFullScreen),document.removeEventListener("exitPersistentFullScreen",exitFullScreen),document.removeEventListener("updatePersistentFullScreen",updateFullScreen),["fullscreenchange","webkitfullscreenchange"].forEach((function(e){document.removeEventListener(e,handleChange)}))}})),Object(l.d)("div",{css:h,ref:function(t){e.current=t},id:d,"data-testid":"persistent-fullscreen"})}},"Vwt+":function(module,e,t){"use strict";t.d(e,"d",(function(){return generateJsUriObjCurrentPage})),t.d(e,"c",(function(){return createCustomUrlPromise})),t.d(e,"a",(function(){return convertHmsStringIntoSeconds})),t.d(e,"b",(function(){return convertSecondsIntoHmsString}));var n=t("fw5G"),i=t.n(n),o=t("S+eF"),r=t.n(o),a=t("v6sC"),s=t("uKqt"),generateJsUriObjCurrentPage=function(e){var t=e.location,n=t.protocol,o=t.hostname,r=t.pathname,a=(new i.a).setProtocol(n).setHost(o).setPath(r);return"mock.dev-coursera.org"===o&&a.setPort(9443),a},createCustomUrlPromise=function(e,t){return new Promise((function(n,i){var o=Object(a.a)("",{type:"rest"});r()(o.post("".concat(s.b),{data:{targetUrl:e,customSlug:t||""}})).then((function(e){var t=e&&e.elements&&e.elements[0];n({customShareLink:t&&"https://coursera.org/share/".concat(t.customSlug)})})).catch((function(e){i(e)}))}))},convertHmsStringIntoSeconds=function(e){var t=e.split(":").reverse();return(t[2]&&60*Number(t[2])*60||0)+(t[1]&&60*Number(t[1])||0)+(t[0]&&Number(t[0])||0)},convertSecondsIntoHmsString=function(e){var t="",n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),o=Math.floor(e-3600*n-60*i);return n>0&&(t+=(n<10?"0":"")+n+":"),t+=(i<10?"0":"")+i+":",t+=(o<10?"0":"")+o}},WXLS:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},WkKJ:function(module,e,t){"use strict";var n=t("fsL8"),i=t.n(n),o=t("yXPU"),r=t.n(o),a=t("DzJC"),s=t.n(a),c=t("q1tI"),l=t("3tO9"),u=t.n(l),d=t("6OIj"),p=t("PKC9"),m=t("agHs"),h=t("DU3t"),f=t("80iO"),g=t("djba"),v=t("ARDt"),b=t.n(v),y={mouse_movement:h.K.MouseMovement,key_press:h.K.KeyPress,page_scroll:h.K.PageScroll,video_is_playing:h.K.VideoIsPlaying},C={lecture:h.J.Lecture,supplement:h.J.Reading,quiz:h.J.Quiz,exam:h.J.Quiz,staffGraded:h.J.StaffGraded,phasedPeer:h.J.PeerReview,peer:h.J.PeerReview,teammateReview:h.J.TeammateReview,gradedDiscussionPrompt:h.J.DiscussionPrompt,discussionPrompt:h.J.DiscussionPrompt};function toGraphQl(e){if(e){var t=e.itemTypeName?C[e.itemTypeName]:null;return{itemDetails:{itemId:e.itemId,learnerActivityType:t}}}return{}}var S=3,k=1500,x=500,sleepAsync=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function isGraphQLError(e){var t;return(null===(t=e.graphQLErrors)||void 0===t?void 0:t.length)>0}function logToSentry(e,t){try{m.captureException(e,{tags:{feature:"LearningHours",errorType:t}})}catch(t){console.error("[Learning Hours]: Unable to capture this exception in Sentry",{error:e})}}t.d(e,"a",(function(){return w})),t.d(e,"b",(function(){return useSendSignal})),t.d(e,"c",(function(){return learningHoursSignalsUtil_useSendThrottledSignal}));var w=3e4;function useSendSignal(){var e=function(){var e={mutation:b.a,context:{clientName:"gatewayGql"}},t=Object(d.a)();function sendEventMutation(e,t,n){return _sendEventMutation.apply(this,arguments)}function _sendEventMutation(){return(_sendEventMutation=r()(i()().mark((function _callee2(n,o,r){var a,s,c,l;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=u()({courseId:n.courseId,eventPlatform:h.I.Web,userActionType:y[n.userActionType],durationMilliSeconds:o,eventOs:(new f.a).platform,clientDateTime:r.toISOString(),deviceId:g.a.get().uuid},toGraphQl(null==n?void 0:n.itemData)),i.next=3,t.mutate(u()({variables:{input:{heartbeat:s}}},e));case 3:return c=i.sent,l=null===(a=c.data)||void 0===a?void 0:a.LearningHours_SendEvent,i.abrupt("return","LearningHours_SendEventSuccess"===(null==l?void 0:l.__typename));case 6:case"end":return i.stop()}}),_callee2)})))).apply(this,arguments)}function sendEventMutationWithRetry(e,t,n,i){return _sendEventMutationWithRetry.apply(this,arguments)}function _sendEventMutationWithRetry(){return(_sendEventMutationWithRetry=r()(i()().mark((function _callee4(e,t,n,o){var a,s;return i()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=function(){return(s=r()(i()().mark((function _callee3(r){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(o<S-1)){i.next=6;break}return i.next=3,sleepAsync(Math.pow(2,o)*k+Math.round(Math.random()*x));case 3:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,o+1));case 6:return logToSentry(r,"ALL_RETRIES_FAILED"),i.abrupt("return",!1);case 8:case"end":return i.stop()}}),_callee3)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},c.prev=2,c.next=5,sendEventMutation(e,t,n);case 5:return c.abrupt("return",c.sent);case 8:if(c.prev=8,c.t0=c.catch(2),!Object(p.d)(c.t0)){c.next=23;break}if(l=c.t0,u=void 0,d=void 0,0!==(null===(u=l.graphQLErrors)||void 0===u?void 0:u.length)||0!==(null===(d=l.clientErrors)||void 0===d?void 0:d.length)){c.next=15;break}return c.abrupt("return",a(c.t0));case 15:if(!isGraphQLError(c.t0)){c.next=20;break}return logToSentry(c.t0,"GRAPHQL_ERROR"),c.abrupt("return",!1);case 20:return c.abrupt("return",!1);case 21:c.next=25;break;case 23:return logToSentry(c.t0,"UNEXPECTED_CLIENT_ERROR"),c.abrupt("return",!1);case 25:case"end":return c.stop()}var l,u,d}),_callee4,null,[[2,8]])})))).apply(this,arguments)}return(function(){var e=r()(i()().mark((function _callee(e,t,n){return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",sendEventMutationWithRetry(e,t,n,0));case 1:case"end":return i.stop()}}),_callee)})));return function(t,n,i){return e.apply(this,arguments)}}())}();function _sendSignal(){return(_sendSignal=r()(i()().mark((function _callee(t){var n,o;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.heartbeatData,o=new Date,i.next=4,e(n,w,o);case 4:case"end":return i.stop()}}),_callee)})))).apply(this,arguments)}return function(e){return _sendSignal.apply(this,arguments)}}var learningHoursSignalsUtil_useSendThrottledSignal=function(){var e=useSendSignal();return Object(c.useMemo)((function(){return s()(e,w)}),[])}},YH9Q:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Zexf:function(module,e,t){"use strict";var n=t("lSNA"),i=t.n(n),o=t("3tO9"),r=t.n(o),a=t("eCGq"),s=t.n(a),c=t("sQ/U"),getDefaults=function(){return{playbackRate:1,volume:1,subtitleLanguage:"none",autoplay:!1,key:"userPreferences"}},l=function(){function UserPreferences(){var e=this;this.ensureAndGetStoredPreferences=function(){var t=e.getStoredPreferences(),n=getDefaults();return t||s.a.set(e.makeStorageKey(),n),e.getStoredPreferences()},this.makeStorageKey=function(){return"".concat(c.a.get().id,".userPreferences")},this.getStoredPreferences=function(){return s.a.get(e.makeStorageKey())}}var e=UserPreferences.prototype;return e.get=function(e){return this.ensureAndGetStoredPreferences()[e]},e.set=function(e,t){var n=this.ensureAndGetStoredPreferences(),o=r()(r()({},n),{},i()({},e,t));s.a.set(this.makeStorageKey(),o)},UserPreferences}();e.a=new l},ct0W:function(module,e,t){"use strict";var n=t("8OJ3"),i=t("Ji/E");e.a=function(){var e,t=n.a.getTech("html5"),o=null==t?void 0:t.TEST_VID;return!(!o||!i.a.browser)&&((e=!!o.textTracks)&&o.textTracks.length>0&&(e="number"!=typeof o.textTracks[0].mode),!e||"onremovetrack"in o.textTracks||(e=!1),e)}},fsNN:function(module,e,t){"use strict";var n=t("MnCE"),i=t("l1ss"),o=t("Vwt+");e.a=function(){return Object(n.b)(i.a,Object(n.f)({componentDidMount:function(){var e=this,t=this.props,n=t.targetShareLink;t.useCustomUrl&&"mock.dev-coursera.org"!==window.location.hostname&&Object(o.c)(n).then((function(t){var n=t.customShareLink;e.setState({customShareLink:n})}))}}))}},iR3l:function(module,exports,e){var t=e("rO66"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},jkGH:function(module,e,t){"use strict";t.r(e);var n,i=t("S+eF"),o=t.n(i),r=t("v6sC"),a=t("zXDh"),s=t("nkpE"),c=t("KMW/"),l=t("OMAK"),u=t.n(l);null===(n=c.a.addDefaults)||void 0===n||n.call(c.a,[u.a]);var d={get:function(e,t){return c.a.get("siteOnDemandCompletion",e,t)},preview:function(e,t,n){return c.a.preview("siteOnDemandCompletion",e,t)}},p=t("fw5G"),m=t.n(p),h=t("TSOT"),f=Object(h.a)("/api/onDemandLectureAssets.v1",{type:"rest"}),g={getLectureAssets:function(e,t){var n=new m.a("".concat(e,"~").concat(t)).addQueryParam("includes","openCourseAssets");return o()(f.get(n.toString()))}},v=g,b={videoEndPercentage:.9,videoStartPlaybackDelay:3,playbackRates:[.75,1,1.25,1.5,1.75,2]},y=b.videoEndPercentage,C=b.videoStartPlaybackDelay,S=b.playbackRates,k=-1,x=["CN","IN"],w=t("JqCg"),O=t.n(w),downloadsDropdownUtils_getLanguageCode=function(e,t,n){var i=e&&e.get("course"),o=i&&i.get("course.primaryLanguageCodes"),r=o&&o[0]||"en",s=t&&t.currentTrack();if(s)r=s.language;else{var c=Object(a.getLanguageCode)();if(n)!!n.getCaptionForLanguage(c)&&(r=c)}return r},downloadsDropdownUtils_fetchLectureAssets=function(e){var t=Object(r.a)("",{type:"rest"});return new o.a.Promise((function(n,i){o()(v.getLectureAssets(e.get("course").get("id"),e.get("id"))).then((function(e){o.a.all(e.linked["openCourseAssets.v1"].map((function(e){return o()(t.get("/api/openCourseAssets.v1/"+(n=e.id,i=n,(r=n.indexOf("@"))>=0&&(i=n.substring(0,r)),i)));var n,i,r}))).then((function(e){return o.a.all(e.map((function(e){var n=e.elements[0];if(!n)return!1;var i=n.typeName;if("url"===i){var r=n.definition,a=r.url,s=r.name;return o()().then((function(){return{typeName:i,url:a,itemName:s,fileType:O()("Link")}}))}var c=n.definition.assetId;return o()(t.get("api/assets.v1/".concat(c),{data:{fields:"fileExtension"}})).then((function(e){var t=e.elements[0],o=t.url.url,r=t.name,a=t.fileExtension,s=n.definition.name||r;return{typeName:i,url:o,itemName:s,fileType:a}}))}))).then((function(e){n(e)}))}))}))}))},downloadsDropdownUtils_isContextMenuEnabled=function(e){return!Object(s.a)(d.get("itemVideoContextMenuDenyList"),e)},T=["240p","360p","540p","720p","1080p"];function getResolutionRange(e){var t=[],n=function(e){for(var t=0;t<T.length;t++)if(e.getSourcesForResolution(T[t]))return T[t]}(e),i=function(e){for(var t=T.length-1;t>=0;t--)if(e.getSourcesForResolution(T[t]))return T[t]}(e);return n&&t.push(n),i&&n!==i&&t.push(i),t}var j=t("MnCE"),P=t("L1vm"),E=t("pVnL"),I=t.n(E),M=t("fsL8"),V=t.n(M),R=t("yXPU"),N=t.n(R),L=t("3tO9"),D=t.n(L),F=t("J4zp"),H=t.n(F),A=t("VkAN"),B=t.n(A),z=t("E+oP"),U=t.n(z),Q=t("AeFk"),W=t("q1tI"),q=t.n(W),K=t("aqT/"),G=t.n(K),J=t("DU3t"),Z=t("17x9"),Y=t.n(Z),X=t("8cuT"),ee=t("sQ/U"),te=t("FdHa"),ne=t("gksZ"),ie=t("6/Gu"),oe=t("8Hdl"),re=t("lPk7"),ae=t("15pW"),se=Object(W.createContext)({shouldDisableSkippingForward:!1,onVideoPlayedToEnd:function(){},learnerMaxVideoProgressInSeconds:0,setLearnerMaxVideoProgressInSeconds:function(){},checkLearnerVideoProgress:function(){},showVideoSkippingDisabledNotification:!1,setShowVideoSkippingDisabledNotification:function(){}}),LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext=function(){return Object(W.useContext)(se)},LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider=function(e){var t=e.children,n=Object(W.useState)(!1),i=H()(n,2),o=i[0],r=i[1],a=Object(W.useState)(0),s=H()(a,2),c=s[0],l=s[1],u=Object(W.useState)(!1),d=H()(u,2),p=d[0],m=d[1];return W.createElement(se.Provider,{value:{shouldDisableSkippingForward:o,onVideoPlayedToEnd:function(){r(!1)},learnerMaxVideoProgressInSeconds:c,setLearnerMaxVideoProgressInSeconds:l,checkLearnerVideoProgress:function(e,t){e!==ae.f&&e!==ae.g||!t||r(!0)},showVideoSkippingDisabledNotification:p,setShowVideoSkippingDisabledNotification:m}},t)},ce=t("TCdk"),le=t("BsWy"),ue=t("joWv"),de=t("MKs7"),pe=t("6Dos"),me=t("YmkS"),he=t("qJwm"),fe=t("1lFr"),ge=t("RgwD"),ve=t("0emD"),be=t("Puqe"),ye=t.n(be),Ce=t("wig9"),Se=t.n(Ce),ke=t("3WF5"),xe=t.n(ke),we=t("k4Da"),Oe=t.n(we),Te=t("xweI"),je=t.n(Te),Pe=t("agHs"),Ee=t("8OJ3"),getStartTimeForDisplay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.max(e-t,0)},getHideForTrimmingRange=function(e,t,n){var i=null!=n?n:{},o=i.trimmedStartTimeSeconds,r=void 0===o?0:o,a=i.trimmedEndTimeSeconds;return!!(t&&t<r)||!!(a&&e>a)},models_Cue=function(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;this.id=e,this.index=t,this.startTime=i,this.endTime=o,this.text=n.replace("<br/>"," ").replace("\n"," ").replace(/^\.$/,"").replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})),this.startTimeForDisplay=getStartTimeForDisplay(this.startTime,r),this.hideForTrimmingRange=getHideForTrimmingRange(this.startTime,this.endTime,{trimmedStartTimeSeconds:r,trimmedEndTimeSeconds:a})},Ie=function(){function Track(e,t,n){this.languageCode=e,this.label=t,this.url=n,this.sourceContent=null,this.cues=[],this.isLoaded=!1}return Track.prototype.getTextTranscript=function(){return this.cues.map((function(e){return e.text})).join(" ")},Track}(),propertyComparator=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},Me=function(){function TrackList(e){this.tracks=e.slice(),this.tracks.sort(propertyComparator("label"))}var e=TrackList.prototype;return e.toArray=function(){return this.tracks},e.getFromLanguageCode=function(e){return this.tracks.find((function(t){return t.languageCode===e}))},TrackList}(),Ve=t("IWWe"),_e={set:function(e,t){return Ve.a.setItem("InteractiveTranscript:"+e,t,String)},get:function(e){return Ve.a.getItem("InteractiveTranscript:"+e,String,void 0)}};function ParserError(e,t){this.message=e,this.error=t}ParserError.prototype=Object.create(Error.prototype);var Re=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{3})/;function parse(e){if("string"!=typeof e)throw new ParserError("Input must be a string");var t=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),n=t.shift();if(!n.startsWith("WEBVTT"))throw new ParserError('Must start with "WEBVTT"');var i=n.split("\n");if(0===t.length&&1===i.length)return{valid:!0};if(i.length>1&&""!==i[1])throw new ParserError("No blank line after signature");return{valid:!0,cues:function(e){return e.map(parseCue)}(t)}}function parseCue(e,t){var n="",i=0,o=0,r="",a=e.split("\n").filter(Boolean);if(1===a.length&&!a[0].includes("--\x3e"))throw new ParserError("Cue identifier cannot be standalone (cue #".concat(t,")"));if(a.length>1&&!a[0].includes("--\x3e")&&!a[1].includes("--\x3e"))throw new ParserError("Cue identifier needs to be followed by timestamp (cue #".concat(t,")"));if(a.length>1&&a[1].includes("--\x3e")&&(n=a.shift()),a.length>0&&a[0].includes("--\x3e")){var s=a[0].split(" --\x3e ");if(2!==s.length||!validTimestamp(s[0])||!validTimestamp(s[1]))throw new ParserError("Invalid cue timestamp (cue #".concat(t,")"));if((i=parseTimestamp(s[0]))>(o=parseTimestamp(s[1])))throw new ParserError("Start timestamp greater than end (cue #".concat(t,")"));if(o<i)throw new ParserError("End must be greater or equal than start (cue #".concat(t,")"));r=s[1].replace(Re,"").trim(),a.shift()}return{identifier:n,start:i,end:o,text:a.join("\n"),styles:r}}function validTimestamp(e){return Re.test(e)}function parseTimestamp(e){var t=e.match(Re),n=parseFloat(t[3]);return n+=60*parseFloat(t[2]),n+=60*parseFloat(t[1]||0)*60}var Ne=t("erQL"),TrackUtils_loadTrack=function(e,t,n){if(e.isLoaded)return o()(e);var i=Object(r.a)("",{type:"rest"});return o()(i.get(e.url)).then((function(i){var o=e;o.sourceContent=i,o.isLoaded=!0;var r=[];try{r=function(e){if(Ne.a)return parse(e).cues;var t=[],n=new WebVTT.Parser(window,window.vttjs,new WebVTT.StringDecoder);return n.oncue=function(e){return t.push(e)},n.onparsingerror=function(e){throw new Error("Error parsing track: "+e)},n.parse(e),n.flush(),t}(o.sourceContent)}catch(t){Pe.captureException("cannot parse cues",{extra:{track:e,error:t}})}return o.cues=je()(Oe()(xe()(Se()(r),(function(e,i){return Ne.a?new models_Cue(e.identifier,i,e.text,e.start,e.end,t,n):new models_Cue(e.id,i,e.text,e.startTime,e.endTime,t,n)})),(function(e){return!!e.text.trim()})),"index"),o})).catch((function(e,t,n){throw new Error("Error loading track. Error: ".concat(n,"; status: ").concat(t,"; response text: ").concat(JSON.stringify(e)))}))},TrackUtils_buildTracks=function(e){var t=[],n=ye()(e,"__typename");return Object.keys(n).forEach((function(n){var i=e[n];t.push(new Ie(n,i.label,i.url))})),new Me(t)},TrackUtils_getDefaultTrack=function(e,t){return!Ne.a&&e.getFromLanguageCode(_e.get("language-code"))||e.getFromLanguageCode(t)||e.getFromLanguageCode("en")||e.toArray()[0]},Le=t("mqQf"),De=t("wC8J"),Fe=t("sAJn"),He=t("U5zp"),Ae=t("uEzg"),Be=t("gNwb"),ze=t("RIqP"),Ue=t.n(ze),Qe=t("TSYQ"),We=t.n(Qe),qe=t("al67"),HighlightCapturePreview_style=function(e){return Object(Q.c)({bottom:"10px",right:"10px",padding:"5px",zIndex:1999,position:"fixed",background:"white",transition:"1s",boxShadow:"-1px 0px 20px -1px rgba(204,204,204,1)",img:{width:"280px"},opacity:e?"1":"0",visibility:e?"visible":"hidden"})},cds_HighlightCapturePreview=function(e){var t=e.show,n=e.highlight,i=e.onClick;return Object(Q.d)("div",{tabIndex:0,role:"button",onClick:i,onKeyPress:function(e){return Object(qe.a)(e,i)},className:We()("rc-HighlightCapturePreview",{show:t}),css:HighlightCapturePreview_style(t)},n&&Object(Q.d)("img",{alt:n.transcriptText,src:n.snapshotDataUrl}))},Ke=t("BxDD"),Ge=t("TOZ3"),Je=t("CsdX"),Ze=t("WlCh"),Ye=t("Ne6o"),Xe=t.n(Ye),$e=Object(Be.b)({type:"BUTTON"})(Ke.a),cds_HighlightSidebarTogglePanel=function(e){var t=e.active,n=e.onToggleClick;return(q.a.createElement(Ge.b,{rootClassName:"rc-HighlightSidebarTogglePanel",justifyContent:"start",alignItems:"center",flexDirection:"column"},q.a.createElement($e,{trackingName:"toggle_highlight_panel",trackingData:{currentlyActive:t},rootClassName:We()("notes-tool-button",{active:t}),onClick:n,htmlAttributes:{"aria-label":Xe()("Toggle Notes Panel"),"aria-expanded":t},size:"zero",type:"icon",svgElement:q.a.createElement(Ze.a,{color:Je.b.black,hoverColor:Je.b.black,size:20,suppressTitle:!0})})))},et=t("VbXa"),tt=t.n(et),setUIPanelVisibilityPreference=function(e,t){e.dispatch("setHighlightingUIPanelVisibilityPreference",t)},setUIPanelEnabled=function(e,t){e.dispatch("setHighlightingUIPanelEnabled",t)},setHighlightsCount=function(e,t){e.dispatch("setHighlightsCount",t)},highlightingUIPreferenceUtils_getUIPanelVisibilityPreference=function(e){return Object(j.b)(Object(X.a)(["HighlightingUIPanelVisibilityPreferenceStore"],(function(e){var t=e.HighlightingUIPanelVisibilityPreferenceStore;return{expanded:t.getUIPanelVisibilityPreference(),highlightsCount:t.getHighlightsCount()}})))(e)},nt=function(e){function VideoHighlightSidebar(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).toggleExpansion=function(){var e=t.props.expanded;(0,t.context.executeAction)(setUIPanelVisibilityPreference,!e)},t}return tt()(VideoHighlightSidebar,e),VideoHighlightSidebar.prototype.render=function(){var e=this.props,t=e.loading,n=e.expanded,i=e.videoPlayer,o=e.highlights,r=e.notificationAnnouncement,a=e.onDelete,s=e.onUpdate,c=We()("rc-VideoHighlightSidebar",{expanded:n});return q.a.createElement(Ge.b,{rootClassName:c,flexDirection:"row",justifyContent:"start",alignItems:"stretch"},q.a.createElement(cds_HighlightSidebarTogglePanel,{active:n,onToggleClick:this.toggleExpansion}),q.a.createElement(qt,{loading:t,videoPlayer:i,highlights:o,notificationAnnouncement:r,onDelete:a,onUpdate:s}))},VideoHighlightSidebar}(q.a.Component);nt.contextTypes={executeAction:Y.a.func.isRequired};highlightingUIPreferenceUtils_getUIPanelVisibilityPreference(nt);var it=t("kgYC"),ot=t("Gok7"),rt=t("cDf5"),at=t.n(rt),st=t("l1rq"),ct=t("Z3v1"),lt=t("F9YM"),cds_HighlightButtonLabel=function(e){var t,n=e.startText,i=e.highlight,o=e.id,r=i.noteStartTs,a=i.noteEndTs,s=i.captureTs;if(r&&a){var c=Object(lt.e)(r),l=Object(lt.e)(a);t=W.createElement(oe.a,{component:ct.FormattedMessage,message:Xe()("{startText} from {fromHr} hours {fromMin} minutes {fromSec} seconds until {toHr} hours {toMin} minutes {toSec} seconds"),fromSec:c.seconds||"0",fromMin:c.minutes||"0",fromHr:c.hours||"0",toSec:l.seconds||"0",toMin:l.minutes||"0",toHr:l.hours||"0",startText:n})}else{var u=Object(lt.e)(s);t=W.createElement(oe.a,{component:ct.FormattedMessage,message:Xe()("{startText} for {hours} hours {minutes} minutes {seconds} seconds"),hours:u.hours||"0",minutes:u.minutes||"0",seconds:u.seconds||"0",startText:n})}return(W.createElement(st.a,{component:"span",id:o,className:"sr-only"},t))},ut=t("ZJgU"),dt=t("7NrJ"),pt=Object(Be.b)({type:"BUTTON"})(ut.a);function HighlightDeleteButton(e){var t,n=Object(W.useState)(!1),i=H()(n,2),o=i[0],r=i[1],a=e.disabled,s=e.highlight,c=e.onDelete,l=(Object(it.a)(),Object(W.useRef)(null)),u=Object(W.useRef)(null),d=Object(P.c)();return Object(W.useEffect)((function(){o&&null!=l&&l.current&&l.current.focus()}),[o]),Object(Q.d)("div",null,!o&&Object(Q.d)(pt,{size:"small",_refAltAsTrueRef:u,variant:"ghost",disabled:a,onClick:function(){r(!0)},trackingName:"delete_highlight_pre","aria-label":Xe()("Delete note #{noteText}",{noteText:null==s?void 0:null===(t=s.noteText)||void 0===t?void 0:t.substr(0,50)})},Xe()("Delete")),o&&Object(Q.d)(ie.a,{container:!0,className:"HighlightDeleteButton_confirmation_controls",css:Object(Q.c)({gap:"var(--cds-spacing-200)"})},Object(Q.d)(ie.a,{item:!0,"aria-live":"assertive"},Object(Q.d)(st.a,{component:"div",className:"highlight-delete-btn-confirm",css:Object(Q.c)({lineHeight:"36px",margin:"0 0 0 var(--cds-spacing-100)"}),id:"delete-note"},Xe()("Delete Note?"))),Object(Q.d)(dt.a,{"aria-labelledby":"delete-note",size:"small",primaryButtonProps:{children:Xe()("Delete"),onClick:function(){var e;d({trackingName:"delete_highlight",action:"click",trackingData:{}}),r(!1),c(),null===(e=document.getElementById("note_sidebar_to_review_link_id"))||void 0===e||e.focus()},ref:l},alternateButtonProps:{children:Xe()("Cancel"),variant:"secondary",onClick:function(){d({trackingName:"cancel_delete_highlight",action:"click",trackingData:{}}),r(!1)}}})))}pt.displayName="TrackedButton",HighlightDeleteButton.displayName="HighlightDeleteButton";var mt=HighlightDeleteButton,cds_HighlightEditButton=function(e){var t=e.disabled,n=e.onClick,i=e.ariaLabelledBy,o=e.hasComment,r=e.forwardRef,a=o?Xe()("Edit your thoughts"):Xe()("Add your thoughts");return q.a.createElement(ut.a,{ref:r,variant:"ghost",onClick:n,size:"small",disabled:t,"aria-labelledby":i,onKeyPress:function(e){return Object(qe.a)(e,n)}},a)},ht=t("o5PN"),ft=t("SJ7i"),gt=Object(Be.b)({type:"BUTTON"})(ut.a);gt.displayName="TrackedButton";var vt,bt,HighlightNoteEditor_styles=function(e){return Object(Q.c)({".note-textarea":{width:"100%",color:"#555",resize:"none",padding:"10px",fontSize:"14px",border:"1px solid var(--cds-color-grey-975)",borderRadius:4},"&:focus":{outline:"1px solid #ccc"}})},yt=function(e){function HighlightNoteEditor(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.state.noteText;(0,n.props.onSave)(e)},n.handleChange=function(e){n.setState({noteText:e.target.value})},n.state={noteText:t.initialNoteText},n.textarea=null,n.setTextareaRef=function(e){n.textarea=e,n.props.forwardRef&&(n.props.forwardRef.current=e)},n}tt()(HighlightNoteEditor,e);var t=HighlightNoteEditor.prototype;return t.componentDidMount=function(){this.textarea&&this.textarea.focus()},t.render=function(){var e,t,n=this.state.noteText,i=this.props,o=i.highlight,r=i.initialNoteText,a=i.onCancel,s=i.ariaLabelledBy,c=n===r||n.length>1e3,l=Object(lt.e)(null!==(e=null==o?void 0:o.noteStartTs)&&void 0!==e?e:0),u=Object(lt.e)(null!==(t=null==o?void 0:o.noteEndTs)&&void 0!==t?t:0),d=Xe()('Save your thoughts for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==o?void 0:o.transcriptText,startHour:l.hours,startMinute:l.minutes,startSecond:l.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds}),p=Xe()('Cancel changes for "#{transcriptText}" starting at #{startHour} hours #{startMinute} minutes #{startSecond} seconds and ending at #{endHour} hours #{endMinute} minutes #{endSecond} seconds',{transcriptText:null==o?void 0:o.transcriptText,startHour:l.hours,startMinute:l.minutes,startSecond:l.seconds,endHour:u.hours,endMinute:u.minutes,endSecond:u.seconds});return Object(Q.d)("div",{className:"rc-HighlightNoteEditor",css:HighlightNoteEditor_styles,"data-testid":"highlight-note-editor"},Object(Q.d)(st.a,{component:"label",variant:"bodySecondary",htmlFor:"note-text"},Xe()("Add your thoughts")),Object(Q.d)(ht.a,{id:"note-text",name:"note-text",minRows:1,maxRows:20,value:n,className:"note-textarea","aria-labelledby":s,onChange:this.handleChange,inputRef:this.setTextareaRef}),Object(Q.d)(ie.a,{container:!0,justifyContent:"flex-start",css:Object(Q.c)({gap:this.props.theme.spacing(16)})},Object(Q.d)(ie.a,{item:!0},Object(Q.d)(gt,{type:"button",size:"small","aria-label":d,disabled:c,onClick:this.handleSave,trackingName:"edit_highlight"},Xe()("Save"))),Object(Q.d)(ie.a,null,Object(Q.d)(gt,{type:"button",size:"small","aria-label":p,variant:"secondary",onClick:a,trackingName:"cancel_edit_highlight"},Xe()("Cancel")))))},HighlightNoteEditor}(W.Component),Ct=Object(ft.a)(yt),St=t("Ya7m"),kt=t("sVmg"),xt=t("IDuc"),wt={trimmedStartTimeSeconds:0,trimmedDurationSeconds:null,trimmedEndTimeSeconds:null},Ot=Object(W.createContext)(wt),VideoTrimmingContext_VideoTrimmingContextProvider=function(e){var t=e.trimmedStartTimeSeconds,n=e.trimmedDurationSeconds,i=e.children,o=Object(W.useMemo)((function(){return n?t+n:null}),[n,t]);return W.createElement(Ot.Provider,{value:{trimmedStartTimeSeconds:t,trimmedDurationSeconds:n,trimmedEndTimeSeconds:o}},i)},VideoTrimmingContext_useVideoTrimmingContext=function(){var e=Object(W.useContext)(Ot);return e||wt},HighlightPlayButton_useGetTimestampsForDisplay=function(e){var t=e.noteStartTs,n=e.noteEndTs,i=e.captureTs,o=VideoTrimmingContext_useVideoTrimmingContext(),r=o.trimmedStartTimeSeconds,a=o.trimmedEndTimeSeconds;return{noteStartTs:Object(W.useMemo)((function(){return r?getStartTimeForDisplay(t,r):t}),[t,r]),noteEndTs:Object(W.useMemo)((function(){return n&&a?function(e,t){var n=null!=t?t:{},i=n.trimmedStartTimeSeconds,o=n.trimmedEndTimeSeconds,r=void 0===o?0:o;return r?Math.min(e-i,r):e}(n,{trimmedStartTimeSeconds:r,trimmedEndTimeSeconds:a}):n}),[n,a,r]),captureTs:Object(W.useMemo)((function(){return a?i<r?r:i>a?a:i+r:i}),[i,a,r])}},HighlightPlayButton_HighlightPlayButton=function(e){var t,n=e.highlight,i=e.onClick,o=e.playing,r=HighlightPlayButton_useGetTimestampsForDisplay(n),a=r.noteStartTs,s=r.noteEndTs,c=r.captureTs;return t="number"==typeof a&&"number"==typeof s?o?Xe()("Pause video clip #{startTime} - #{endTime}",{startTime:Object(lt.c)(a),endTime:Object(lt.c)(s)}):Xe()("Play video clip #{startTime} - #{endTime}",{startTime:Object(lt.c)(a),endTime:Object(lt.c)(s)}):o?Xe()("Pause video clip #{startTime}",{startTime:Object(lt.c)(c)}):Xe()("Play video clip #{startTime}",{startTime:Object(lt.c)(c)}),Object(Q.d)(ut.a,{type:"button",variant:"ghost",size:"small",component:xt.a,onClick:i,trackingName:"highlight_timestamp","aria-label":t,"aria-live":"off",icon:o?vt||(vt=Object(Q.d)(St.a,{size:"medium"})):bt||(bt=Object(Q.d)(kt.a,{size:"medium"})),iconPosition:"before",css:Object(Q.c)({marginLeft:"-16px"})},t)},Tt=HighlightPlayButton_HighlightPlayButton;HighlightPlayButton_HighlightPlayButton.displayName="HighlightPlayButton";var jt={highlightButton:function(e){return Object(Q.c)({margin:"0 0 var(--cds-spacing-200) 0",background:"none",border:0,width:"120px",textAlign:"left",padding:0})},videoThumbnail:function(){return Object(Q.c)({maxWidth:"120px",maxHeight:"80px"})}},cds_HighlightSnapshot=function(e){var t=e.highlight,n=e.onClick,i=e.playing,o=t.snapshotDataUrl,r=t.snapshotUrl,a=t.noteStartTs,s=t.captureTs,c=r||o,l=Object(it.a)();return c?Object(Q.d)(xt.a,{trackingName:"highlight_snapshot",type:"button",className:"rc-HighlightSnapshot",onClick:n,"aria-labelledby":"snapshot-btn-label-".concat(a||s),css:jt.highlightButton(l)},Object(Q.d)(cds_HighlightButtonLabel,{id:"snapshot-btn-label-".concat(a||s),startText:i?Xe()("Pause video for highlight marked"):Xe()("Play video for highlight marked"),highlight:t}),Object(Q.d)("img",{alt:Xe()("Video thumbnail"),src:c,css:jt.videoThumbnail})):null},Pt=t("sOkY"),cds_HighlightTranscript=function(e){var t=e.highlight,n=e.onClick,i=e.playing,o=t.snapshotUrl,r=t.snapshotDataUrl,a=t.transcriptText,s=t.noteStartTs,c=t.captureTs;if(!a)return null;var l=o||r?300:500,u=a.length>l?"".concat(a.substring(0,l),"..."):a;return q.a.createElement(oe.a,{component:Pt.a,role:"button",tabIndex:0,onClick:n,className:"rc-HighlightTranscript",trackingName:"highlight_transcript",onKeyPress:function(e){return Object(qe.a)(e,n)},"aria-labelledby":"transcript-btn-label-".concat(s||c)},q.a.createElement(cds_HighlightButtonLabel,{id:"transcript-btn-label-".concat(s||c),startText:i?Xe()("Pause video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:u}):Xe()("Play video for highlighted transcript with text, #{formattedTranscriptText}, marked",{formattedTranscriptText:u}),highlight:t}),u)},Highlight_styles_container=function(e){return Object(Q.c)({margin:"var(--cds-spacing-300) 0",padding:"0 0 var(--cds-spacing-200) 0"})},Highlight_styles_highlightBody=function(e){return Object(Q.c)({margin:"var(--cds-spacing-200) 0 var(--cds-spacing-100) 0"})},Highlight_styles_editingControls=function(e){return Object(Q.c)({marginLeft:"-8px",marginTop:"var(--cds-spacing-100)"})},nextTickExecute=function(e){setTimeout(e,0)},Highlight_Highlight=function(e){var t=e.highlight,n=e.highlight,i=n.id,o=n.pendingCreate,r=n.pendingUpdate,a=n.noteStartTs,s=n.captureTs,c=e.onDelete,l=e.currentHighlight,u=e.onSetCurrentHighlight,d=e.videoPlayer,p=e.onUpdate,m=e.forwardRef,h=Object(it.a)(),f=Object(W.useState)(t.noteText),g=H()(f,2),v=g[0],b=g[1],y=Object(W.useState)(!1),C=H()(y,2),S=C[0],k=C[1],x=Object(W.useState)(!1),w=H()(x,2),O=w[0],T=w[1],j=Object(W.useState)(!1),P=H()(j,2),E=P[0],I=P[1],M=Object(W.useState)(null),R=H()(M,2),L=R[0],F=R[1],A=Object(W.useState)(null),B=H()(A,2),z=B[0],U=B[1],q=Object(W.useRef)(null),K=Object(W.useRef)(null),G=Object(W.useRef)(null),J=Object(W.useRef)(null),Z=Object(W.useState)(""),Y=H()(Z,2),X=Y[0],ee=Y[1],te=function(e){var t=VideoTrimmingContext_useVideoTrimmingContext(),n=t.trimmedStartTimeSeconds,i=t.trimmedEndTimeSeconds;return Object(W.useMemo)((function(){return getHideForTrimmingRange(e.noteStartTs,e.noteEndTs,{trimmedStartTimeSeconds:n,trimmedEndTimeSeconds:i})}),[e.noteStartTs,e.noteEndTs,n,i])}(t),focusEditButton=function(){var e;null==K||null===(e=K.current)||void 0===e||e.focus(),ee("")},focusInput=function(){var e;null==G||null===(e=G.current)||void 0===e||e.focus()},handlePause=function(){I(!1)},handleToggle=function(){u(i),a?d.currentTime(a):d.currentTime(s),d.paused()||!E?(d.play(),I(!0)):(d.pause(),I(!1))},ne=function(){var e=N()(V()().mark((function _callee(e){return V()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(e),T(!1),n.next=4,p(D()(D()({},t),{},{noteText:e}));case 4:i=void 0,null==J||null===(i=J.current)||void 0===i||i.focus(),ee(Xe()("Your thoughts have been saved")),setTimeout(focusEditButton,1500);case 7:case"end":return n.stop()}var i}),_callee)})));return function(t){return e.apply(this,arguments)}}();Object(W.useEffect)((function(){var e,n;if(S&&(null==q||null===(e=q.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e),("undefined"==typeof window||at()(window))&&window.setTimeout)){var i=window.setTimeout((function(){k(!1),F(null)}),2e3);F(i)}t&&U(function(e){if(null!=e&&e.id)return e.id.split("~").length,e.id}(t)||null)}),[S,q,t]),Object(W.useEffect)((function(){return u(t.id),function(){d.off("pause",handlePause),L&&clearTimeout(L)}}),[z,t,q,L,u,d]),Object(W.useEffect)((function(){l&&t.id!==l&&handlePause()}),[t,l]);var oe=Xe()("#{action} your thoughts#{noteText} for the note marked",{noteText:v?", ".concat(v,","):"",action:v?Xe()("Edit"):Xe()("Add")}),re="edit-btn-label-".concat(null==t?void 0:t.id);return te?null:Object(Q.d)(ie.a,{container:!0,item:!0,spacing:12,ref:q,css:Highlight_styles_container(h),xs:12,"data-testid":"highlight"},Object(Q.d)(ie.a,{ref:m,item:!0,justifyContent:"flex-start",alignItems:"center",sm:3},Object(Q.d)(cds_HighlightSnapshot,{highlight:t,onClick:handleToggle,playing:E})),Object(Q.d)(ie.a,{container:!0,item:!0,direction:"row",wrap:"wrap",sm:9},Object(Q.d)(ie.a,{item:!0,justifyContent:"flex-start",alignItems:"center"},Object(Q.d)(Tt,{highlight:t,onClick:handleToggle,playing:E}),Object(Q.d)(st.a,{component:"span",className:"highlight-status",css:Object(Q.c)({marginLeft:"var(--cds-spacing-200)"}),"aria-live":"assertive",role:"alert",ref:J,tabIndex:-1},X)),Object(Q.d)(ie.a,{item:!0,justifyContent:"flex-start",alignItems:"flex-start",css:Highlight_styles_highlightBody(h),xs:12},Object(Q.d)(cds_HighlightTranscript,{highlight:t,onClick:handleToggle,playing:E})),v&&Object(Q.d)(ie.a,{item:!0,className:"highlight-note"},Object(Q.d)(st.a,{component:"h3",variant:"subtitleMedium"},Xe()("Your note")),Object(Q.d)(st.a,{component:"p"},v)),Object(Q.d)(ie.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Highlight_styles_editingControls(h),!O&&{display:"none"}]},Object(Q.d)(ie.a,{item:!0,xs:12,sm:8,md:6},Object(Q.d)(Ct,{forwardRef:G,highlight:t,initialNoteText:v,onSave:ne,onCancel:function(){T(!1),nextTickExecute(focusEditButton)},ariaLabelledBy:re}))),Object(Q.d)(ie.a,{container:!0,item:!0,alignItems:"center",justifyContent:"flex-start",direction:"row",css:[Highlight_styles_editingControls(h),Object(Q.c)({"div:nth-child(2)":{margin:"0 var(--cds-spacing-200)"}})]},Object(Q.d)(ie.a,{item:!0,css:[O&&{display:"none"}]},Object(Q.d)(cds_HighlightEditButton,{forwardRef:K,onClick:function(){T(!0),nextTickExecute(focusInput)},ariaLabelledBy:re,hasComment:!!v,disabled:o||r})),Object(Q.d)(ie.a,{item:!0},Object(Q.d)(mt,{onDelete:function(){return c(t.id)},disabled:o||r,highlight:t})))),Object(Q.d)(cds_HighlightButtonLabel,{id:re,startText:oe,highlight:t}))};Highlight_Highlight.displayName="Highlight";var Et,It,Mt,Vt,_t,Rt=Highlight_Highlight,Nt=t("+LJP"),Lt=t("KXbA"),Dt=t("buno"),Ft=t("Ys1X"),Ht=Object(Nt.a)((function(e){return{courseSlug:e.params.courseSlug}}))((function(e){var t=e.courseSlug;return Object(Q.d)(ut.a,{variant:"ghost",href:Object(Ft.e)(Object(Ft.c)(t)),trackingName:"note_sidebar_to_review_link",target:"_blank",rel:"noopener noreferrer",component:Dt.a,icon:Et||(Et=Object(Q.d)(Lt.a,{size:"small"})),iconPosition:"after",css:Object(Q.c)({margin:"-16px"}),"aria-label":Xe()("View all notes. Opens in new tab"),id:"note_sidebar_to_review_link_id"},Xe()("View all notes"))})),At=t("cVIm"),Bt="".concat(At.a.url.resource_assets,"learner/note_placeholder.svg"),zt={container:Object(Q.c)(It||(It=B()(["\n    display: flex;\n    flex-direction: column;\n    gap: var(--cds-spacing-300);\n  "])))},cds_VideoHighlightsLoadingPlaceholder=function(){return Object(Q.d)("div",{className:"rc-VideoHighlightsLoadingPlaceholder",css:zt.container},Object(Q.d)("img",{src:Bt,alt:Xe()("Note placeholder")}),Object(Q.d)("img",{src:Bt,alt:Xe()("Note placeholder")}),Object(Q.d)("img",{src:Bt,alt:Xe()("Note placeholder")}))},Ut="".concat(At.a.url.resource_assets,"learner/icon_note.svg"),Qt="".concat(At.a.url.resource_assets,"learner/icon_highlight.svg"),cds_VideoHighlightsPlaceholder=function(e){var t=e.helpText;return(W.createElement("div",{className:"rc-VideoHighlightsPlaceholder"},W.createElement(Ge.b,{justifyContent:"center"},W.createElement("img",{src:Ut,alt:Xe()("Take notes"),className:"icon note-icon"}),W.createElement("img",{src:Qt,alt:Xe()("Highlight"),className:"icon"})),W.createElement(st.a,{component:"p",color:"supportText",className:"help-text"},t)))},VideoHighlights_styles=function(e){return Object(Q.c)({padding:"0 0 var(--cds-spacing-200) 0"})};function VideoHighlights(e){var t=Object(W.useState)(null),n=H()(t,2),i=n[0],o=n[1],r=Object(it.a)(),a=e.loading,s=e.videoPlayer,c=e.highlights,l=e.notificationAnnouncement,u=e.onDelete,d=e.onUpdate,p=Object(W.useRef)(null),handleDelete=function(e){u&&(u(e),function(e){var t=c.findIndex((function(t){return t.id===e})),n=t;if(c.length<=t?n=t-1:c.length>0?n=0===t?0:t-1:0===c.length&&(n=-1),n>=0){var i=c[n].id;setTimeout((function(){return o(i)}),0)}}(e))},m=d&&c.map((function(e){return Object(Q.d)(Rt,{forwardRef:e.id===i?p:null,highlight:e,key:e.clientId,currentHighlight:i,onSetCurrentHighlight:o,videoPlayer:s,onDelete:handleDelete,onUpdate:function(t){return d(e.id,t)}})}));return Object(Q.d)("div",{css:VideoHighlights_styles(r)},a&&(Mt||(Mt=Object(Q.d)(cds_VideoHighlightsLoadingPlaceholder,null))),!a&&0===c.length&&Object(Q.d)(cds_VideoHighlightsPlaceholder,{helpText:Xe()("Click the Save Note button below the lecture when you want to capture a screen. You can also highlight and save lines from the transcript. Add your own notes to anything youve captured.")}),!a&&m,Object(Q.d)(ot.a,{role:"region","aria-live":"assertive","aria-atomic":!0,component:"span",className:"rc-A11yScreenReaderOnly"},l&&Object(Q.d)("span",null,l)),Object(Q.d)(ie.a,{container:!0,item:!0,className:"highlight-sidebar-header",css:Object(Q.c)(Vt||(Vt=B()(["\n          flex-flow: column;\n          vertical-align: center;\n          padding: var(--cds-spacing-200) 0 var(--cds-spacing-200);\n        "])))},_t||(_t=Object(Q.d)(ie.a,{item:!0},Object(Q.d)(Ht,null)))))}var Wt,qt=Object(W.memo)(VideoHighlights),Kt=t("mDxB"),Gt=t("M743"),Jt=t("p6CZ"),Zt=Object(W.createContext)({highlights:[],videoPlayer:void 0,loading:!0,notificationAnnouncement:"",onDelete:void 0,onUpdate:void 0,course:void 0,courseId:"",computedItem:void 0,itemMetadata:void 0,videoContent:void 0,selectedTrack:{},onCapture:void 0,tracks:void 0,onTrackSelected:void 0,hideVolunteerLink:!1,player:void 0,onSaveHighlight:void 0,onRemoveHighlight:void 0,selectedTab:"",setSelectedTab:void 0}),VideoHighlightManagerProvider_useVideoHighlightingManagerContext=function(){return Object(W.useContext)(Zt)},VideoHighlightManagerProvider_VideoHighlightingManagerProvider=function(e){var t=Object(W.useState)([]),n=H()(t,2),i=n[0],o=n[1],r=Object(W.useState)(!0),a=H()(r,2),s=a[0],c=a[1],l=Object(W.useState)(""),u=H()(l,2),d=u[0],p=u[1],m=cn.transcript.value,h=Object(W.useState)(m),f=H()(h,2),g=f[0],v=f[1],b=e.itemId,y=e.courseId,C=e.children,S=e.executeAction,k=e.videoPlayer,x=e.course,w=e.computedItem,T=e.itemMetadata,j=e.videoContent,P=e.selectedTrack,E=e.tracks,I=e.onTrackSelected,M=e.isSubtitleTranslationEnabled,R=(null==P?void 0:P.languageCode)||"";Object(W.useEffect)((function(){(function(){var e=N()(V()().mark((function _callee(){var e;return V()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R){t.next=7;break}return t.next=3,Object(Kt.d)({itemId:b,courseId:y,languageCode:R});case 3:e=t.sent,o(e),c(!1),S(setHighlightsCount,i.length);case 7:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}})()()}),[b,y,R,S]);var handleUpdateComplete=function(e,t){o((function(n){return n.sort(Kt.a).map((function(n){return n.id===e?t:n}))}))},L=function(){var e=N()(V()().mark((function _callee2(e){var t;return V()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.filter((function(t){return t.id!==e})),o(t),n.next=4,Object(Kt.c)({id:e});case 4:p(O()("Note deleted")),S(setHighlightsCount,t.length);case 6:case"end":return n.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=N()(V()().mark((function _callee3(e,t){var n;return V()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=i.map((function(e){return e.id===t.id?D()(D()({},t),{},{pendingUpdate:!0}):e})),o(n),r.next=4,Object(Kt.f)({itemId:b,courseId:y,languageCode:R,id:e,highlight:t});case 4:handleUpdateComplete(t.id,D()(D()({},t),{},{pendingUpdate:!1})),p(O()("Note updated"));case 6:case"end":return r.stop()}}),_callee3)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=N()(V()().mark((function _callee4(e){var t,n,r,a;return V()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=[e].concat(Ue()(i)),o(t),s.next=4,Object(Kt.b)({itemId:b,courseId:y,languageCode:R,highlight:e});case 4:n=s.sent,r=n.id,a=n.snapshotUrl,handleUpdateComplete(e.id,D()(D()({},e),{},{id:r,snapshotUrl:a,pendingCreate:!1})),S(setHighlightsCount,t.length);case 9:case"end":return s.stop()}}),_callee4)})));return function(t){return e.apply(this,arguments)}}();return W.createElement(Zt.Provider,{value:{highlights:i,videoPlayer:k,loading:s,notificationAnnouncement:d,onDelete:L,onUpdate:F,course:x,courseId:y,computedItem:w,itemMetadata:T,videoContent:j,selectedTrack:P,onCapture:A,tracks:E,onTrackSelected:I,hideVolunteerLink:!M,player:k,onSaveHighlight:A,onRemoveHighlight:L,selectedTab:g,setSelectedTab:v}},C)},Yt=400,Xt=530,$t=750,en=t("7bkI"),tn=t.n(en);null===(Wt=c.a.addDefaults)||void 0===Wt||Wt.call(c.a,[tn.a]);var nn,on,rn,an={get:function(e,t){return c.a.get("leeCoreLexFocusedLex",e,t)},preview:function(e,t,n){return c.a.preview("leeCoreLexFocusedLex",e,t)}},featureFlags_userLanguageSupportsLectureSummaries=function(){return"en"===Object(a.getLanguageCode)()},sn=Object(Be.b)({type:"BUTTON"})(Le.a),cn={transcript:{value:"TRANSCRIPT",trackingName:"focused_lex_lecture_tabs_transcript",justifyContent:"space-around",getLabel:function(){return O()("Transcript")}},notes:{value:"NOTES",trackingName:"focused_lex_lecture_tabs_notes",justifyContent:"space-around",getLabel:function(){return O()("Notes")}},downloads:{value:"DOWNLOADS",trackingName:"focused_lex_lecture_tabs_download",justifyContent:"flex-start",getLabel:function(){return O()("Downloads")}},discuss:{value:"DISCUSS",trackingName:"focused_lex_lecture_tabs_discuss",justifyContent:"space-around",getLabel:function(){return O()("Discuss")}},lectureSummary:{value:"LECTURE_SUMMARY",trackingName:"focused_lex_lecture_tabs_lecture_summary",justifyContent:"space-around",getLabel:function(){return O()("Lecture Summary")}}},ln=["transcript","notes","downloads","discuss","lectureSummary"],un=["transcript","downloads","discuss"],dn={tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(Q.c)(nn||(nn=B()(["\n      "," {\n        position: ",";\n        top: ","px;\n        z-index: 3;\n        background-color: var(--cds-color-neutral-background-primary);\n      }\n    "])),te.a.up("md"),e?"sticky":"static",e)},tabPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Object(Q.c)(on||(on=B()(["\n      position: ",";\n      top: ","px;\n      display: flex;\n      flex-wrap: nowrap;\n      justify-content: ",";\n      padding-top: var(--cds-spacing-200);\n      min-height: calc(100vh + ","px);\n\n      & .rc-TranscriptHighlightButton {\n        z-index: 1;\n      }\n    "])),e?"sticky":"static",e+52,t,308)},overrideTabWrapperStyles:function(){return Object(Q.c)(rn||(rn=B()(["\n    .cds-tab-wrapper {\n      flex-direction: row-reverse;\n    }\n\n    .cds-tab-wrapper .cds-tag-status {\n      margin-left: var(--cds-spacing-100);\n      margin-right: 0;\n    }\n\n    // CDS tabs automatically have a max-width of 160px at the sm breakpoint, so we want to override that\n    // in order to accomodate the maximum text resize scale for accessibility\n    "," {\n      max-width: max-content;\n    }\n  "])),te.a.down("xs"))}},LectureTabs_LectureTabs=function(e){var t=e.isLoggedIn,n=e.stickyTop,i=e.transcriptTabContent,o=e.discussTabContent,r=e.downloadTabContent,a=e.notesTabContent,s=e.lectureSummaryTabContent,c=e.notifyOnTabChange,l=e.itemSummaryHtml,u=e.courseId,d={transcript:i,discuss:o,notes:a,downloads:r,lectureSummary:s},p=t?ln:un,m=function(e){return an.get("showLectureSummary",{course_id:e})&&featureFlags_userLanguageSupportsLectureSummaries()}(u),h=p.filter((function(e){return!!d[e]&&("lectureSummary"===e&&m&&l||("transcript"===e||"notes"===e||"downloads"===e||"discuss"===e))})),f=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),g=f.selectedTab,v=f.setSelectedTab,b=Object(Q.d)(De.a,{variant:"status",priority:"primary",color:"highlight1"},O()("New"));return Object(Q.d)(Fe.a,{value:g},Object(Q.d)(He.a,{variant:"section","aria-label":O()("Related lecture content tabs"),onChange:function(e){null==v||v(e),null==c||c()},css:dn.tabs(n)},h.map((function(e){return Object(Q.d)(sn,{label:cn[e].getLabel(),value:cn[e].value,trackingName:cn[e].trackingName,key:e,icon:"lectureSummary"===e?b:void 0,css:dn.overrideTabWrapperStyles})}))),h.map((function(e){return Object(Q.d)(Ae.a,{value:cn[e].value,css:dn.tabPanel(n,cn[e].justifyContent),key:e},d[e])})))},pn=t("4fna"),mn=t("VTx5"),hn=function(e){function RecordFullStoryForVideo(){return e.apply(this,arguments)||this}tt()(RecordFullStoryForVideo,e);var t=RecordFullStoryForVideo.prototype;return t.componentDidMount=function(){var e,t=this.props,n=t.courseSlug,i=t.computedItem,o=t.autoplay,r=t.isVideoHighlightingEnabled,a=i.timeCommitment,s=i.id,c=i.contentSummary,l=i.weekNumber,u=Object(ee.b)().external_id,d="lecture"===(null==c?void 0:c.typeName)&&!(null==c||null===(e=c.definition)||void 0===e||!e.hasInVideoAssessment),p=Object(ue.b)();(this.isExperimentEnabled()||p)&&(pn.a.init(),pn.a.set({courseSlug:n,itemId:s,weekNumber:l,autoplay:o,timeCommitment:a,includesInVideoAssessment:d,isVideoHighlightingEnabled:r,externalId:u,isCoachSuperuser:p}))},t.componentWillUnmount=function(){(this.isExperimentEnabled()||Object(ue.b)())&&pn.a.endSession()},t.isExperimentEnabled=function(){return this.props.isVideoHighlightingEnabled?mn.a.get("enableVideoHighlightsFullStory"):mn.a.get("enableVideoLectureFullStory")},t.render=function(){return this.props.children},RecordFullStoryForVideo}(W.Component);hn.defaultProps={isVideoHighlightingEnabled:!1};var fn,gn,vn,bn,yn,Cn=hn,Sn=t("yr8M"),kn=t("53mQ"),xn=t("Q64i"),wn=t.n(xn),On=(t("Ht4C"),function(e){var t=e.isLightTheme,n=We()("rc-ShareCTADefault",{"light-theme":t}),i=t?"#FFFFFF":"#2A73CC";return W.createElement("div",{className:n},W.createElement("div",{className:"rc-ShareCTADefault__button-icon"},W.createElement(kn.a,{isThemeDark:!t,size:12,strokeWidth:2,stroke:i,color:i,suppressTitle:!0})),W.createElement("span",{className:"rc-ShareCTADefault__button-text"},wn()("Share")))}),Tn=t("uKqt"),jn=t("fsNN"),Pn=t("yh+z"),En=768,In=Object(Sn.a)((function(){return Promise.all([t.e("allStyles"),t.e("asyncCommonJS"),t.e(95)]).then(t.bind(null,"63Zb"))})),Mn=function(e){function ShareButtonWithModal(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.handleButtonClick=function(e){var n=t.props.onSocialButtonClick;n&&n(e),window.innerWidth<=En&&window.navigator&&"share"in navigator?t.nativeMobileShare():t.setState((function(){return{showModal:!0}}))},t.handleCloseModal=function(){t.setState((function(){return{showModal:!1}}))},t.nativeMobileShare=function(){var e,n,i=t.props,o=i.captions,r=i.targetShareLink,a=i.customShareLink,s=a||r,c=null==o?void 0:null===(e=o.nativeMobileTitle)||void 0===e?void 0:e.call(o,s),l=null==o?void 0:null===(n=o.nativeMobileMessage)||void 0===n?void 0:n.call(o,s);navigator.share({url:a||r,title:c||document.title,text:l||""}).catch((function(e){if("AbortError"!==e.name)throw e}))},t}tt()(ShareButtonWithModal,e);var t=ShareButtonWithModal.prototype;return t.componentDidMount=function(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.search.includes(Tn.h)&&this.setState((function(){return{showModal:!0}}))},t.render=function(){var e=this.props,t=e.rootClassName,n=e.style,i=e.shareLink,o=e.captions,r=e.utmContentParam,a=e.utmMediumParam,s=e.utmCampaignParam,c=e.utmProductParam,l=e.children,u=e.useCustomUrl,d=e.title,p=e.description,m=e.disableDescription,h=e.previewComponent,f=e.extraQueryParams,g=e.getVideoTimeInSeconds,v=e.titleComponent,b=this.state.showModal,y=We()("rc-ShareButtonWithModal",t);return W.createElement("div",{className:y,style:n,"data-e2e":"universal-share-cta"},W.createElement(Pt.a,{"aria-label":d,trackingName:"universal_sharing_cta",onClick:this.handleButtonClick,tabIndex:-1,trackMouseEnters:!0},l||fn||(fn=W.createElement(On,null))),b&&W.createElement(In,{handleCloseModal:this.handleCloseModal,shareLink:i,captions:o,utmContentParam:r,utmMediumParam:a,utmCampaignParam:s,utmProductParam:c,extraQueryParams:f,useCustomUrl:u,title:d,description:p,disableDescription:m,previewComponent:h,initialVideoTimeInSeconds:g&&g(),titleComponent:v}))},ShareButtonWithModal}(W.Component),Vn=Object(j.b)(Object(Pn.a)(Tn.g),Object(jn.a)())(Mn),_n=t("ghjH"),ShareCTAV2=function(e){var t=e.buttonText,n=e.isDark,i=n?"#FFFFFF":"#0056D2",o=n?"ghostInvert":"ghost";return Object(Q.d)(ut.a,{"data-testid":"ShareCTAV2",variant:o,size:"small",iconPosition:"before",icon:Object(Q.d)(_n.a,{size:"small",stroke:i,strokeWidth:".25"}),className:"rc-ShareCTAV2"},t||wn()("Share"))},Rn=Object(Nt.a)((function(e){var t,n;return{protocol:null===(t=e.location)||void 0===t?void 0:t.protocol,hostname:null===(n=e.location)||void 0===n?void 0:n.hostname,courseSlug:e.params.courseSlug,itemId:e.params.item_id,slug:e.params.slug}}))((function(e){var t=e.isDark,n=e.protocol,i=e.hostname,o=e.courseSlug,r=e.itemId,a=e.slug,s=(new m.a).setProtocol(n).setHost(i).setPath("/lecture/".concat(o,"/").concat(a,"-").concat(r)).toString();return W.createElement(Vn,I()({},e,{shareLink:s}),W.createElement(ShareCTAV2,{isDark:t}))})),Nn=t("mnBx"),Ln=t("KESP"),Dn=(t("wi9P"),function(e){function VideoMiniControls(t){var n;return(n=e.call(this,t)||this).handlePlay=function(){n.setState({playing:!0})},n.handlePause=function(){n.setState({playing:!1})},n.handleToggle=function(){var e=n.props.videoPlayer;e.paused()?e.play():e.pause()},n.state={playing:!t.videoPlayer.paused()},n}tt()(VideoMiniControls,e);var t=VideoMiniControls.prototype;return t.componentDidMount=function(){var e=this.props.videoPlayer;e.on("play",this.handlePlay),e.on("pause",this.handlePause)},t.componentWillUnmount=function(){var e=this.props.videoPlayer;e.off("play",this.handlePlay),e.off("pause",this.handlePause)},t.render=function(){var e=this.state.playing,t=e?"pause_mini_video":"play_mini_video";return W.createElement(Pt.a,{trackingName:t,className:"rc-VideoMiniControls",onClick:this.handleToggle,"aria-label":O()("Mini video player")},W.createElement("div",{className:"video-mini-actions"},!e&&W.createElement(Ln.a,{title:O()("Play"),size:30,color:"#fff"}),e&&W.createElement(Nn.a,{title:O()("Pause"),size:30,color:"#fff"})))},VideoMiniControls}(W.Component)),Fn=(t("RY+i"),992),Hn=function(e){function VideoMiniPlayer(t){var n;return(n=e.call(this,t)||this).handleIVQVisible=function(){n.setState({isIVQVisible:!0})},n.handleIVQHidden=function(){n.setState({isIVQVisible:!1})},n.handleTimeUpdate=function(){var e=n.state.videoEnded,t=n.props.videoPlayer;t&&(t.ended()?e||n.setState({videoEnded:!0}):e&&n.setState({videoEnded:!1}))},n.handleScroll=function(){n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout((function(){var e,t,i=n.state.isMainPlayerHidden,o=n.props.parentCb;if(n.getIsMainPlayerHidden())i||(n.setState({isMainPlayerHidden:!0}),void 0!==o&&o(!1),null===(e=(t=n.props).onMiniPlayerShow)||void 0===e||e.call(t,!1));else if(i){var r,a;n.setState({isMainPlayerHidden:!1}),void 0!==o&&o(!0),null===(r=(a=n.props).onMiniPlayerShow)||void 0===r||r.call(a,!0)}n.timeoutId=null}),5)},n.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},n.getIsMainPlayerHidden=function(){var e=n.props.videoRegion,t=n.getShowMiniPlayer(),i=n.getScrollContainer();return(i?i.scrollTop:0)>=(t?n.videoPlaceholder?n.videoPlaceholder.getBoundingClientRect().height:500:e?e.getBoundingClientRect().height:500)},n.getShowMiniPlayer=function(){var e,t=n.state,i=t.isMainPlayerHidden,o=t.isIVQVisible,r=(null===(e=window)||void 0===e?void 0:e.innerWidth)>=Fn;return i&&!o&&r},n.attachVideoPlayerListeners=function(e){e&&(e.on("timeupdate",n.handleTimeUpdate),e.emitter.on("videoQuizView.hidden",n.handleIVQHidden),e.emitter.on("videoQuizView.visible",n.handleIVQVisible))},n.detachVideoPlayerListeners=function(e){e&&(e.off("timeupdate",n.handleTimeUpdate),e.emitter.off("videoQuizView.hidden",n.handleIVQHidden),e.emitter.off("videoQuizView.visible",n.handleIVQVisible))},n.timeoutId=null,n.state={videoEnded:!1,isIVQVisible:!1,isMainPlayerHidden:!1},n}tt()(VideoMiniPlayer,e);var t=VideoMiniPlayer.prototype;return t.componentDidMount=function(){var e,t=this.props.videoPlayer,n=this.getScrollContainer(),i=!!((null===(e=window)||void 0===e?void 0:e.innerWidth)>Fn);n&&i&&n.addEventListener("scroll",this.handleScroll),t&&this.attachVideoPlayerListeners(t)},t.componentWillReceiveProps=function(e){var t=this.props,n=t.videoPlayer,i=t.hasModalOpen;n&&!e.videoPlayer?this.detachVideoPlayerListeners(n):!n&&e.videoPlayer&&this.attachVideoPlayerListeners(e.videoPlayer),n&&i&&n.pause()},t.componentWillUnmount=function(){var e=this.props.videoPlayer,t=this.getScrollContainer();t&&t.removeEventListener("scroll",this.handleScroll),e&&this.detachVideoPlayerListeners(e)},t.render=function(){var e=this,t=this.props,n=t.children,i=t.layoutMode,o=t.videoRegion,r=t.videoPlayer,a=this.state.videoEnded,s=this.getShowMiniPlayer(),c="fill"===i?{width:"100%",height:"100%"}:{};return W.createElement("div",{className:We()("rc-VideoMiniPlayer",{mini:s}),style:c},W.createElement("div",{className:"video-main-player-container",style:c},n),s&&o&&W.createElement("div",{ref:function(t){e.videoPlaceholder=t},className:"video-placeholder",style:{width:o.getBoundingClientRect().width,height:o.getBoundingClientRect().height}}),s&&r&&!a&&W.createElement(Dn,{videoPlayer:r}))},VideoMiniPlayer}(W.Component),An=t("Zexf"),Bn=function(){function VideoContent(e){var t=e.videoId,n=e.sources,i=e.posters,o=e.subtitles,r=e.subtitlesVtt,a=e.subtitlesTxt,s=e.itemMetadata,c=e.hlsSource,l=e.disableSkippingForward,u=e.trimmedStartTimeSeconds,d=e.trimmedDurationSeconds;this.videoId=t,this.sources=n,this.posters=i,this.subtitles=o,this.subtitlesVtt=r,this.subtitlesTxt=a,this.itemMetadata=s,this.name=s.get("name"),this.disableSkippingForward=l,this.trimmedStartTimeSeconds=u,this.trimmedDurationSeconds=d,this.hlsSource=c}var e=VideoContent.prototype;return e.getHlsSource=function(){return this.hlsSource},e.getSources=function(){return this.getSourcesForResolution(ae.d.defaultNormalBandwidthVideoPlayerResolution)},e.getSourcesForResolution=function(e){return this.sources[e]},e.getPosterForResolution=function(e){return this.posters[e]},e.getCaptionForLanguage=function(e){return this.subtitles[e]},e.getSubtitlesUrl=function(e,t){var n=this[e][t];return n&&n.url},e.getSubtitlesLabel=function(e,t){var n=this[e][t];return n&&n.label},e.getTrimmedStartTime=function(){return this.trimmedStartTimeSeconds},e.getTrimmedDuration=function(){return this.trimmedDurationSeconds},VideoContent}(),zn=t("QILm"),Un=t.n(zn),Qn=t("k8Y/"),Wn=t.n(Qn),qn=t("bt/X"),Kn=t.n(qn),Gn=t("J2m7"),Jn=t.n(Gn),Zn=t("ZwCU"),Yn=t.n(Zn),Xn=t("Ji/E"),$n=t("ct0W"),ei=t("nNSt"),ti=t("kyt0"),ni=t("80dD"),ii=t.n(ni),oi={notificationContainer:Object(Q.c)(gn||(gn=B()(["\n    padding: var(--cds-spacing-100) var(--cds-spacing-200);\n    top: 0;\n    z-index: 1000;\n    position: absolute;\n    gap: var(--cds-spacing-200);\n    border-radius: 3px;\n    background: var(--cds-color-neutral-primary, #1f1f1f);\n    margin-top: var(--cds-spacing-200);\n    left: 50%;\n    transform: translate(-50%);\n  "]))),notificationText:Object(Q.c)(vn||(vn=B()(["\n    color: var(--cds-color-neutral-primary-invert, #fff);\n    white-space: nowrap;\n  "]))),closeButton:Object(Q.c)(bn||(bn=B()(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: var(--cds-spacing-100);\n    padding: 0;\n    border: none;\n    width: 24px;\n    height: 24px;\n  "]))),closeIcon:Object(Q.c)(yn||(yn=B()(["\n    vertical-align: middle;\n    padding-bottom: var(--cds-spacing-50);\n  "])))},learning_effort_VideoSkippingDisabledNotification=function(e){var t=e.onDismiss;return Object(Q.d)(ie.a,{css:oi.notificationContainer},Object(Q.d)(st.a,{component:"p",css:oi.notificationText},ii()("Skipping forward is only available on video sections you have already watched."),Object(Q.d)("button",{type:"button",css:oi.closeButton,onClick:t},Object(Q.d)(ti.a,{size:"medium",css:oi.closeIcon}))))},ri=t("wM/7"),ai=t("vbpD"),si=t("+rcu"),ci=t("k4cE"),li=t("E4RX"),ui=t("mHyk"),di=t("lSNA"),pi=t.n(di),mi=t("HOoY"),hi=t("k8gO"),fi={"video_progress.not_found":["playback_rate","subtitle_language","version","tech","volume"],"change.subtitles":["playback_rate","subtitle_language","version","tech","volume"],"volume.change":["playback_rate","subtitle_language","version","tech","volume"],"resolution.change":["resolution","version","tech"],playback_tech:["playback_rate","subtitle_language","version","tech","volume"],heartbeat:["playback_rate","subtitle_language","version","tech","volume"],joining:["playback_rate","version","tech","resolution","session_id"],joined:["playback_rate","version","tech","resolution","session_id"],wait_metrics:["playback_rate","version","tech","resolution","session_id"]},AnalyticsMetadataFetcher_getDataByKeys=function(e,t){var n=function(e){return t=e.options_,o=t.nextItemMetadataOrItemGroup,r=t.title,a=t.courseId,s=t.itemId,c=t.moduleId,l=t.moduleName,{item_id:s,course_id:a,item_name:r,lesson_id:t.lessonId,lesson_name:t.lessonName,module_id:c,module_name:l,open_course_slug:ae.c,session_id:Object(hi.a)(),video_name:r,version:2,linked_item_id:o?o.getId():"",linked_item_name:o?o.getName():"",timecode:Math.min(e.currentTime(),e.duration())||0,playback_rate:e.playbackRate(),volume:e.muted()?0:e.volume(),resolution:e.resolution(),tech:e.tech_&&"Html5"===e.tech_.constructor.name?"html5":"flash",subtitle_language:(n=e.textTracks().tracks_,i=n?n.find((function(e){return"showing"===e.mode})):null,i?i.language:"")};var t,n,i,o,r,a,s,c,l}(e);return t.reduce((function(e,t){return D()(D()({},e),{},pi()({},t,n[t]))}),{})},getTrackingDataForVideoEvent=function(e,t){return AnalyticsMetadataFetcher_getDataByKeys(e,fi[t]||[])},AnalyticsMetadataFetcher_createVideoEventTracker=function(e,t){var n=mi.a.makeTracker({namespace:e,include:AnalyticsMetadataFetcher_getDataByKeys(t,["open_course_slug","video_name","course_id","item_id","item_name","lesson_id","lesson_name","module_id","module_name","timecode"])});return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e,D()(D()({},getTrackingDataForVideoEvent(t,e)),i))}},gi=function(e){function VideoAnalytics(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handleVideoProgressEvent=function(){t.props.videoProgress||t.track("video_progress.not_found")},t.basicEvents={autoplaychange:"autoplay.change",joining:"joining",mute:"mute",pause:"pause",play:"play",seeked:"seek",subtitleschange:"change.subtitles",unmute:"unmute",waiting:"waiting"},t.track=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.player,o=t.context._eventData.namespace.app,r=AnalyticsMetadataFetcher_createVideoEventTracker(o,i);r(e,D()(D()({},getTrackingDataForVideoEvent(i,e)),n))},t.trackHandler=function(e){return function(n,i){t.track(e,i)}},t}tt()(VideoAnalytics,e);var t=VideoAnalytics.prototype;return t.componentDidMount=function(){var e=this,t=this.props.player;Object.keys(this.basicEvents).forEach((function(n){t.on(n,e.trackHandler(e.basicEvents[n]))})),t.one("play",this.trackHandler("start")),t.ready(this.trackHandler("playback_tech")),t.on("waitmetrics",(function(t){return e.track("wait_metrics",{play_duration:t.playDuration,wait_duration:t.waitDuration,wait_count:t.waitCount})})),t.on("fullscreenchange",(function(){return e.track(t.isFullscreen()?"fullscreen.open":"fullscreen.close")})),t.emitter.on("heartbeat:30000",this.handleVideoProgressEvent),t.emitter.on("heartbeat:5000",this.trackHandler("heartbeat")),t.emitter.once("joined",(function(t){var n=t.joinDuration;return e.track("joined",{join_duration:n})}))},t.componentWillUnmount=function(){var e=this.props.player;Object.keys(this.basicEvents).forEach((function(t){return e.off(t)})),e.off("play"),e.off("waitmetrics"),e.emitter.off("heartbeat:30000"),e.emitter.off("heartbeat:5000")},t.render=function(){var e=this.props.children;return e||null},VideoAnalytics}(W.Component);gi.contextTypes={_eventData:Y.a.object};var vi,bi=t("80iO"),yi=t("cAeq"),Ci=t("N8J5"),Si=t.n(Ci),ki={fullscreenToggleTooltipWrapper:Object(Q.c)(vi||(vi=B()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),te.a.down("xs"))};var xi,components_FullscreenToggle=function(e){var t=ge.b.isFullScreen(),n=t?Si()("Exit full Screen"):Si()("Full Screen");return Object(Q.d)(yi.c,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:n,css:ki.fullscreenToggleTooltipWrapper},Object(Q.d)("button",{type:"button",onClick:function(){e.onChangeFullScreen(t)},className:We()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":n,"aria-expanded":t},Object(Q.d)("span",{className:We()("cif-2x","cif-fw",{"cif-expand":!t,"cif-compress":t})}),Object(Q.d)("span",{className:"vjs-control-text"}," ",n," ")))},wi={fullscreenToggleTooltipWrapper:Object(Q.c)(xi||(xi=B()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .rc-FullscreenToggle {\n      color: #dedede;\n    }\n  "])),te.a.down("xs"))};var Oi,Ti,ji,Pi,Ei,Ii,Mi,Vi,_i,Ri,Ni,Li,Di,Fi,Hi,Ai,Bi,zi,Ui,Qi,Wi,qi,Ki,Gi,Ji,Zi,Yi,Xi,$i,eo,to,no,io,oo,ro,ao,so,co,lo,uo,po,mo,ho,fo,go,vo,bo,yo,Co,So,ko,xo,wo,Oo,To,jo,Po,Eo,Io,Mo,Vo,_o,Ro,No,Lo,Do,Fo,components_IosFullscreenToggle=function(e){var t=e.player,n=e.trackV3,i=t.isFullscreen(),o=i?Si()("Exit full Screen"):Si()("Full Screen");return Object(Q.d)(yi.c,{className:"fullscreen-toggle-tooltip-wrapper",placement:"top",message:o,css:wi.fullscreenToggleTooltipWrapper},Object(Q.d)("button",{type:"button",onClick:function(){i?t.exitFullscreen():t.requestFullscreen(),n("video_full_screen",{fullscreen:!i})},className:We()("rc-FullscreenToggle","vjs-button","c-vjs-button","vjs-control","c-video-control","c-fullscreen-control","horizontal-box","align-items-absolute-center"),"aria-label":o,"aria-expanded":i},Object(Q.d)("span",{className:We()("cif-2x","cif-fw",{"cif-expand":!i,"cif-compress":i})}),Object(Q.d)("span",{className:"vjs-control-text"}," ",o," ")))},Ho=["width","height"],svg_PauseSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,Ho);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Oi||(Oi=W.createElement("path",{d:"M17.5002 22.1668C16.8585 22.1668 16.3092 21.9384 15.8522 21.4814C15.3953 21.0245 15.1668 20.4752 15.1668 19.8335V8.16683C15.1668 7.52516 15.3953 6.97586 15.8522 6.51891C16.3092 6.06197 16.8585 5.8335 17.5002 5.8335H19.8335C20.4752 5.8335 21.0245 6.06197 21.4814 6.51891C21.9384 6.97586 22.1668 7.52516 22.1668 8.16683V19.8335C22.1668 20.4752 21.9384 21.0245 21.4814 21.4814C21.0245 21.9384 20.4752 22.1668 19.8335 22.1668H17.5002ZM8.16683 22.1668C7.52516 22.1668 6.97586 21.9384 6.51891 21.4814C6.06197 21.0245 5.8335 20.4752 5.8335 19.8335V8.16683C5.8335 7.52516 6.06197 6.97586 6.51891 6.51891C6.97586 6.06197 7.52516 5.8335 8.16683 5.8335H10.5002C11.1418 5.8335 11.6911 6.06197 12.1481 6.51891C12.605 6.97586 12.8335 7.52516 12.8335 8.16683V19.8335C12.8335 20.4752 12.605 21.0245 12.1481 21.4814C11.6911 21.9384 11.1418 22.1668 10.5002 22.1668H8.16683ZM17.5002 19.8335H19.8335V8.16683H17.5002V19.8335ZM8.16683 19.8335H10.5002V8.16683H8.16683V19.8335Z",fill:"white"}))))},Ao=["width","height"],svg_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,Ao);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Ti||(Ti=W.createElement("path",{d:"M9.3335 20.0376V7.96257C9.3335 7.63201 9.45016 7.35493 9.6835 7.13132C9.91683 6.9077 10.1891 6.7959 10.5002 6.7959C10.5974 6.7959 10.6995 6.81048 10.8064 6.83965C10.9134 6.86882 11.0154 6.91257 11.1127 6.9709L20.621 13.0084C20.796 13.1251 20.9272 13.2709 21.0147 13.4459C21.1022 13.6209 21.146 13.8056 21.146 14.0001C21.146 14.1945 21.1022 14.3792 21.0147 14.5542C20.9272 14.7292 20.796 14.8751 20.621 14.9917L11.1127 21.0292C11.0154 21.0876 10.9134 21.1313 10.8064 21.1605C10.6995 21.1896 10.5974 21.2042 10.5002 21.2042C10.1891 21.2042 9.91683 21.0924 9.6835 20.8688C9.45016 20.6452 9.3335 20.3681 9.3335 20.0376ZM11.6668 17.9084L17.7918 14.0001L11.6668 10.0917V17.9084Z",fill:"white"}))))},Bo={modernTooltip:Object(Q.c)(ji||(ji=B()(["\n    background-color: black;\n    opacity: 0.8;\n    border-radius: var(--cds-border-radius-100);\n  "]))),message:Object(Q.c)(Pi||(Pi=B()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},components_ModernTooltipWrapper=function(e){var t=e.message,n=e.keyboardShortcut,i=e.placement,o=void 0===i?"top":i,r=e.className,a=void 0===r?"modern-tooltip-wrapper":r,s=e.offset,c=void 0===s?25:s,l=e.videoBoundaryElement,u=e.enableVideoPlayerModernization,d=e.children,p=Object(Q.d)(st.a,{component:"span",variant:"bodySecondary",color:"invertBody","data-testid":"modern-tooltip-message",css:Bo.message},t," ",n&&Object(Q.d)("strong",null,"(",n,")")),m=u?{message:p,tooltipCss:Bo.modernTooltip,offset:c,enableArrow:!1,boundaryElement:l,boundaryElementMargin:8}:{message:t};return Object(Q.d)(yi.c,I()({"data-testid":"modern-tooltip-wrapper",placement:o,tooltipClassName:a},m),d)},zo=t("u5HK"),Uo=t.n(zo),Qo={playToggleTooltipWrapper:Object(Q.c)(Ei||(Ei=B()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    // extra scope needed right now to override vjs style\n    .rc-PlayToggle {\n      position: relative;\n      text-align: center;\n      margin-top: 0;\n      margin-left: 1em;\n      margin-right: 0;\n      padding: 0;\n      color: #dedede;\n      height: 100%;\n      width: 3em;\n      flex: none;\n\n      .cif-play {\n        font-size: 1.6em;\n      }\n\n      .cif-pause {\n        font-size: 1.6em;\n      }\n    }\n  "])),te.a.down("xs"))},Wo=function(e){function PlayToggle(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={isPlaying:!1},t.onPlay=function(){t.setState({isPlaying:!0})},t.onPause=function(){t.setState({isPlaying:!1})},t.togglePlaying=function(){var e=t.state.isPlaying,n=t.props,i=n.player,o=n.trackV3;e?(i.pause(),o("video_pause",{})):(i.play(),o("video_play",{}))},t}tt()(PlayToggle,e);var t=PlayToggle.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({isPlaying:!e.paused()}),e.on("play",this.onPlay),e.on("pause",this.onPause)},t.componentWillUnmount=function(){var e=this.props.player;e.off("play",this.onPlay),e.off("pause",this.onPause)},t.render=function(){var e=this.state.isPlaying,t=this.props,n=t.enableVideoPlayerModernization,i=t.videoBoundaryElement,o=e?Uo()("Pause"):Uo()("Play"),r=o;return Object(Q.d)(components_ModernTooltipWrapper,{css:Qo.playToggleTooltipWrapper,className:"play-toggle-tooltip-wrapper",placement:"top",message:r,videoBoundaryElement:i,keyboardShortcut:"spacebar",offset:20,enableVideoPlayerModernization:n},Object(Q.d)("button",{type:"button",onClick:this.togglePlaying,className:We()("rc-PlayToggle"),"aria-label":o,"aria-disabled":!1},n?Object(Q.d)(W.Fragment,null,e?Ii||(Ii=Object(Q.d)(svg_PauseSvg,{width:28,height:28})):Mi||(Mi=Object(Q.d)(svg_PlayArrowSvg,{width:36,height:36}))):Object(Q.d)(W.Fragment,null,Object(Q.d)("span",{className:We()("cif-2x","cif-fw",{"cif-play":!e,"cif-pause":e})})),Object(Q.d)("span",{className:"vjs-control-text"}," ",o," ")))},PlayToggle}(W.Component),qo=["width","height"],svg_Forward10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,qo);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Forward10Svg"}),Vi||(Vi=W.createElement("path",{d:"M14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 13.7081 3.77708 12.3421 4.33125 11.0685C4.88542 9.79491 5.63403 8.68658 6.57708 7.74352C7.52014 6.80046 8.62847 6.05185 9.90208 5.49769C11.1757 4.94352 12.5417 4.66644 14 4.66644H14.175L13.1833 3.67477C12.95 3.44144 12.8382 3.16921 12.8479 2.8581C12.8576 2.54699 12.9694 2.27477 13.1833 2.04144C13.4167 1.8081 13.6938 1.68658 14.0146 1.67685C14.3354 1.66713 14.6125 1.77894 14.8458 2.01227L17.85 5.01644C18.0833 5.24977 18.2 5.52199 18.2 5.8331C18.2 6.14421 18.0833 6.41644 17.85 6.64977L14.8458 9.65394C14.6125 9.88727 14.3354 9.99908 14.0146 9.98935C13.6938 9.97963 13.4167 9.8581 13.1833 9.62477C12.9694 9.39144 12.8576 9.11921 12.8479 8.8081C12.8382 8.49699 12.95 8.22477 13.1833 7.99144L14.175 6.99977H14C11.725 6.99977 9.79514 7.79213 8.21042 9.37685C6.62569 10.9616 5.83333 12.8914 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 14.8359 22.2785 14.5588 22.5021 14.3352C22.7257 14.1116 23.0028 13.9998 23.3333 13.9998C23.6639 13.9998 23.941 14.1116 24.1646 14.3352C24.3882 14.5588 24.5 14.8359 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664ZM10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164Z",fill:"white"}))))},Ko=["width","height"],svg_Replay10Svg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,Ko);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"Replay10Svg"}),_i||(_i=W.createElement("path",{d:"M10.5 13.4164H9.625C9.37222 13.4164 9.16319 13.3338 8.99792 13.1685C8.83264 13.0032 8.75 12.7942 8.75 12.5414C8.75 12.2887 8.83264 12.0796 8.99792 11.9144C9.16319 11.7491 9.37222 11.6664 9.625 11.6664H11.375C11.6278 11.6664 11.8368 11.7491 12.0021 11.9144C12.1674 12.0796 12.25 12.2887 12.25 12.5414V17.7914C12.25 18.0442 12.1674 18.2532 12.0021 18.4185C11.8368 18.5838 11.6278 18.6664 11.375 18.6664C11.1222 18.6664 10.9132 18.5838 10.7479 18.4185C10.5826 18.2532 10.5 18.0442 10.5 17.7914V13.4164ZM14.5833 18.6664C14.2528 18.6664 13.9757 18.5546 13.7521 18.331C13.5285 18.1074 13.4167 17.8303 13.4167 17.4998V12.8331C13.4167 12.5025 13.5285 12.2255 13.7521 12.0019C13.9757 11.7782 14.2528 11.6664 14.5833 11.6664H16.9167C17.2472 11.6664 17.5243 11.7782 17.7479 12.0019C17.9715 12.2255 18.0833 12.5025 18.0833 12.8331V17.4998C18.0833 17.8303 17.9715 18.1074 17.7479 18.331C17.5243 18.5546 17.2472 18.6664 16.9167 18.6664H14.5833ZM15.1667 16.9164H16.3333V13.4164H15.1667V16.9164ZM14 25.6664C12.5417 25.6664 11.1757 25.3894 9.90208 24.8352C8.62847 24.281 7.52014 23.5324 6.57708 22.5894C5.63403 21.6463 4.88542 20.538 4.33125 19.2644C3.77708 17.9907 3.5 16.6248 3.5 15.1664C3.5 14.8359 3.61181 14.5588 3.83542 14.3352C4.05903 14.1116 4.33611 13.9998 4.66667 13.9998C4.99722 13.9998 5.27431 14.1116 5.49792 14.3352C5.72153 14.5588 5.83333 14.8359 5.83333 15.1664C5.83333 17.4414 6.62569 19.3713 8.21042 20.956C9.79514 22.5407 11.725 23.3331 14 23.3331C16.275 23.3331 18.2049 22.5407 19.7896 20.956C21.3743 19.3713 22.1667 17.4414 22.1667 15.1664C22.1667 12.8914 21.3743 10.9616 19.7896 9.37685C18.2049 7.79213 16.275 6.99977 14 6.99977H13.825L14.8167 7.99144C15.05 8.22477 15.1618 8.49699 15.1521 8.8081C15.1424 9.11921 15.0306 9.39144 14.8167 9.62477C14.5833 9.8581 14.3063 9.97963 13.9854 9.98935C13.6646 9.99908 13.3875 9.88727 13.1542 9.65394L10.15 6.64977C9.91667 6.41644 9.8 6.14421 9.8 5.8331C9.8 5.52199 9.91667 5.24977 10.15 5.01644L13.1542 2.01227C13.3875 1.77894 13.6646 1.66713 13.9854 1.67685C14.3063 1.68658 14.5833 1.8081 14.8167 2.04144C15.0306 2.27477 15.1424 2.54699 15.1521 2.8581C15.1618 3.16921 15.05 3.44144 14.8167 3.67477L13.825 4.66644H14C15.4583 4.66644 16.8243 4.94352 18.0979 5.49769C19.3715 6.05185 20.4799 6.80046 21.4229 7.74352C22.366 8.68658 23.1146 9.79491 23.6688 11.0685C24.2229 12.3421 24.5 13.7081 24.5 15.1664C24.5 16.6248 24.2229 17.9907 23.6688 19.2644C23.1146 20.538 22.366 21.6463 21.4229 22.5894C20.4799 23.5324 19.3715 24.281 18.0979 24.8352C16.8243 25.3894 15.4583 25.6664 14 25.6664Z",fill:"white"}))))},Go={seekButton:function(){return Object(Q.c)(Ri||(Ri=B()(["\n    margin-left: var(--cds-spacing-200);\n  "])))},right:Object(Q.c)(Ni||(Ni=B()(["\n    margin-right: auto;\n  "])))},SeekControls_SeekButton=function(e){var t=e.direction,n=e.seekTime,i=e.player,o=e.icon,r=e.enableVideoPlayerModernization,a=e.label,s=e.videoBoundaryElement,c=e.tooltipMessage,l=e.keyboardShortcut;return r?Object(Q.d)(components_ModernTooltipWrapper,{placement:"top",message:c,videoBoundaryElement:s,keyboardShortcut:l,enableVideoPlayerModernization:r},Object(Q.d)("button",{"aria-label":a,type:"button",onClick:function(){var e=i.currentTime()+t*n;i.currentTime(e)},css:Go.seekButton},o)):null},SeekControls_SeekForwardControl=function(e){var t=e.player,n=e.enableVideoPlayerModernization,i=e.videoBoundaryElement;return Object(Q.d)(SeekControls_SeekButton,{label:Si()("Seek Video Forward 10 seconds"),player:t,seekTime:10,direction:1,enableVideoPlayerModernization:n,icon:Li||(Li=Object(Q.d)(svg_Forward10Svg,{width:28,height:28})),videoBoundaryElement:i,tooltipMessage:Si()("Forward 10s"),keyboardShortcut:"right"})},SeekControls_SeekBackwardControl=function(e){var t=e.player,n=e.enableVideoPlayerModernization,i=e.videoBoundaryElement;return Object(Q.d)(SeekControls_SeekButton,{label:Si()("Seek Video Backward 10 seconds"),player:t,seekTime:10,direction:-1,enableVideoPlayerModernization:n,icon:Di||(Di=Object(Q.d)(svg_Replay10Svg,{width:28,height:28})),videoBoundaryElement:i,tooltipMessage:Si()("Backward 10s"),keyboardShortcut:"left"})},Jo={videoTimeDisplay:Object(Q.c)(Fi||(Fi=B()(["\n    height: 100%;\n    margin-right: auto;\n    margin-left: 10px;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),te.a.down("xs")),modernVideoTimeDisplay:Object(Q.c)(Hi||(Hi=B()(["\n    margin-left: var(--cds-spacing-200);\n    margin-right: 0;\n    height: auto;\n  "]))),currentTimeDisplay:Object(Q.c)(Ai||(Ai=B()(["\n    font-size: 14px;\n  "]))),timeSeparator:Object(Q.c)(Bi||(Bi=B()(["\n    font-size: 14px;\n    margin: 0 8px;\n  "]))),durationDisplay:Object(Q.c)(zi||(zi=B()(["\n    font-size: 14px;\n  "])))},Zo=function(e){function VideoTimeDisplay(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds;return e.player.currentTime()-n},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.convertSecondsToDisplay=function(e,t){if(!e||e<0)return t?"0 minutes 0 seconds":"0:00";var n="".concat(Math.floor(e/60)),i="".concat(Math.floor(e%60)).padStart(2,"0");return t?"".concat(n," minutes ").concat(i," seconds"):"".concat(n,":").concat(i)},t}tt()(VideoTimeDisplay,e);var t=VideoTimeDisplay.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange)},t.render=function(){var e=this.state,t=e.currentTime,n=e.duration,i=this.props.enableVideoPlayerModernization;if(null==t||null==n)return null;var o=Object(a.isRightToLeft)(Si.a.getLocale());return Object(Q.d)(W.Fragment,null,i?Object(Q.d)("div",{css:[Jo.videoTimeDisplay,Jo.modernVideoTimeDisplay]},Object(Q.d)(st.a,{component:"span",variant:"subtitleLarge",color:"invertBody"},Object(Q.d)("span",{className:"current-time-display","aria-label":Si()(this.convertSecondsToDisplay(t,!0))},this.convertSecondsToDisplay(t)),Ui||(Ui=Object(Q.d)("span",{className:"time-separator"}," / ")),Object(Q.d)("span",{className:"duration-display","aria-label":Si()(this.convertSecondsToDisplay(n,!0))},this.convertSecondsToDisplay(n)))):Object(Q.d)(W.Fragment,null,Object(Q.d)("div",{css:Jo.videoTimeDisplay,className:We()("rc-VideoTimeDisplay","horizontal-box","align-items-absolute-center"),style:{flexDirection:o?"row-reverse":"row"},"data-testid":"video-time-display"},Object(Q.d)("span",{css:Jo.currentTimeDisplay,className:"current-time-display","aria-label":Si()(this.convertSecondsToDisplay(t,!0))},this.convertSecondsToDisplay(t)),Object(Q.d)("span",{css:Jo.timeSeparator,className:"time-separator"},"/"),Object(Q.d)("span",{css:Jo.durationDisplay,className:"duration-display","aria-label":Si()(this.convertSecondsToDisplay(n,!0))},this.convertSecondsToDisplay(n)))))},VideoTimeDisplay}(W.Component),Yo={outerContainer:function(){return Object(Q.c)(Qi||(Qi=B()(["\n    padding: var(--cds-spacing-100);\n  "])))},circleAroundSvg:function(_,e){return Object(Q.c)(Wi||(Wi=B()(["\n    border-radius: 50%;\n    width: 21px;\n    height: 21px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    position: relative;\n    top: -50%;\n  "])),e?"var(--cds-color-white-0)":"var(--cds-color-grey-300)")},centerPill:function(_,e){return Object(Q.c)(qi||(qi=B()(["\n    width: 45px;\n    border-radius: 8px;\n    height: 10px;\n    background-color: var(--cds-color-grey-500);\n    display: flex;\n    ","\n  "])),e&&"justify-content: flex-end;")}},autoplay_standalone_ToggleSwitchStandalone=function(e){var t=Object(it.a)(),n=e.value,i=e.ariaLabel,o=e.className,r=e.offIcon,a=e.onIcon;return Object(Q.d)("button",{type:"button","aria-label":i,onClick:function(t){t.stopPropagation(),(0,e.onToggle)()},"aria-pressed":n,className:o,css:Yo.outerContainer},Object(Q.d)("div",{css:Yo.centerPill(t,n)},!n&&Object(Q.d)("div",{css:Yo.circleAroundSvg(t,!1)},r),n&&Object(Q.d)("div",{css:Yo.circleAroundSvg(t,!0)},a)))},Xo={tooltipWrapper:Object(Q.c)(Ki||(Ki=B()(["\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),te.a.down("xs"))},AutoplayToggleStandalone_AutoplayToggleStandalone=function(e){var t=e.value,n=e.handleToggleSwitchClick,i=Object(it.a)().palette,o=t?Si()("Autoplay is on"):Si()("Autoplay is off"),r=o;return Object(Q.d)(yi.c,{css:Xo.tooltipWrapper,placement:"top",message:o},Object(Q.d)(autoplay_standalone_ToggleSwitchStandalone,{ariaLabel:r,onToggle:n,value:t,className:We()("vjs-button","c-vjs-button","c-video-control","align-items-absolute-center"),offIcon:Object(Q.d)(Nn.a,{size:10,color:i.white,suppressTitle:!0,style:{position:"relative",left:"1px",top:"1px"}}),onIcon:Object(Q.d)(Ln.a,{size:10,color:i.gray[500],suppressTitle:!0,style:{position:"relative",left:"1px",top:"1px"}})}),Object(Q.d)("span",{className:"vjs-control-text"},r))},$o={namespace:{app:"open_course",page:"video"}},autoplay_standalone_AutoplayToggleStandalone=function(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,o=e.trackV3,r=Object(W.useState)(An.a.get("autoplay")),a=H()(r,2),s=a[0],c=a[1];Object(W.useEffect)((function(){var updateAutoplayUi=function(){return c(An.a.get("autoplay"))};return t(updateAutoplayUi),function(){n(updateAutoplayUi)}}),[t,n,i]);return Object(Q.d)(AutoplayToggleStandalone_AutoplayToggleStandalone,{value:s,handleToggleSwitchClick:function(){var e=!s;c(e),An.a.set("autoplay",e),i(),o&&o("video_autoplay",{autoplay:e}),function(e){var t={autoplay:e};mi.a.trackComponent($o,t,"autoplay_toggle_standalone","click")}(e)}})},er={namespace:{app:"open_course",page:"video"}},useAutoplayToggle_useAutoplayToggle=function(e){var t=e.subscribeToAutoplayChanges,n=e.unsubscribeFromAutoplayChanges,i=e.triggerAutoplayChangePlayerEvent,o=e.trackV3,r=Object(W.useState)(An.a.get("autoplay")),a=H()(r,2),s=a[0],c=a[1];Object(W.useEffect)((function(){var updateAutoplayUi=function(){return c(An.a.get("autoplay"))};return t(updateAutoplayUi),function(){n(updateAutoplayUi)}}),[t,n,i]);return{autoplay:s,handleToggleSwitchClick:function(){var e=!s;c(e),An.a.set("autoplay",e),i(),o&&o("video_autoplay",{autoplay:e}),function(e){var t={autoplay:e};mi.a.trackComponent(er,t,"autoplay_toggle_standalone","click")}(e)}}},tr=t("DzJC"),nr=t.n(tr),useSubtitleMenuControls_useSubtitleMenuControls=function(e){var t=e.player,n=e.defaultSubtitleLanguage,i=e.trackV3,o=Object(W.useState)(0),r=H()(o,2),a=r[0],s=r[1],c=Object(W.useState)(null),l=H()(c,2),u=l[0],d=l[1],p=Object(W.useState)([]),m=H()(p,2),h=m[0],f=m[1],g=Object(W.useCallback)((function(){var e=window.getComputedStyle(t.el()).height;s(.8*parseInt(e,10)||200)}),[t]),v=Object(W.useRef)(nr()(g,100)),b=Object(W.useCallback)((function(e){for(var n=t.textTracks().tracks_,i=0;i<n.length;i+=1){var o=n[i];"captions"===o.kind&&o.label===e.label?o.mode="showing":o.mode="disabled"}}),[t]),y=Object(W.useCallback)((function(){var e=((null==t?void 0:t.textTracks())||{}).tracks_;return(void 0===e?[]:e).filter((function(e){return"captions"===e.kind})).sort((function(e,t){var n=e.label.toUpperCase(),i=t.label.toUpperCase();return n<i?-1:n>i?1:0}))}),[t]);Object(W.useEffect)((function(){var e=v.current,getCurrentTrack=function(){return t.textTracks().tracks_.find((function(e){return"showing"===e.mode}))||null},onTrackChange=function(){d(getCurrentTrack())},onTrackLoad=function(){var e=t.textTracks().tracks_.find((function(e){return e.language===n}))||null,i=getCurrentTrack();!i&&e&&b(e),d(i),f(y())};return t.on("trackchange",onTrackChange),t.on("trackloaded",onTrackLoad),window.addEventListener("resize",e),g(),function(){t.off("trackchange",onTrackChange),t.off("trackloaded",onTrackLoad),window.removeEventListener("resize",e)}}),[u,n,y,t,g,b]);return{onSubtitleLanguageChoiceClick:function(e){var n;u&&(u.mode="disabled"),i("video_subtitle_option",{previousSubtitleLanguage:An.a.get("subtitleLanguage"),subtitleLanguage:e.language}),An.a.set("subtitleLanguage",e?e.language:"none"),b(e),d(e),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(n=null==u?void 0:u.language)&&void 0!==n?n:""})},onSubtitleOffClick:function(){var e;u&&(u.mode="disabled"),An.a.set("subtitleLanguage","none"),d(null),t.trigger("trackchange"),t.trigger("subtitleschange",{previousLanguage:null!==(e=null==u?void 0:u.language)&&void 0!==e?e:""})},currentTrack:u,tracks:h,subtitleMenuHeight:a}},ir=["234p","240p","270p","360p","540p","720p","1080p"],videoUtils_getDefaultVideoResolution=function(e){return x.includes(At.a.requestCountryCode)?"360p":e?"720p":"540p"},getVideoSource=function(e,t){var n=Object.keys(null!=e?e:{}).sort((function(e,t){return parseInt(t,10)-parseInt(e,10)}));return e[t]?e[t]:e[n[0]]},videoUtils_formatSourcesByResolution=function(e){var t={};return Object.entries(e).forEach((function(e){var n=H()(e,2),i=n[0],o=n[1];t[i]=Object.entries(o).map((function(e){var t=H()(e,2);return{type:t[0],src:t[1]}}))})),t},getResolutionNumber=function(e){if(!e)return-1;var t=parseInt(e,10);return isNaN(t)?-1:t},useVideoQualityControls_useVideoQualityControls=function(e){var t,n=e.player,i=e.trackV3,o=e.enableHls,r=null!==(t=si.a.preview("enableNewDefaultResolution"))&&void 0!==t&&t,a=n.resolution(),s=Object(W.useState)(a),c=H()(s,2),l=c[0],u=c[1],d=o?"auto":a,p=Object(W.useState)(d),m=H()(p,2),h=m[0],f=m[1],g=n.qualityLevels(),v=o?function(e){var t=[];return ir.forEach((function(n){e.levels_.find((function(e){return e.height===parseInt(n,10)}))&&t.push(n)})),t}(g):n.getSupportedResolutions();Object(W.useEffect)((function(){var onQualityLevelChange=function(e){var t=e.selectedIndex,n=function(e){var t=e.height,n="".concat(t,"p");return ir.includes(n)?n:""}(g[t]);n&&(u(n),An.a.set("resolution",n))},onResolutionChange=function(){var e=n?n.resolution():videoUtils_getDefaultVideoResolution(r);u(e),f(e),An.a.set("resolution",e)};return g.on("change",onQualityLevelChange),n.on("resolutionchange",onResolutionChange),function(){g.off("change",onQualityLevelChange),n.off("resolutionchange",onResolutionChange)}}),[r,n,g]);return{onIncreaseResolutionClick:function(e){e.stopPropagation();var t=getResolutionNumber(n.resolution());n.increaseResolution(),i&&i("video_resolution_increase",{previousResolution:t,resolution:getResolutionNumber(n.resolution())})},onDecreaseResolutionClick:function(e){e.stopPropagation();var t=getResolutionNumber(n.resolution());n.decreaseResolution(),i&&i("video_resolution_decrease",{previousResolution:t,resolution:getResolutionNumber(n.resolution())})},currentResolution:l,currentResolutionOption:h,supportedResolutions:v,onResolutionOptionClick:function(e){o?"auto"===e?function(e){for(var t=e.player,n=e.onAutoResolutionEnabled,i=t.qualityLevels(),o=0;o<i.length;o+=1)i[o].height&&(i[o].enabled=!0);n()}({player:n,onAutoResolutionEnabled:function(){f(e)}}):function(e){for(var t=e.player,n=e.resolutionOption,i=e.onResolutionSelected,o=t.qualityLevels(),r=o.selectedIndex,a=0;a<o.length;a+=1)a!==r&&(o[a].enabled=!1);var s=o.levels_.findIndex((function(e){return e.height===parseInt(n,10)}));o[s].enabled=!0,o.selectedIndex_=s,o.trigger({type:"change",selectedIndex:s}),-1!==r&&(o[r].enabled=!1),i()}({player:n,resolutionOption:e,onResolutionSelected:function(){f(e)}}):n.resolution(e)}}},or=t("VS/1"),rr=t("fVXl"),ar=["width","height"],svg_HighQualitySvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,ar);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Gi||(Gi=W.createElement("path",{d:"M14.75 15V15.75C14.75 15.9667 14.8208 16.1458 14.9625 16.2875C15.1042 16.4292 15.2833 16.5 15.5 16.5C15.7167 16.5 15.8958 16.4292 16.0375 16.2875C16.1792 16.1458 16.25 15.9667 16.25 15.75V15H17C17.2833 15 17.5208 14.9042 17.7125 14.7125C17.9042 14.5208 18 14.2833 18 14V10C18 9.71667 17.9042 9.47917 17.7125 9.2875C17.5208 9.09583 17.2833 9 17 9H14C13.7167 9 13.4792 9.09583 13.2875 9.2875C13.0958 9.47917 13 9.71667 13 10V14C13 14.2833 13.0958 14.5208 13.2875 14.7125C13.4792 14.9042 13.7167 15 14 15H14.75ZM7.5 13H9.5V14.25C9.5 14.4667 9.57083 14.6458 9.7125 14.7875C9.85417 14.9292 10.0333 15 10.25 15C10.4667 15 10.6458 14.9292 10.7875 14.7875C10.9292 14.6458 11 14.4667 11 14.25V9.75C11 9.53333 10.9292 9.35417 10.7875 9.2125C10.6458 9.07083 10.4667 9 10.25 9C10.0333 9 9.85417 9.07083 9.7125 9.2125C9.57083 9.35417 9.5 9.53333 9.5 9.75V11.5H7.5V9.75C7.5 9.53333 7.42917 9.35417 7.2875 9.2125C7.14583 9.07083 6.96667 9 6.75 9C6.53333 9 6.35417 9.07083 6.2125 9.2125C6.07083 9.35417 6 9.53333 6 9.75V14.25C6 14.4667 6.07083 14.6458 6.2125 14.7875C6.35417 14.9292 6.53333 15 6.75 15C6.96667 15 7.14583 14.9292 7.2875 14.7875C7.42917 14.6458 7.5 14.4667 7.5 14.25V13ZM14.5 13.5V10.5H16.5V13.5H14.5ZM4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM4 18H20V6H4V18Z",fill:"white"}))))},sr=["width","height"],svg_PlayCircleSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,sr);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Ji||(Ji=W.createElement("path",{d:"M10.65 15.75L15.525 12.625C15.7583 12.475 15.875 12.2667 15.875 12C15.875 11.7333 15.7583 11.525 15.525 11.375L10.65 8.25C10.4 8.08333 10.1458 8.07083 9.8875 8.2125C9.62917 8.35417 9.5 8.575 9.5 8.875V15.125C9.5 15.425 9.62917 15.6458 9.8875 15.7875C10.1458 15.9292 10.4 15.9167 10.65 15.75ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"white"}))))},cr=["width","height"],svg_PlaybackSpeedSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,cr);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Zi||(Zi=W.createElement("path",{d:"M10.65 15.7499L15.525 12.6249C15.7583 12.4749 15.875 12.2666 15.875 11.9999C15.875 11.7333 15.7583 11.5249 15.525 11.3749L10.65 8.24992C10.4 8.08326 10.1458 8.07076 9.8875 8.21242C9.62916 8.35409 9.5 8.57493 9.5 8.87493V15.1249C9.5 15.4249 9.62916 15.6458 9.8875 15.7874C10.1458 15.9291 10.4 15.9166 10.65 15.7499ZM3.025 12.9999C3.30833 12.9999 3.5625 13.0916 3.7875 13.2749C4.0125 13.4583 4.16666 13.6916 4.25 13.9749C4.35 14.3583 4.47083 14.7208 4.6125 15.0624C4.75416 15.4041 4.91666 15.7416 5.1 16.0749C5.25 16.3249 5.3125 16.5916 5.2875 16.8749C5.2625 17.1583 5.15 17.3999 4.95 17.5999C4.76666 17.7833 4.54166 17.8666 4.275 17.8499C4.00833 17.8333 3.8 17.7166 3.65 17.4999C3.28333 16.9833 2.975 16.4291 2.725 15.8374C2.475 15.2458 2.28333 14.6333 2.15 13.9999C2.1 13.7333 2.1625 13.4999 2.3375 13.2999C2.5125 13.0999 2.74166 12.9999 3.025 12.9999ZM4.95 6.39992C5.15 6.59992 5.25833 6.84159 5.275 7.12492C5.29166 7.40826 5.23333 7.66659 5.1 7.89992C4.91666 8.23326 4.75416 8.57493 4.6125 8.92493C4.47083 9.27493 4.35 9.64159 4.25 10.0249C4.16666 10.3083 4.0125 10.5416 3.7875 10.7249C3.5625 10.9083 3.30833 10.9999 3.025 10.9999C2.74166 10.9999 2.5125 10.8958 2.3375 10.6874C2.1625 10.4791 2.10833 10.2416 2.175 9.97493C2.30833 9.34159 2.5 8.72909 2.75 8.13742C3 7.54576 3.3 6.99159 3.65 6.47492C3.8 6.25826 4.00833 6.14576 4.275 6.13742C4.54166 6.12909 4.76666 6.21659 4.95 6.39992ZM6.35 19.0249C6.55 18.8083 6.79583 18.6916 7.0875 18.6749C7.37916 18.6583 7.65 18.7249 7.9 18.8749C8.23333 19.0583 8.57083 19.2249 8.9125 19.3749C9.25416 19.5249 9.60833 19.6499 9.975 19.7499C10.2583 19.8333 10.4917 19.9833 10.675 20.1999C10.8583 20.4166 10.95 20.6666 10.95 20.9499C10.95 21.2333 10.8458 21.4583 10.6375 21.6249C10.4292 21.7916 10.1917 21.8499 9.925 21.7999C9.29166 21.6666 8.69583 21.4749 8.1375 21.2249C7.57916 20.9749 7.03333 20.6833 6.5 20.3499C6.26666 20.1999 6.1375 19.9916 6.1125 19.7249C6.0875 19.4583 6.16666 19.2249 6.35 19.0249ZM11 3.04992C11 3.33326 10.9125 3.58326 10.7375 3.79992C10.5625 4.01659 10.3333 4.16659 10.05 4.24992C9.66666 4.34992 9.3 4.47076 8.95 4.61242C8.6 4.75409 8.25833 4.92492 7.925 5.12492C7.675 5.27492 7.40416 5.33742 7.1125 5.31242C6.82083 5.28742 6.575 5.17492 6.375 4.97492C6.175 4.77492 6.0875 4.53742 6.1125 4.26242C6.1375 3.98742 6.26666 3.77492 6.5 3.62492C7.03333 3.29159 7.5875 3.00409 8.1625 2.76242C8.7375 2.52076 9.34166 2.33326 9.975 2.19992C10.2417 2.14992 10.4792 2.20826 10.6875 2.37492C10.8958 2.54159 11 2.76659 11 3.04992ZM20 11.9999C20 10.1166 19.4208 8.45409 18.2625 7.01242C17.1042 5.57076 15.625 4.63326 13.825 4.19992C13.575 4.13326 13.375 3.99159 13.225 3.77492C13.075 3.55826 13 3.31659 13 3.04992C13 2.78326 13.0917 2.56242 13.275 2.38742C13.4583 2.21242 13.6667 2.14992 13.9 2.19992C16.2333 2.66659 18.1667 3.80826 19.7 5.62492C21.2333 7.44159 22 9.56659 22 11.9999C22 14.4333 21.2333 16.5583 19.7 18.3749C18.1667 20.1916 16.2333 21.3333 13.9 21.7999C13.6667 21.8499 13.4583 21.7874 13.275 21.6124C13.0917 21.4374 13 21.2166 13 20.9499C13 20.6833 13.075 20.4416 13.225 20.2249C13.375 20.0083 13.575 19.8666 13.825 19.7999C15.625 19.3666 17.1042 18.4291 18.2625 16.9874C19.4208 15.5458 20 13.8833 20 11.9999Z",fill:"white"}))))},lr=["width","height"],svg_SubtitlesSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,lr);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),Yi||(Yi=W.createElement("path",{d:"M4.66683 23.3332C4.02516 23.3332 3.47586 23.1047 3.01891 22.6478C2.56197 22.1908 2.3335 21.6415 2.3335 20.9998V6.99984C2.3335 6.35817 2.56197 5.80887 3.01891 5.35192C3.47586 4.89498 4.02516 4.6665 4.66683 4.6665H23.3335C23.9752 4.6665 24.5245 4.89498 24.9814 5.35192C25.4384 5.80887 25.6668 6.35817 25.6668 6.99984V20.9998C25.6668 21.6415 25.4384 22.1908 24.9814 22.6478C24.5245 23.1047 23.9752 23.3332 23.3335 23.3332H4.66683ZM4.66683 20.9998H23.3335V6.99984H4.66683V20.9998ZM8.16683 18.6665H15.1668C15.4974 18.6665 15.7745 18.5547 15.9981 18.3311C16.2217 18.1075 16.3335 17.8304 16.3335 17.4998C16.3335 17.1693 16.2217 16.8922 15.9981 16.6686C15.7745 16.445 15.4974 16.3332 15.1668 16.3332H8.16683C7.83627 16.3332 7.55919 16.445 7.33558 16.6686C7.11197 16.8922 7.00016 17.1693 7.00016 17.4998C7.00016 17.8304 7.11197 18.1075 7.33558 18.3311C7.55919 18.5547 7.83627 18.6665 8.16683 18.6665ZM12.8335 13.9998H19.8335C20.1641 13.9998 20.4411 13.888 20.6647 13.6644C20.8884 13.4408 21.0002 13.1637 21.0002 12.8332C21.0002 12.5026 20.8884 12.2255 20.6647 12.0019C20.4411 11.7783 20.1641 11.6665 19.8335 11.6665H12.8335C12.5029 11.6665 12.2259 11.7783 12.0022 12.0019C11.7786 12.2255 11.6668 12.5026 11.6668 12.8332C11.6668 13.1637 11.7786 13.4408 12.0022 13.6644C12.2259 13.888 12.5029 13.9998 12.8335 13.9998ZM8.16683 13.9998C8.49738 13.9998 8.77447 13.888 8.99808 13.6644C9.22169 13.4408 9.3335 13.1637 9.3335 12.8332C9.3335 12.5026 9.22169 12.2255 8.99808 12.0019C8.77447 11.7783 8.49738 11.6665 8.16683 11.6665C7.83627 11.6665 7.55919 11.7783 7.33558 12.0019C7.11197 12.2255 7.00016 12.5026 7.00016 12.8332C7.00016 13.1637 7.11197 13.4408 7.33558 13.6644C7.55919 13.888 7.83627 13.9998 8.16683 13.9998ZM19.8335 18.6665C20.1641 18.6665 20.4411 18.5547 20.6647 18.3311C20.8884 18.1075 21.0002 17.8304 21.0002 17.4998C21.0002 17.1693 20.8884 16.8922 20.6647 16.6686C20.4411 16.445 20.1641 16.3332 19.8335 16.3332C19.5029 16.3332 19.2259 16.445 19.0022 16.6686C18.7786 16.8922 18.6668 17.1693 18.6668 17.4998C18.6668 17.8304 18.7786 18.1075 19.0022 18.3311C19.2259 18.5547 19.5029 18.6665 19.8335 18.6665Z",fill:"white"}))))},ur={menuIconContainer:Object(Q.c)(Xi||(Xi=B()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n  "]))),buttonFocus:Object(Q.c)($i||($i=B()(["\n    &:focus-visible {\n      outline: 2px solid #79f;\n      outline-offset: -1px;\n    }\n  "]))),menuItem:Object(Q.c)(eo||(eo=B()(["\n    && {\n      background-color: transparent;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      gap: var(--cds-spacing-150);\n      padding: var(--cds-spacing-100) var(--cds-spacing-200);\n\n      &:hover {\n        background-color: rgb(255 255 255 / 12%);\n        color: var(--cds-color-neutral-primary-invert);\n      }\n    }\n  "]))),menuItemTitle:Object(Q.c)(to||(to=B()(["\n    flex: 1;\n    font-weight: 600;\n    display: flex;\n    justify-content: flex-start;\n    text-align: left;\n  "]))),lastMenuItem:Object(Q.c)(no||(no=B()(["\n    padding-bottom: 0;\n  "])))},modernSettingsMenu_ModernSettingsMenuItem=function(e){var t=e.menuItem,n=e.isLastItem,i=t.isSelected,o=t.title,r=t.icon,a=t.action,s=t.actionComponent,c=t.buttonWrapper,l=void 0===c||c,u=t.role,d=void 0===u?"menuitem":u,p=Object(Q.d)(W.Fragment,null,Object(Q.d)("div",{css:ur.menuIconContainer},r),Object(Q.d)(st.a,{css:ur.menuItemTitle,color:"invertBody",component:"div"},o),s&&Object(Q.d)("div",null,s));return l?Object(Q.d)("button",I()({role:d},"menuitemradio"===d&&void 0!==i?{"aria-checked":i}:{},{key:o,type:"button",css:[ur.menuItem,n&&ur.lastMenuItem,ur.buttonFocus],onClick:a}),p):Object(Q.d)("div",{key:o,css:[ur.menuItem,n&&ur.lastMenuItem]},p)},modernSettingsMenu_ModernSettingsMenuItemList=function(e){var t=e.menuConfig,n=e.visible,i=Object(W.useRef)(null);return Object(W.useEffect)((function(){if(i.current&&n){var e,t=i.current.querySelectorAll('a, area, button:not(.vjs-default-button):not(.vjs-close-button):not(.vjs-done-button), frame, iframe, input, object, textarea, [tabindex]:not([disabled]):not([tabindex="-1"]');if(t)null===(e=Array.from(t)[0])||void 0===e||e.focus()}}),[i,n]),Object(Q.d)("div",{role:"menu",ref:i},t.map((function(e,n){var i=n===t.length-1;return Object(Q.d)(modernSettingsMenu_ModernSettingsMenuItem,{key:e.title,menuItem:e,isLastItem:i})})))},dr=t("sBcU"),pr=t("NJ3s"),mr=["width","height"],svg_CheckSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,mr);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),io||(io=W.createElement("path",{d:"M9.54999 15.15L18.025 6.675C18.225 6.475 18.4583 6.375 18.725 6.375C18.9917 6.375 19.225 6.475 19.425 6.675C19.625 6.875 19.725 7.1125 19.725 7.3875C19.725 7.6625 19.625 7.9 19.425 8.1L10.25 17.3C10.05 17.5 9.81666 17.6 9.54999 17.6C9.28333 17.6 9.04999 17.5 8.84999 17.3L4.54999 13C4.34999 12.8 4.25416 12.5625 4.26249 12.2875C4.27083 12.0125 4.37499 11.775 4.57499 11.575C4.77499 11.375 5.01249 11.275 5.28749 11.275C5.56249 11.275 5.79999 11.375 5.99999 11.575L9.54999 15.15Z",fill:"white"}))))},hr={menuIconContainer:Object(Q.c)(oo||(oo=B()(["\n    display: flex;\n    align-items: center;\n    width: 28px;\n    height: 28px;\n  "]))),submenuTitleContainer:Object(Q.c)(ro||(ro=B()(["\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: var(--cds-spacing-100) var(--cds-spacing-200) var(--cds-spacing-200) var(--cds-spacing-200);\n    border-bottom: 1px solid rgb(255 255 255 / 24%);\n    margin-bottom: var(--cds-spacing-100);\n  "]))),submenuTitle:Object(Q.c)(ao||(ao=B()(["\n    flex: 1;\n  "]))),boldIcon:Object(Q.c)(so||(so=B()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},modernSettingsMenu_ModernSettingsSubmenu=function(e){var t=e.title,n=e.selected,i=e.options,o=e.action,r=e.onBackButtonClick,a=e.visible,s=i.map((function(e){var t=e.id===(null==n?void 0:n.id);return{title:e.label,icon:t?co||(co=Object(Q.d)(svg_CheckSvg,null)):void 0,isSelected:t,action:function(){o(e)},role:e.role}}));return Object(Q.d)("div",null,Object(Q.d)("section",{css:hr.submenuTitleContainer},Object(Q.d)("div",{css:hr.menuIconContainer},Object(Q.d)(dr.a,{tooltip:"",hideTooltip:!0,variant:"ghostInvert",icon:lo||(lo=Object(Q.d)(pr.a,{size:"small"})),"aria-label":Si()("Go back to main settings menu"),size:"small",onClick:r,css:hr.boldIcon})),Object(Q.d)(st.a,{css:hr.submenuTitle,color:"invertBody",component:"p",variant:"subtitleMedium"},t)),Object(Q.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:a,menuConfig:s}))},fr={settingsMenuPopup:Object(Q.c)(uo||(uo=B()(["\n    max-height: 80%;\n    min-width: 256px;\n    max-width: 300px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: absolute;\n    bottom: ","px;\n    right: var(--cds-spacing-400);\n    transform: translate(-3%, 0%);\n    transition: visibility 0s 0.2s, opacity 0.2s linear;\n    opacity: 0;\n    color: #fff;\n    background-color: rgb(0 0 0 / 66%);\n    backdrop-filter: blur(23px);\n    border-radius: 8px;\n    box-shadow: 0 2px 8px 0 rgb(0 0 0 / 32%);\n    visibility: hidden;\n    padding-top: var(--cds-spacing-150);\n    padding-bottom: var(--cds-spacing-150);\n\n    "," {\n      right: 0;\n      max-height: 50%;\n    }\n  "])),88,te.a.down("xs")),popupVisible:Object(Q.c)(po||(po=B()(["\n    opacity: 1;\n    visibility: visible;\n    transition: opacity 0.2s linear;\n  "]))),boldIcon:Object(Q.c)(mo||(mo=B()(["\n    /* The CDS chevron is not bold enough, so we need to override the styling */\n    fill: var(--cds-color-neutral-background-primary);\n    stroke: var(--cds-color-neutral-background-primary);\n    stroke-width: 1px;\n  "])))},gr=W.forwardRef((function(e,t){var n,i=e.visible,o=e.supportedResolutions,r=e.currentResolutionOption,a=e.onResolutionOptionClick,s=e.currentPlaybackRate,c=e.supportedPlaybackRates,l=e.onPlaybackRateClick,u=e.onSubtitleLanguageChoiceClick,d=e.onSubtitleOffClick,p=e.currentTrack,m=e.tracks,h=e.onToggleAutoplay,f=e.autoplay,g=e.enableHls,v=Object(W.useState)(void 0),b=H()(v,2),y=b[0],C=b[1];if("quality"===y){var S={id:r,label:r},k=function(e){var t=e.supportedResolutions,n=e.enableHls,i=e.currentResolutionOption,o=t;n&&(o=t.filter((function(e){return"auto"!==e})));var r=o.sort((function(e,t){var n=parseInt(e,10);return parseInt(t,10)-n}));return n&&(r=["auto"].concat(Ue()(r))),r.map((function(e){return{id:e,label:"auto"===e?Si()("Auto"):e,role:"menuitemradio",isSelected:e===i}}))}({supportedResolutions:o,enableHls:g,currentResolutionOption:r});n={id:"quality",title:Si()("Quality"),selected:S,options:k,action:function(e){var t=e.id;a(t)}}}else if("playbackSpeed"===y){var x="".concat(s,"x"),w={id:x,label:x},O=c.map((function(e){return"".concat(e,"x")})).map((function(e){return{id:e,label:e,role:"menuitemradio"}}));n={id:"playbackSpeed",title:Si()("Playback speed"),selected:w,options:O,action:function(e){var t=e.label,n=parseFloat(t);l(n)}}}else if("subtitle"===y){var T={id:"off",label:Si()("Subtitles off"),role:"menuitemradio"},j=p?{id:p.language,label:p.label}:T,P=m.map((function(e){return{id:e.language,label:e.label,role:"menuitemradio"}}));n={id:"subtitle",title:Si()("Subtitles"),selected:j,options:[T].concat(Ue()(P)),action:function(e){var t=m.find((function(t){return t.language===e.id}));t?u(t):d()}}}var E=[{title:Si()("Autoplay"),icon:ho||(ho=Object(Q.d)(svg_PlayCircleSvg,null)),buttonWrapper:!1,actionComponent:Object(Q.d)(rr.b,{"aria-labelledby":"","aria-label":Si()("Autoplay"),selected:f,onToggle:h})},{title:Si()("Quality"),icon:fo||(fo=Object(Q.d)(svg_HighQualitySvg,null)),action:function(){return C("quality")},actionComponent:Object(Q.d)(or.a,{size:"small",css:fr.boldIcon})},{title:Si()("Playback speed"),icon:go||(go=Object(Q.d)(svg_PlaybackSpeedSvg,null)),action:function(){return C("playbackSpeed")},actionComponent:Object(Q.d)(or.a,{size:"small",css:fr.boldIcon})},{title:Si()("Subtitle language"),icon:vo||(vo=Object(Q.d)(svg_SubtitlesSvg,null)),action:function(){return C("subtitle")},actionComponent:Object(Q.d)(or.a,{size:"small",css:fr.boldIcon})}];return Object(Q.d)("div",{ref:t,css:[fr.settingsMenuPopup,i&&fr.popupVisible],className:"rc-ModernSettingsMenuPopup",onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()},"data-testid":"settingsMenuPopup"},n?Object(Q.d)(modernSettingsMenu_ModernSettingsSubmenu,I()({},n,{visible:i,onBackButtonClick:function(e){e.stopPropagation(),C(void 0)}})):Object(Q.d)(modernSettingsMenu_ModernSettingsMenuItemList,{visible:!n&&i,menuConfig:E}))})),vr=t("JJfJ"),ProgressBarMarker_styles_progressBarMarker=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ff0";return Object(Q.c)(bo||(bo=B()(["\n    position: absolute;\n    height: 100%;\n    width: 4px;\n    background-color: ",";\n    top: 0;\n    transform: translate(-50%, 0%);\n    z-index: 99;\n    left: ",";\n\n    @media (forced-colors: active) {\n      background-color: ButtonText;\n    }\n  "])),t,e)},progressBar_ProgressBarMarker=function(e){var t=e.offsetFraction,n=e.color,i="".concat((Math.floor(1e4*t)/100).toFixed(2),"%");return Object(Q.d)("div",{css:ProgressBarMarker_styles_progressBarMarker(i,n),className:"rc-ProgressBarMarker","data-testid":"progress-bar-marker"})},progressBar_IVQMarker=function(e){var t=e.question,n=e.videoDurationSeconds,i=e.trimmedStartTimeSeconds,o=t.video.cuePointMs-1e3*i;if(o<0)return null;if(i&&o>1e3*i+1e3*n)return null;var r=o/1e3/n;return(W.createElement(progressBar_ProgressBarMarker,{offsetFraction:r}))},ProgressBarTimeBadge_styles_progressBarTimeBadge=function(e){return Object(Q.c)(yo||(yo=B()(["\n    color: #dedede;\n    position: absolute;\n    top: -10px;\n    transform: translate(-50%, -100%);\n    padding: 8px 12px;\n    border-radius: 10%;\n    font-size: 14px;\n    opacity: 0.75;\n    background-color: #000;\n    left: ",";\n  "])),e)},progressBar_ProgressBarTimeBadge=function(e){var t=e.time,n=e.videoDuration,i="".concat((100*(t/n)).toFixed(2),"%");return Object(Q.d)("div",{className:"rc-ProgressBarTimeBadge",css:ProgressBarTimeBadge_styles_progressBarTimeBadge(i)},function(e){var padToTwoDigits=function(e){return e.toString().padStart(2,"0")},t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return e<0?"0:00":t>0?"".concat(t,":").concat(padToTwoDigits(n),":").concat(padToTwoDigits(i)):"".concat(n,":").concat(padToTwoDigits(i))}(t))},br=["actionStateType"],yr=["actionStateType"],Cr=["actionStateType"],Sr={progressBar:Object(Q.c)(Co||(Co=B()(["\n    height: 5px;\n    width: calc(100% - 10px);\n    position: absolute;\n    top: 0;\n    left: 5px;\n    transform: translate(0, -100%);\n    z-index: 999;\n\n    @media (forced-colors: active) {\n      outline: 2px solid WindowText;\n\n      .base-track {\n        background-color: Window;\n      }\n\n      .hitbox {\n        background-color: transparent;\n      }\n\n      .progress-track {\n        background-color: Highlight;\n      }\n\n      .learner-max-video-progress-overlay {\n        background-color: WindowText;\n      }\n\n      .progress-handle {\n        background-color: Highlight;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus,\n    &:active {\n      outline: 2px solid #82a8e1;\n    }\n  "]))),modernProgressBar:Object(Q.c)(So||(So=B()(["\n    width: calc(100%);\n    left: 0;\n  "]))),baseTrack:Object(Q.c)(ko||(ko=B()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #a9a9a9;\n    transform: translate(0, -50%) scaleY(0.6);\n    transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);\n  "]))),modernBaseTrack:Object(Q.c)(xo||(xo=B()(["\n    background-color: var(--cds-color-neutral-background-primary-weak);\n  "]))),hovering:Object(Q.c)(wo||(wo=B()(["\n    transform: scale(1) translate(0, -50%);\n  "]))),hitbox:Object(Q.c)(Oo||(Oo=B()(["\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(0 0 0 / 0%);\n    transform: translate(0, -50%);\n  "]))),hitboxHovering:Object(Q.c)(To||(To=B()(["\n    height: 500%;\n  "]))),progressTrack:function(e){return Object(Q.c)(jo||(jo=B()(["\n    position: absolute;\n    height: 100%;\n    background-color: #3cb371;\n    z-index: 2;\n    width: ",";\n  "])),e)},modernProgressTrack:Object(Q.c)(Po||(Po=B()(["\n    background-color: var(--cds-color-blue-500);\n  "]))),maxVideoProgressOverlay:function(e){return Object(Q.c)(Eo||(Eo=B()(["\n    background: var(--cds-color-neutral-primary-invert);\n    height: 100%;\n    position: relative;\n    z-index: 1;\n    width: ",";\n  "])),e)},progressHandle:function(e){return Object(Q.c)(Io||(Io=B()(["\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    top: 50%;\n    background-color: #3cb371;\n    transform: translate(-50%, -50%);\n    transition: height 0.1s ease, width 0.1s ease;\n    left: ",";\n  "])),e)},modernProgressHandle:Object(Q.c)(Mo||(Mo=B()(["\n    background-color: var(--cds-color-blue-500);\n  "]))),progressHandleHovering:Object(Q.c)(Vo||(Vo=B()(["\n    width: 13px;\n    height: 13px;\n  "]))),modernProgressHandleHovering:Object(Q.c)(_o||(_o=B()(["\n    width: 16px;\n    height: 16px;\n  "])))},kr=function(e){function VideoProgressBarBaseComponent(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={actionState:{actionStateType:"none"},currentTime:null,duration:null},t.getCurrentTime=function(){var e=t.props,n=e.trimmedStartTimeSeconds,i=e.player;return n?i.currentTime()-n:i.currentTime()},t.onKeyDown=function(e){if(" "!==e.key&&"Spacebar"!==e.key){var n=t.props,i=n.shouldDisableSkippingForward,o=n.learnerMaxVideoProgressInSeconds,r=n.setShowVideoSkippingDisabledNotification,skipForward=function(){!i||t.getCurrentTime()+5<o?t.skip(5):r(!0)},a={Up:skipForward,ArrowUp:skipForward,Right:skipForward,ArrowRight:skipForward,Down:function(){t.skip(-5)},ArrowDown:function(){t.skip(-5)},Left:function(){t.skip(-5)},ArrowLeft:function(){t.skip(-5)}};a[e.key]&&a[e.key]()}else e.preventDefault()},t.onTimeChange=function(){t.setState({currentTime:t.getCurrentTime()})},t.onDurationChange=function(){var e=t.props.player;t.setState({duration:e.duration()})},t.onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.beginScrubbing(e)},t.onMouseEnter=function(e){var n=t.state.actionState,i=n.actionStateType,o=Un()(n,br),r=i,a=t.getProgressBarFractionOffsetFromEvent(e),s=o;"scrubbing"===r?s.scrubbingFractionOffsetFromStart=a:(r="hovering",s.hoverFractionOffsetFromStart=a),t.setActionState(r,s)},t.onMouseLeave=function(){var e=t.state,n=e.duration,i=e.actionState;if("scrubbing"===i.actionStateType){var o=t.props,r=o.player,a=o.trimmedStartTimeSeconds,s=i.scrubbingFractionOffsetFromStart;if(n&&s){var c=n*s+(null!=a?a:0);r.currentTime(c);var l=n*s;t.setState({currentTime:l})}}else t.setActionState("none")},t.onMouseMove=function(e){var n=t.state.actionState,i=n.actionStateType,o=Un()(n,yr),r=t.getProgressBarFractionOffsetFromEvent(e);"hovering"===i?t.setActionState(i,D()(D()({},o),{},{hoverFractionOffsetFromStart:r})):"scrubbing"===i&&t.setActionState(i,D()(D()({},o),{},{scrubbingFractionOffsetFromStart:r}))},t.onDocumentMouseUp=function(){"scrubbing"===t.state.actionState.actionStateType&&t.endScrubbing()},t.getIsScrubbingAllowed=function(e,t,n,i){return!n||e*(t||0)<=i},t.getShouldShowVideoSkippingDisabledNotification=function(e,t,n,i){return n&&e*(t||0)>i},t.onMouseUp=function(e){e.stopPropagation(),e.preventDefault();var n=t.props,i=n.player,o=n.shouldDisableSkippingForward,r=n.learnerMaxVideoProgressInSeconds,a=n.trackV3,s=n.setShowVideoSkippingDisabledNotification,c=n.trimmedStartTimeSeconds,l=t.state.duration,u=t.state.currentTime,d=u,p=u,m=t.getProgressBarFractionOffsetFromEvent(e);if(i&&null!=l&&null!=m){if(t.getIsScrubbingAllowed(m,l,o,r)){var h=null!=u?u:c?0:k;d=m*l+(null!=c?c:0),p=m*l,null!=h&&a("video_scrub_bar",{previousVideoPosition:h})}t.getShouldShowVideoSkippingDisabledNotification(m,l,o,r)&&s(!0)}i.currentTime(d),t.endScrubbing(),t.setState({currentTime:p})},t.getProgressBarFractionOffsetFromEvent=function(e){if(t.baseElement){var n=t.baseElement.getBoundingClientRect(),i=n.left,o=n.width;return(e.clientX-i)/o}return null},t.skip=function(e){var n=t.props,i=n.player,o=n.trimmedStartTimeSeconds,r=t.state,a=r.currentTime,s=r.duration;if(null!=a&&null!=s){var c=Math.max(0,Math.min(a+e+(null!=o?o:0),s));i.currentTime(c)}},t.beginScrubbing=function(e){var n=t.props,i=n.player;n.shouldDisableSkippingForward||t.setActionState("scrubbing",{scrubbingFractionOffsetFromStart:t.getProgressBarFractionOffsetFromEvent(e),wasVideoPausedWhenScrubbingStarted:i.paused()}),i.pause()},t.endScrubbing=function(){var e=t.props.player,n=t.state.actionState,i=n.wasVideoPausedWhenScrubbingStarted,o=n.scrubbingFractionOffsetFromStart;e.trigger("scrubbed"),i||e.ended()||e.play(),t.setActionState("hovering",{hoverFractionOffsetFromStart:o})},t.assignRef=function(e){t.baseElement=e},t}tt()(VideoProgressBarBaseComponent,e);var t=VideoProgressBarBaseComponent.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({currentTime:this.getCurrentTime(),duration:e.duration()}),e.on("timeupdate",this.onTimeChange),e.on("durationchange",this.onDurationChange),document.addEventListener("mouseup",this.onDocumentMouseUp)},t.componentWillUnmount=function(){var e=this.props.player;e.off("timeupdate",this.onTimeChange),e.off("durationchange",this.onDurationChange),document.removeEventListener("mouseup",this.onDocumentMouseUp)},t.setActionState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.actionState,i=D()(D()(D()({},n),t),{},{actionStateType:e});this.setState({actionState:i})},t.fractionToWholeNumber=function(e){return 100*e},t.formatFraction=function(e){return"".concat((Math.floor(1e4*e)/100).toFixed(2),"%")},t.render=function(){var e=this.props,t=e.videoQuizQuestions,n=e.learnerMaxVideoProgressInSeconds,i=e.shouldDisableSkippingForward,o=e.trimmedStartTimeSeconds,r=e.enableVideoPlayerModernization,a=this.state,s=a.actionState,c=s.actionStateType,l=Un()(s,Cr),u=a.duration,d=a.currentTime;if(null==u||null==d)return null;var p=l.hoverFractionOffsetFromStart,m=l.scrubbingFractionOffsetFromStart,h=d/u,f=t,g=this.formatFraction(h),v=this.fractionToWholeNumber(h),b="hovering"===c?p:m;"scrubbing"===c&&null!=m&&(g=this.formatFraction(m),v=this.fractionToWholeNumber(m));var y="hovering"===c||"scrubbing"===c,C=Object(vr.v)(h*u*1e3,"mmm:sss"),S=this.formatFraction(n/u);return Object(Q.d)("div",{tabIndex:0,role:"slider","aria-label":Si()("Video Progress"),"aria-valuemin":0,"aria-valuemax":100,dir:"ltr","aria-valuenow":v,"aria-valuetext":C,className:We()("rc-VideoProgressBar","horizontal-box","align-items-absolute-center"),ref:this.assignRef,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,"data-testid":"video-progress-bar",css:[Sr.progressBar,r&&Sr.modernProgressBar]},Object(Q.d)("div",{css:[Sr.baseTrack,y&&Sr.hovering,r&&Sr.modernBaseTrack],className:We()("base-track",{hovering:y})},f&&f.map((function(e){return Object(Q.d)(progressBar_IVQMarker,{key:"ivq-".concat(e.id),question:e,videoDurationSeconds:u,trimmedStartTimeSeconds:o})})),Object(Q.d)("div",{css:[Sr.progressTrack(g),r&&Sr.modernProgressTrack],className:We()("progress-track",{hovering:y})}),i&&Object(Q.d)("div",{css:Sr.maxVideoProgressOverlay(S),className:We()("learner-max-video-progress-overlay")})),Object(Q.d)("div",{className:We()("hitbox",{hovering:y}),css:[Sr.hitbox,y&&Sr.hitboxHovering]}),Object(Q.d)("div",{css:[Sr.progressHandle(g),r&&Sr.modernProgressHandle,y&&Sr.progressHandleHovering,r&&y&&Sr.modernProgressHandleHovering],className:We()("progress-handle",{hovering:y})}),y&&b&&Object(Q.d)(progressBar_ProgressBarTimeBadge,{time:b*u,videoDuration:u}))},VideoProgressBarBaseComponent}(W.Component),progressBar_VideoProgressBar=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.shouldDisableSkippingForward,i=t.learnerMaxVideoProgressInSeconds,o=t.setShowVideoSkippingDisabledNotification;return Object(Q.d)(kr,I()({},e,{shouldDisableSkippingForward:n,learnerMaxVideoProgressInSeconds:i,setShowVideoSkippingDisabledNotification:o}))},xr={videoSettingSeparator:Object(Q.c)(Ro||(Ro=B()(["\n    height: 1px;\n    width: 100%;\n    background-color: var(--cds-color-neutral-primary-invert);\n    margin-top: 10px;\n    margin-bottom: 10px;\n  "]))),playbackRateText:Object(Q.c)(No||(No=B()(["\n    margin-left: 10px;\n    margin-right: 10px;\n    text-align: center;\n    flex: 1;\n    font-size: 0.875em;\n  "]))),playbackRateControls:Object(Q.c)(Lo||(Lo=B()(["\n    button[disabled] {\n      opacity: 0.6;\n      cursor: default;\n    }\n  "])))},wr=[.75,1,1.25,1.5,1.75,2];var Or,Tr,jr,Pr,Er,Ir,Mr,Vr,_r,Rr,Nr,Lr,Dr,Fr,Hr,Ar,Br,zr,Ur,Qr,Wr,qr,Kr,Gr,Jr,Zr,Yr,Xr,$r,ea,ta,settingsMenu_PlaybackRateChangeSection=function(e){var t=e.playbackRate,n=e.onIncreasePlaybackRateClick,i=e.onDecreasePlaybackRateClick,o=Object(W.useState)(!1),r=H()(o,2),a=r[0],s=r[1],c=.75===t,l=2===t,u=function(e){var t=wr.indexOf(e),n=wr[t+1];return{lowerPlaybackRate:wr[t-1],higherPlaybackRate:n}}(t),d=u.lowerPlaybackRate,p=u.higherPlaybackRate,m=function(e){return e&&"".concat(e.toFixed(2),"x")}(t);return Object(Q.d)("div",{className:"rc-PlaybackRateChangeSection"},Object(Q.d)(st.a,{component:"div",className:"playback-rate-change-header horizontal-box align-items-absolute-center",variant:"subtitleMedium",color:"invertBody"},Si()("Playback Rate")),Object(Q.d)("div",{className:"video-setting-separator",css:xr.videoSettingSeparator}),Object(Q.d)("div",{css:xr.playbackRateControls,className:"playback-rate-change-controls horizontal-box align-items-absolute-center"},Object(Q.d)("button",{type:"button","aria-label":d?Si()("decrease playback rate to #{lowerPlaybackRate}",{lowerPlaybackRate:d}):Si()("decrease playback rate"),onClick:function(e){i(e),s(!0)},disabled:c},Do||(Do=Object(Q.d)("span",{className:"cif-minus"}))),a&&Object(Q.d)(ot.a,{role:"status","aria-live":"polite",component:"span",className:"rc-A11yScreenReaderOnly"},m),Object(Q.d)(st.a,{variant:"bodySecondary",color:"invertBody",component:"span",className:"playback-rate-text","aria-hidden":a,css:xr.playbackRateText},m),Object(Q.d)("button",{type:"button","aria-label":p?Si()("increase playback rate to #{higherPlaybackRate}",{higherPlaybackRate:p}):Si()("increase playback rate"),onClick:function(e){n(e),s(!0)},disabled:l},Fo||(Fo=Object(Q.d)("span",{className:"cif-plus"})))))},na={videoSettingSeparator:Object(Q.c)(Or||(Or=B()(["\n    height: 1px;\n    width: 100%;\n    background-color: var(--cds-color-neutral-primary-invert);\n    margin-top: 10px;\n    margin-bottom: 10px;\n  "]))),resolutionText:Object(Q.c)(Tr||(Tr=B()(["\n    margin-left: 10px;\n    margin-right: 10px;\n    text-align: center;\n    flex: 1;\n    font-size: 0.875em;\n  "]))),resolutionChangeControls:Object(Q.c)(jr||(jr=B()(["\n    button[disabled] {\n      opacity: 0.6;\n      cursor: default;\n    }\n  "])))},settingsMenu_ResolutionChangeSection=function(e){var t=e.currentResolution,n=e.supportedResolutions,i=e.onDecreaseResolutionClick,o=e.onIncreaseResolutionClick,r=e.isSettingsMenuOpen,a={"240p":Si()("Lowest"),"360p":Si()("Low"),"540p":Si()("Medium"),"720p":Si()("High"),"1080p":Si()("Highest")},s=Object(W.useState)(!1),c=H()(s,2),l=c[0],u=c[1],d="".concat(t," (").concat(a[t],")"),p=t===n[0],m=t===n[n.length-1],h=function(e,t){var n=t.indexOf(e),i=t[n+1];return{lowerResolution:t[n-1],higherResolution:i}}(t,n),f=h.lowerResolution,g=h.higherResolution,v=Object(W.useRef)(null),b=Object(W.useRef)(null);return Object(W.useEffect)((function(){var e,t;r&&(p?null===(e=b.current)||void 0===e||e.focus():null===(t=v.current)||void 0===t||t.focus())}),[p,r]),Object(Q.d)("div",{className:"rc-ResolutionChangeSection"},Object(Q.d)(st.a,{component:"div",variant:"subtitleMedium",className:"resolution-change-header horizontal-box align-items-absolute-center",color:"invertBody"},Si()("Video Quality")),Object(Q.d)("div",{className:"video-setting-separator",css:na.videoSettingSeparator}),Object(Q.d)("div",{css:na.resolutionChangeControls,className:"resolution-change-controls horizontal-box align-items-absolute-center"},Object(Q.d)("button",{type:"button","aria-label":f?Si()("decrease video quality to #{lowerResolution}",{lowerResolution:f}):Si()("decrease video quality"),onClick:function(e){u(!0),i(e)},disabled:p,ref:v},Pr||(Pr=Object(Q.d)("span",{className:"cif-minus"}))),l&&Object(Q.d)(ot.a,{role:"status","aria-live":"polite",component:"span",className:"rc-A11yScreenReaderOnly"},d),Object(Q.d)(st.a,{variant:"bodySecondary",color:"invertBody",component:"span","aria-hidden":l,className:"resolution-text",css:na.resolutionText},d),Object(Q.d)("button",{type:"button","aria-label":g?Si()("increase video quality to #{higherResolution}",{higherResolution:g}):Si()("increase video quality"),onClick:function(e){u(!0),o(e)},disabled:m,ref:b},Er||(Er=Object(Q.d)("span",{className:"cif-plus"})))))},ia={settingsMenuPopup:Object(Q.c)(Ir||(Ir=B()(["\n    position: absolute;\n    bottom: ","px;\n    right: 5px;\n    transform: translate(-3%, 0%);\n    background-color: #1f1f1f;\n    opacity: 0;\n    color: #fff;\n    padding: 25px;\n    padding-top: 16px;\n    font-size: 16px;\n    width: 225px;\n    border-radius: 2px;\n    visibility: hidden;\n    transition: visibility 0s 0.2s, opacity 0.2s linear;\n\n    "," {\n      width: 100%;\n      height: 100%;\n      bottom: initial;\n      right: initial;\n      transform: unset;\n    }\n\n    .rc-PlaybackRateChangeSection {\n      margin-top: 20px;\n    }\n  "])),45,te.a.down("xs")),popupVisible:Object(Q.c)(Mr||(Mr=B()(["\n    opacity: 0.85;\n    visibility: visible;\n    transition: opacity 0.2s linear;\n\n    "," {\n      opacity: 1;\n\n      /* Intended to overlay the video player progress bar */\n      z-index: 1000;\n    }\n  "])),te.a.down("xs")),buttonWrapper:Object(Q.c)(Vr||(Vr=B()(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    "," {\n      display: none;\n    }\n  "])),te.a.up("sm"))},oa=W.forwardRef((function(e,t){var n=e.visible,i=e.currentResolution,o=e.supportedResolutions,r=e.onIncreaseResolutionClick,a=e.onDecreaseResolutionClick,s=e.playbackRate,c=e.onIncreasePlaybackRateClick,l=e.onDecreasePlaybackRateClick,u=e.onClose;return(Object(Q.d)("div",{ref:t,css:[ia.settingsMenuPopup,n&&ia.popupVisible],className:"rc-SettingsMenuPopup",onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()},"data-testid":"settingsMenuPopup"},Object(Q.d)("div",{css:ia.buttonWrapper},Object(Q.d)(dr.a,{hideTooltip:!0,"aria-label":Si()("Close video settings menu"),intent:"close",variant:"ghostInvert",onClick:function(e){e.stopPropagation(),u()}})),Object(Q.d)(settingsMenu_ResolutionChangeSection,{currentResolution:i,supportedResolutions:o,onIncreaseResolutionClick:r,onDecreaseResolutionClick:a,isSettingsMenuOpen:n}),Object(Q.d)(settingsMenu_PlaybackRateChangeSection,{playbackRate:s,onIncreasePlaybackRateClick:c,onDecreasePlaybackRateClick:l})))})),ra=W.forwardRef((function(e,t){var n=e.menuPopupVisible,i=e.onClick,o=Uo()("Settings"),r=!n,a=W.createElement("button",{type:"button",onClick:function(){i()},className:We()("vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-expanded":n,ref:t},W.createElement("span",{className:We()("cif-2x","cif-fw","cif-cog"),"aria-hidden":!0}),W.createElement("span",{className:"vjs-control-text"}," ",o," "));return W.createElement(yi.c,{placement:"top",message:o,show:r},a)})),aa={settingsMenu:Object(Q.c)(_r||(_r=B()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),te.a.down("xs"))},sa=W.forwardRef((function(e,t){var n=e.onSettingsMenuClick,i=e.menuPopupVisible,o=e.buttonRef;return Object(Q.d)("div",{css:aa.settingsMenu,ref:t,className:"rc-VideoSettingsMenu"},Object(Q.d)(ra,{menuPopupVisible:i,onClick:n,ref:o}))})),ca=W.forwardRef((function(e,t){var n=e.menuPopupVisible,i=e.onClick,o=Uo()("Subtitles"),r=!n,s=Object(a.isRightToLeft)(Uo.a.getLocale()),c=W.createElement("button",{type:"button",id:"subtitle-menu-button",className:We()("vjs-subtitles-button","vjs-menu-button","vjs-menu-button-popup","vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-haspopup":"true","aria-controls":"subtitle-menu","aria-expanded":n,onClick:i,ref:t},W.createElement("span",{className:We()("cif-2x","cif-fw","cif-captions",{"cif-rtl":s}),"aria-hidden":!0}),W.createElement("span",{className:"vjs-control-text"}," ",o," "));return W.createElement(yi.c,{placement:"top",message:o,show:r},c)})),la={subtitleMenu:Object(Q.c)(Rr||(Rr=B()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),te.a.down("xs"))},ua=W.forwardRef((function(e,t){var n=e.onSubtitleMenuClick,i=e.menuPopupVisible,o=e.buttonRef;return Object(Q.d)("div",{css:la.subtitleMenu,className:"rc-SubtitleMenu",ref:t},Object(Q.d)(ca,{menuPopupVisible:i,onClick:n,ref:o}))})),da={subtitleMenuPopup:function(e){return Object(Q.c)(Nr||(Nr=B()(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    bottom: ","px;\n    right: 10px;\n    transform: translate(-3%, 0%);\n    background-color: #1f1f1f;\n    opacity: 0;\n    color: #fff;\n    width: 200px;\n    padding: 20px 0;\n    z-index: 1000;\n    font-size: 1rem;\n    visibility: hidden;\n    transition: visibility 0s 0.2s, opacity 0.2s linear;\n    max-height: ","px;\n\n    "," {\n      width: 100%;\n      height: 100%;\n      bottom: initial;\n      right: initial;\n      transform: unset;\n      max-height: 100%;\n    }\n  "])),45,e,te.a.down("xs"))},subtitleMenuTitle:Object(Q.c)(Lr||(Lr=B()(["\n    font-size: 1rem;\n    margin-bottom: 10px;\n  "]))),subtitleMenuSeparator:Object(Q.c)(Dr||(Dr=B()(["\n    height: 1px;\n    width: 90%;\n    background-color: #fff;\n    margin-bottom: 10px;\n  "]))),subtitleLanguageList:Object(Q.c)(Fr||(Fr=B()(["\n    width: 100%;\n    max-height: 385px;\n    overflow: auto;\n  "]))),languageListItem:Object(Q.c)(Hr||(Hr=B()(["\n    &:hover {\n      background-color: #555;\n    }\n\n    .subtitle-button {\n      font-size: 0.875em;\n      padding: 6px 12px;\n      cursor: pointer;\n      line-height: 1.5em;\n      width: 100%;\n      display: flex;\n\n      &:focus-visible {\n        outline: none;\n        border: 2px solid #82a8e1;\n      }\n    }\n  "]))),subtitleLabel:Object(Q.c)(Ar||(Ar=B()(["\n    position: relative;\n    margin-left: 5%;\n    text-align: left;\n    font-size: 0.875em;\n  "]))),itemSelectedIcon:function(e){return Object(Q.c)(Br||(Br=B()(["\n    position: relative;\n    left: 0;\n\n    ","\n  "])),e&&"\n      &:before {\n        content: '';\n      }\n    ")},activeListItem:Object(Q.c)(zr||(zr=B()(["\n    background-color: #555;\n  "]))),popupVisible:Object(Q.c)(Ur||(Ur=B()(["\n    opacity: 0.85;\n    visibility: visible;\n    transition: opacity 0.2s linear;\n\n    "," {\n      opacity: 1;\n\n      /* Intended to overlay the video player progress bar */\n      z-index: 1000;\n    }\n  "])),te.a.down("xs")),buttonWrapper:Object(Q.c)(Qr||(Qr=B()(["\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n\n    "," {\n      display: none;\n    }\n  "])),te.a.up("sm"))},pa=Object(W.forwardRef)((function(e,t){var n=e.visible,i=e.onSubtitleLanguageChoiceClick,o=e.onSubtitleOffClick,r=e.currentTrack,a=e.tracks,s=e.subtitleMenuHeight,c=e.onClose,l=Object(W.useRef)(null),u=Object(W.useRef)(null);Object(W.useEffect)((function(){var e,t,i;n&&((null===(e=u.current)||void 0===e?void 0:e.innerText)===(null==r?void 0:r.label)?null===(t=u.current)||void 0===t||t.focus():null===(i=l.current)||void 0===i||i.focus())}),[null==r?void 0:r.label,n]);var d=Uo()("Subtitles"),p=Uo()("Selected"),m=Uo()("Subtitles Off");return Object(Q.d)("div",{ref:t,css:[da.subtitleMenuPopup(s),n&&da.popupVisible],className:We()("rc-SubtitleMenuPopup",{visible:n}),onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()}},Object(Q.d)(ot.a,{"aria-live":"assertive",component:"span",className:"rc-A11yScreenReaderOnly"},null!=r&&r.label?"".concat(p," ").concat(null==r?void 0:r.label):"".concat(p," ").concat(m)),Object(Q.d)("div",{css:da.buttonWrapper},Object(Q.d)(dr.a,{hideTooltip:!0,"aria-label":Uo()("Close video subtitles menu"),intent:"close",variant:"ghostInvert",onClick:function(e){e.stopPropagation(),c()}})),Object(Q.d)("div",{css:da.subtitleMenuTitle,className:"subtitle-menu-title"},d),Object(Q.d)("div",{css:da.subtitleMenuSeparator,className:"subtitle-menu-separator"}),Object(Q.d)("ul",{css:da.subtitleLanguageList,className:"nostyle subtitle-language-list",id:"subtitle-menu","aria-labelledby":"subtitle-menu-button",role:"menu"},Object(Q.d)("li",{role:"presentation",css:[da.languageListItem,!r&&da.activeListItem]},Object(Q.d)("button",{className:"subtitle-button",role:"menuitem",type:"button",onClick:function(e){e.stopPropagation(),o()},ref:l},Object(Q.d)("em",{css:da.itemSelectedIcon(!r),className:We()("cif-lg","cif-fw","c-subtitles-menu-item-selected-icon")}),Object(Q.d)("span",{css:da.subtitleLabel,className:"subtitle-label","aria-label":m},m))),a.map((function(e){var t=r&&r.label===e.label;return Object(Q.d)("li",{key:e.language,css:[da.languageListItem,t&&da.activeListItem],role:"presentation"},Object(Q.d)("button",{className:"subtitle-button",role:"menuitem",type:"button",onClick:function(t){t.stopPropagation(),i(e)},ref:u},Object(Q.d)("em",{css:da.itemSelectedIcon(t),className:We()("cif-lg","cif-fw","c-subtitles-menu-item-selected-icon")}),Object(Q.d)("span",{css:da.subtitleLabel,className:"subtitle-label","aria-label":e.label},e.label)))}))))})),ma=["width","height"],svg_VolumeDownSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,ma);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeDownSvg"}),Wr||(Wr=W.createElement("path",{d:"M10.5002 17.4999H7.00016C6.66961 17.4999 6.39252 17.3881 6.16891 17.1645C5.9453 16.9409 5.8335 16.6638 5.8335 16.3332V11.6666C5.8335 11.336 5.9453 11.0589 6.16891 10.8353C6.39252 10.6117 6.66961 10.4999 7.00016 10.4999H10.5002L14.3502 6.64989C14.7196 6.28045 15.1425 6.19781 15.6189 6.40197C16.0953 6.60614 16.3335 6.97072 16.3335 7.49572V20.5041C16.3335 21.0291 16.0953 21.3936 15.6189 21.5978C15.1425 21.802 14.7196 21.7193 14.3502 21.3499L10.5002 17.4999ZM21.5835 13.9999C21.5835 14.8166 21.3988 15.5895 21.0293 16.3186C20.6599 17.0478 20.1738 17.6457 19.571 18.1124C19.3766 18.2291 19.1772 18.2339 18.9731 18.127C18.7689 18.02 18.6668 17.8499 18.6668 17.6166V10.3249C18.6668 10.0916 18.7689 9.92142 18.9731 9.81447C19.1772 9.70753 19.3766 9.71239 19.571 9.82906C20.1738 10.3152 20.6599 10.9277 21.0293 11.6666C21.3988 12.4054 21.5835 13.1832 21.5835 13.9999ZM14.0002 10.3249L11.4918 12.8332H8.16683V15.1666H11.4918L14.0002 17.6749V10.3249Z",fill:"white"}))))},ha=["width","height"],svg_VolumeOffSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,ha);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeOffSvg"}),qr||(qr=W.createElement("path",{d:"M19.5711 22.8377C19.3572 22.9738 19.1433 23.1002 18.9294 23.2169C18.7155 23.3335 18.4919 23.4405 18.2586 23.5377C17.9669 23.6738 17.6704 23.6738 17.369 23.5377C17.0676 23.4016 16.8586 23.178 16.7419 22.8669C16.6252 22.5752 16.6398 22.2884 16.7856 22.0064C16.9315 21.7245 17.1502 21.5155 17.4419 21.3794C17.578 21.321 17.7044 21.2578 17.8211 21.1898C17.9377 21.1217 18.0544 21.0488 18.1711 20.971L14.0002 17.2669V20.5044C14.0002 21.0294 13.762 21.3939 13.2856 21.5981C12.8093 21.8023 12.3863 21.7196 12.0169 21.3502L8.1669 17.5002H4.66689C4.33634 17.5002 4.05926 17.3884 3.83564 17.1648C3.61203 16.9412 3.50023 16.6641 3.50023 16.3335V11.6669C3.50023 11.3363 3.61203 11.0592 3.83564 10.8356C4.05926 10.612 4.33634 10.5002 4.66689 10.5002H7.23356L2.45023 5.71686C2.23634 5.50297 2.12939 5.23075 2.12939 4.9002C2.12939 4.56964 2.23634 4.29742 2.45023 4.08353C2.66412 3.86964 2.93634 3.7627 3.26689 3.7627C3.59745 3.7627 3.86967 3.86964 4.08356 4.08353L23.9169 23.9169C24.1308 24.1308 24.2377 24.403 24.2377 24.7335C24.2377 25.0641 24.1308 25.3363 23.9169 25.5502C23.703 25.7641 23.4308 25.871 23.1002 25.871C22.7697 25.871 22.4975 25.7641 22.2836 25.5502L19.5711 22.8377ZM22.1669 13.971C22.1669 12.3571 21.7391 10.8842 20.8836 9.55228C20.028 8.22033 18.8808 7.22381 17.4419 6.5627C17.1502 6.42658 16.9363 6.21756 16.8002 5.93561C16.6641 5.65367 16.6447 5.36686 16.7419 5.0752C16.8586 4.76408 17.0676 4.54047 17.369 4.40436C17.6704 4.26825 17.9766 4.26825 18.2877 4.40436C20.1738 5.24047 21.6808 6.51408 22.8086 8.2252C23.9363 9.93631 24.5002 11.8516 24.5002 13.971C24.5002 14.6127 24.4419 15.2495 24.3252 15.8814C24.2086 16.5134 24.0433 17.121 23.8294 17.7044C23.6738 18.1321 23.4356 18.3995 23.1148 18.5064C22.794 18.6134 22.4975 18.6183 22.2252 18.521C21.953 18.4238 21.7343 18.2488 21.569 17.996C21.4037 17.7433 21.3988 17.4516 21.5544 17.121C21.7683 16.6155 21.9238 16.1051 22.0211 15.5898C22.1183 15.0745 22.1669 14.5349 22.1669 13.971ZM17.2377 9.82936C17.8794 10.2377 18.3752 10.8502 18.7252 11.6669C19.0752 12.4835 19.2502 13.2613 19.2502 14.0002V14.2919C19.2502 14.3891 19.2405 14.4863 19.2211 14.5835C19.1822 14.8363 19.0461 15.0016 18.8127 15.0794C18.5794 15.1571 18.3655 15.0988 18.1711 14.9044L16.6836 13.4169C16.5669 13.3002 16.4794 13.1689 16.4211 13.0231C16.3627 12.8773 16.3336 12.7266 16.3336 12.571V10.3252C16.3336 10.0919 16.4356 9.92172 16.6398 9.81478C16.844 9.70783 17.0433 9.7127 17.2377 9.82936ZM11.3752 8.10853C11.2586 7.99186 11.2002 7.85575 11.2002 7.7002C11.2002 7.54464 11.2586 7.40853 11.3752 7.29186L12.0169 6.6502C12.3863 6.28075 12.8093 6.19811 13.2856 6.40228C13.762 6.60645 14.0002 6.97103 14.0002 7.49603V9.33353C14.0002 9.60575 13.8836 9.79047 13.6502 9.8877C13.4169 9.98492 13.203 9.93631 13.0086 9.74186L11.3752 8.10853ZM11.6669 17.6752V14.9335L9.5669 12.8335H5.83356V15.1669H9.15856L11.6669 17.6752Z",fill:"white"}))))},fa=["width","height"],svg_VolumeUpSvg=function(e){var t=e.width,n=void 0===t?28:t,i=e.height,o=void 0===i?28:i,r=Un()(e,fa);return(W.createElement("svg",I()({width:n,height:o},r,{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"VolumeUpSvg"}),Kr||(Kr=W.createElement("path",{d:"M22.1667 13.971C22.1667 12.3571 21.7389 10.8842 20.8833 9.55225C20.0278 8.2203 18.8806 7.22377 17.4417 6.56266C17.15 6.42655 16.9361 6.21752 16.8 5.93558C16.6639 5.65364 16.6444 5.36683 16.7417 5.07516C16.8583 4.76405 17.0674 4.54044 17.3688 4.40433C17.6701 4.26822 17.9764 4.26822 18.2875 4.40433C20.1736 5.24044 21.6806 6.51891 22.8083 8.23975C23.9361 9.96058 24.5 11.871 24.5 13.971C24.5 16.071 23.9361 17.9814 22.8083 19.7022C21.6806 21.4231 20.1736 22.7016 18.2875 23.5377C17.9764 23.6738 17.6701 23.6738 17.3688 23.5377C17.0674 23.4016 16.8583 23.1779 16.7417 22.8668C16.6444 22.5752 16.6639 22.2884 16.8 22.0064C16.9361 21.7245 17.15 21.5154 17.4417 21.3793C18.8806 20.7182 20.0278 19.7217 20.8833 18.3897C21.7389 17.0578 22.1667 15.5849 22.1667 13.971ZM8.16667 17.5002H4.66667C4.33611 17.5002 4.05903 17.3884 3.83542 17.1647C3.61181 16.9411 3.5 16.6641 3.5 16.3335V11.6668C3.5 11.3363 3.61181 11.0592 3.83542 10.8356C4.05903 10.612 4.33611 10.5002 4.66667 10.5002H8.16667L12.0167 6.65016C12.3861 6.28072 12.809 6.19808 13.2854 6.40225C13.7618 6.60641 14 6.971 14 7.496V20.5043C14 21.0293 13.7618 21.3939 13.2854 21.5981C12.809 21.8022 12.3861 21.7196 12.0167 21.3502L8.16667 17.5002ZM19.25 14.0002C19.25 14.8168 19.0653 15.5897 18.6958 16.3189C18.3264 17.0481 17.8403 17.646 17.2375 18.1127C17.0431 18.2293 16.8438 18.2342 16.6396 18.1272C16.4354 18.0203 16.3333 17.8502 16.3333 17.6168V10.3252C16.3333 10.0918 16.4354 9.92169 16.6396 9.81475C16.8438 9.7078 17.0431 9.71266 17.2375 9.82933C17.8403 10.3154 18.3264 10.9279 18.6958 11.6668C19.0653 12.4057 19.25 13.1835 19.25 14.0002ZM11.6667 10.3252L9.15833 12.8335H5.83333V15.1668H9.15833L11.6667 17.6752V10.3252Z",fill:"white"}))))},volumeMenu_VolumeMenuButton=function(e){var t=e.onVolumeButtonClick,n=e.volume,i=e.muted,o=e.enableVideoPlayerModernization,r=Uo()("Volume"),s=i?Uo()("Unmute"):Uo()("Mute"),c=Object(a.isRightToLeft)(Uo.a.getLocale());return W.createElement(components_ModernTooltipWrapper,{placement:"top",message:s,keyboardShortcut:"m",enableVideoPlayerModernization:o},W.createElement("button",{type:"button",className:We()("vjs-button","vjs-control","c-vjs-button"),"aria-disabled":"false","aria-label":s,onClick:t},o?W.createElement(W.Fragment,null,!i&&n>.3?Gr||(Gr=W.createElement(svg_VolumeUpSvg,{width:28,height:28})):!i&&n>0&&n<=.3?Jr||(Jr=W.createElement(svg_VolumeDownSvg,{width:28,height:28})):Zr||(Zr=W.createElement(svg_VolumeOffSvg,{width:28,height:28}))):W.createElement(W.Fragment,null,W.createElement("span",{className:We()("cif-2x","cif-fw",{"cif-volume-up":!i&&n>.3,"cif-volume-down":!i&&n>0&&n<=.3,"cif-volume-off":i||0===n,"cif-rtl":c})})),W.createElement("span",{className:"vjs-control-text"}," ",r," ")))},ga=t("siax"),va=(t("P8KX"),{volumeMenuPopupContainer:Object(Q.c)(Yr||(Yr=B()(["\n    height: 100%;\n    padding-right: 5px;\n    color: #fff;\n    width: 0;\n    visibility: hidden;\n    transition: visibility 0s 0.1s, width 0.1s linear;\n  "]))),modernVolumeMenuPopupContainer:Object(Q.c)(Xr||(Xr=B()(["\n    padding-right: 0;\n  "]))),visible:Object(Q.c)($r||($r=B()(["\n    width: 100px;\n    visibility: visible;\n    transition: width 0.1s linear;\n\n    > .rc-slider {\n      width: 75%;\n    }\n\n    .rc-VolumeSlider {\n      height: 24px;\n      padding: 10px 0;\n      margin-right: 5px;\n    }\n  "])))}),volumeMenu_VolumeMenuPopup=function(e){var t=e.visible,n=e.volume,i=e.muted,o=e.enableVideoPlayerModernization,r=e.onVolumeSliderChange,s=e.onBeforeChange,c=e.onAfterChange,l=W.useRef(null),u=Si()("Volume Control Slider");W.useEffect((function(){var e,t,n;null==l||null===(e=l.current)||void 0===e||null===(t=e.sliderRef)||void 0===t||null===(n=t.querySelector(".rc-slider-handle"))||void 0===n||n.setAttribute("aria-label",u)}),[u]);var d=o?{borderColor:Je.b.white,height:"14px",width:"14px",marginLeft:"-5px",marginTop:"-5px",cursor:"pointer"}:{borderColor:Je.b.white,height:"10px",width:"10px",marginLeft:"-5px",marginTop:"-3px",cursor:"pointer"};return Object(Q.d)("div",{className:We()("rc-VolumeMenuPopup","horizontal-box","align-items-absolute-center",{visible:t}),css:[va.volumeMenuPopupContainer,o&&va.modernVolumeMenuPopupContainer,t&&va.visible]},Object(Q.d)(ga.a,{ref:l,className:"rc-VolumeSlider",value:i?0:100*n,onChange:r,onBeforeChange:s,onAfterChange:c,trackStyle:{backgroundColor:Je.b.white,cursor:"pointer"},handleStyle:d,railStyle:{backgroundColor:"#aaa"},reverse:Object(a.isRightToLeft)(Si.a.getLocale())}))},ba={volumeMenu:Object(Q.c)(ea||(ea=B()(["\n    height: 100%;\n    position: relative;\n    color: #dedede;\n\n    "," {\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n  "])),te.a.down("xs")),modernVolumeMenu:Object(Q.c)(ta||(ta=B()(["\n    margin-left: var(--cds-spacing-200);\n  "])))},ya=function(e){function VolumeMenu(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={menuPopupVisible:!1,muted:null,volume:null,isSliderChanging:!1,previousVolume:-1},t.onClick=function(e){e.stopPropagation()},t.showVolumeMenuPopup=function(){(0,t.props.setVolumeMenuPopup)(),t.setState({menuPopupVisible:!0})},t.onMenuEnter=function(e){e.stopPropagation(),t.showVolumeMenuPopup()},t.onMenuLeave=function(e){e.stopPropagation(),t.state.isSliderChanging||t.setState({menuPopupVisible:!1})},t.onVolumeChange=function(){var e=t.props.player,n=t.state.volume;null!=n&&t.trackVolumeEvent("volume.change",{volume_delta:e.volume()-n}),t.setState({volume:e.volume(),muted:e.muted()})},t.onVolumeButtonClick=function(e){var n;e.stopPropagation();var i=t.props,o=i.player,r=i.trackV3,a=null!==(n=o.volume())&&void 0!==n?n:-1,s=!o.muted();if(o.muted(s),An.a.set("volume",s?0:o.volume()),s)t.trackVolumeEvent("mute"),r("video_mute",{previousVolume:a,volume:0});else{if(t.trackVolumeEvent("unmute"),0===o.volume()){o.volume(.3),t.setState({volume:.3}),An.a.set("volume",.3)}r("video_mute",{previousVolume:0})}t.setState({muted:o.muted()})},t.onVolumeSliderChange=function(e){var n=t.props.player;0===e?(n.volume(0),n.muted(!0)):(n.volume(e/100),n.muted(!1)),An.a.set("volume",n.muted()?0:n.volume())},t.onBeforeChange=function(){var e,n=t.props.player;t.setState({isSliderChanging:!0,previousVolume:null!==(e=n.volume())&&void 0!==e?e:-1})},t.onAfterChange=function(){var e,n=t.props,i=n.player,o=n.trackV3,r=t.state.previousVolume;t.setState({isSliderChanging:!1}),o("video_volume_scrub_bar",{previousVolume:r,volume:null!==(e=i.volume())&&void 0!==e?e:-1})},t.trackVolumeEvent=function(e,n){var i=t.props.player,o=t.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(o,i)(e,D()({},n))},t}tt()(VolumeMenu,e);var t=VolumeMenu.prototype;return t.componentDidMount=function(){var e=this.props.player;this.setState({volume:e.volume(),muted:e.muted()}),e.on("volumechange",this.onVolumeChange)},t.componentWillUnmount=function(){this.props.player.off("volumechange",this.onVolumeChange)},t.render=function(){var e=this.props,t=e.assignRef,n=e.enableVideoPlayerModernization,i=this.state,o=i.menuPopupVisible,r=i.muted,a=i.volume;return null==r||null==a?null:Object(Q.d)("div",{className:We()("rc-VolumeMenu","horizontal-box","align-items-absolute-center"),role:"presentation",onMouseEnter:this.onMenuEnter,onMouseLeave:this.onMenuLeave,onFocus:this.showVolumeMenuPopup,onClick:this.onClick,ref:t,css:[ba.volumeMenu,n&&ba.modernVolumeMenu]},Object(Q.d)(volumeMenu_VolumeMenuButton,{onVolumeButtonClick:this.onVolumeButtonClick,volume:a,muted:r,enableVideoPlayerModernization:n}),Object(Q.d)(volumeMenu_VolumeMenuPopup,{visible:o,volume:a,muted:r,enableVideoPlayerModernization:n,onVolumeSliderChange:this.onVolumeSliderChange,onBeforeChange:this.onBeforeChange,onAfterChange:this.onAfterChange}))},VolumeMenu}(W.Component);ya.contextTypes={_eventData:Y.a.object};var Ca,Sa,ka,xa,wa,Oa,Ta,ja,Pa,Ea,Ia,Ma,Va,_a,Ra,Na,La,Da,Fa,Ha,Aa=ya,Ba={controlBar:function(e){return Object(Q.c)(Ca||(Ca=B()(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    opacity: 0;\n    height: 0;\n    transition: height 0s 0.2s, opacity 0.2s linear;\n    color: #dedede;\n\n    &.visible {\n      opacity: 1;\n      height: ","px;\n      transition: opacity 0.2s linear;\n\n      "," {\n        min-height: ","px;\n        height: auto;\n      }\n    }\n\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 98px;\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to bottom,\n        hsl(0deg 0% 0% / 0%) 0%,\n        hsl(0deg 0% 0% / 0.8%) 8.1%,\n        hsl(0deg 0% 0% / 3.2%) 15.5%,\n        hsl(0deg 0% 0% / 6.9%) 22.5%,\n        hsl(0deg 0% 0% / 11.6%) 29%,\n        hsl(0deg 0% 0% / 17.1%) 35.3%,\n        hsl(0deg 0% 0% / 23.2%) 41.2%,\n        hsl(0deg 0% 0% / 29.7%) 47.1%,\n        hsl(0deg 0% 0% / 36.3%) 52.9%,\n        hsl(0deg 0% 0% / 42.8%) 58.8%,\n        hsl(0deg 0% 0% / 48.9%) 64.7%,\n        hsl(0deg 0% 0% / 54.4%) 71%,\n        hsl(0deg 0% 0% / 59.1%) 77.5%,\n        hsl(0deg 0% 0% / 62.8%) 84.5%,\n        hsl(0deg 0% 0% / 65.2%) 91.9%,\n        hsl(0deg 0% 0% / 66%) 100%\n      );\n    }\n  "])),e,te.a.down("xs"),e)},controlBarAfter:function(e){return Object(Q.c)(Sa||(Sa=B()(["\n    &::after {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: ","px;\n      content: '';\n      z-index: -99;\n\n      /* Manual CSS gradient easing so we're not left with a harsh edge\n      Generated by https://larsenwork.com/easing-gradients\n      For more info, see https://css-tricks.com/easing-linear-gradients/ */\n      background-image: linear-gradient(\n        to top,\n        hsl(0deg 0% 0% / 48%) 0%,\n        hsl(0deg 0% 0% / 47.7%) 8.1%,\n        hsl(0deg 0% 0% / 46.8%) 15.5%,\n        hsl(0deg 0% 0% / 45.5%) 22.5%,\n        hsl(0deg 0% 0% / 43.8%) 29%,\n        hsl(0deg 0% 0% / 41.8%) 35.3%,\n        hsl(0deg 0% 0% / 39.6%) 41.2%,\n        hsl(0deg 0% 0% / 37.2%) 47.1%,\n        hsl(0deg 0% 0% / 34.8%) 52.9%,\n        hsl(0deg 0% 0% / 32.4%) 58.8%,\n        hsl(0deg 0% 0% / 30.2%) 64.7%,\n        hsl(0deg 0% 0% / 28.2%) 71%,\n        hsl(0deg 0% 0% / 26.5%) 77.5%,\n        hsl(0deg 0% 0% / 25.2%) 84.5%,\n        hsl(0deg 0% 0% / 24.3%) 91.9%,\n        hsl(0deg 0% 0% / 24%) 100%\n      );\n    }\n  "])),e+2)},iconContainer:Object(Q.c)(ka||(ka=B()(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    height: 100%;\n    position: relative;\n    width: 100%;\n\n    /* Needs padding to prevent selection outlines from being cut off */\n    padding: ","px 8px;\n  "])),2),lastLeftControl:Object(Q.c)(xa||(xa=B()(["\n    margin-right: auto;\n  "])))},components_ControlBar=function(e){var t=e.setVisiblePopup,n=e.visible,i=e.player,o=e.visiblePopup,r=e.defaultSubtitleLanguage,a=e.videoQuizQuestions,s=e.enableVideoPlayerModernization,c=e.onChangeFullScreen,l=e.trackV3,u=e.trimmedStartTimeSeconds,d=e.enableHls,p=e.videoBoundaryElement,m=Object(W.useRef)(null),h=Object(W.useRef)(null),f=Object(W.useRef)(null),g=Object(W.useRef)(null),v=Object(W.useRef)(null),b=Object(W.useRef)(null),y=Object(W.useRef)(null),C=new bi.a,x="settings"===o,w="subtitle"===o,O=Object(W.useCallback)((function(e){return function(t){return null==t||!t.current||!t.current.contains(e)}}),[]),T=Object(W.useCallback)((function(){t(null)}),[t]);Object(W.useEffect)((function(){var dismissAllMenusExcept=function(e){var n=e.target,i=O(n);i(m)&&i(h)&&i(g)&&i(v)&&i(y)&&t(null)},closeAndFocusMenuButton=function(e){var t;T(),null===(t=e.current)||void 0===t||t.focus()},handleKeyPress=function(e){"Escape"===e.key&&(x&&closeAndFocusMenuButton(f),w&&closeAndFocusMenuButton(b))};return document.addEventListener("mousedown",dismissAllMenusExcept),x||w?document.addEventListener("keydown",handleKeyPress):document.removeEventListener("keydown",handleKeyPress),function(){document.removeEventListener("mousedown",dismissAllMenusExcept),document.removeEventListener("keydown",handleKeyPress)}}),[t,O,T,x,w]);var toggleMenuPopup=function(e){t(o===e?null:e)},pauseVideoOnlyOnMobile=function(){document.documentElement.clientWidth<=te.a.values.sm&&i.pause()},j=function(e,t){var n=Object(W.useState)(e.playbackRate()),i=H()(n,2),o=i[0],r=i[1],a=Object(W.useCallback)((function(){var t=e?e.playbackRate():1;r(t),An.a.set("playbackRate",t)}),[e]);Object(W.useEffect)((function(){return e.on("ratechange",a),function(){e.off("ratechange",a)}}),[a,e]);return{onIncreasePlaybackRateClick:function(n){n.stopPropagation();var i=S.findIndex((function(e){return e===o})),r=Math.min(S.length-1,i+1),a=S[r];t&&t("video_playback_rate_increase",{previousPlaybackRate:Math.round(null!=o?o:k),playbackRate:a}),e.playbackRate(a)},onDecreasePlaybackRateClick:function(n){n.stopPropagation();var i=S.findIndex((function(e){return e===o})),r=Math.max(0,i-1),a=S[r];t&&t("video_playback_rate_decrease",{previousPlaybackRate:Math.round(null!=o?o:k),playbackRate:a}),e.playbackRate(a)},currentPlaybackRate:o,supportedPlaybackRates:S,onPlaybackRateClick:function(t){var n=S.findIndex((function(e){return e===t})),i=S[n];e.playbackRate(i)}}}(i,l),P=j.currentPlaybackRate,E=j.onDecreasePlaybackRateClick,I=j.onIncreasePlaybackRateClick,M=j.supportedPlaybackRates,V=j.onPlaybackRateClick,R=useVideoQualityControls_useVideoQualityControls({player:i,trackV3:l,enableHls:d}),N=R.onIncreaseResolutionClick,L=R.onDecreaseResolutionClick,D=R.currentResolution,F=R.currentResolutionOption,A=R.supportedResolutions,B=R.onResolutionOptionClick,z=null!==D&&null!==P&&null!==A,U=useSubtitleMenuControls_useSubtitleMenuControls({defaultSubtitleLanguage:r,player:i,trackV3:l}),q=U.onSubtitleLanguageChoiceClick,K=U.onSubtitleOffClick,G=U.currentTrack,J=U.tracks,Z=U.subtitleMenuHeight,Y=useAutoplayToggle_useAutoplayToggle({subscribeToAutoplayChanges:function(e){return i.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function(e){return i.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function(){return i.trigger("autoplaychange")},trackV3:l}),X=Y.autoplay,ee=Y.handleToggleSwitchClick,ne=J&&J.length>0;return Object(Q.d)(W.Fragment,null,Object(Q.d)("div",{"data-testid":"video-control-bar",css:s?[Ba.controlBar(64),Ba.controlBarAfter(64)]:Ba.controlBar(35),className:We()("rc-ControlBar",{visible:n}),onClick:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()}},Object(Q.d)(progressBar_VideoProgressBar,{player:i,videoQuizQuestions:a,trackV3:l,trimmedStartTimeSeconds:u,enableVideoPlayerModernization:s}),Object(Q.d)("div",{className:"icon-container",css:Ba.iconContainer},Object(Q.d)(Wo,{player:i,trackV3:l,videoBoundaryElement:p,enableVideoPlayerModernization:s}),Object(Q.d)(Aa,{player:i,setVolumeMenuPopup:function(){toggleMenuPopup("volume")},assignRef:function(e){y.current=e},trackV3:l,enableVideoPlayerModernization:s}),Object(Q.d)(SeekControls_SeekBackwardControl,{player:i,enableVideoPlayerModernization:s,videoBoundaryElement:p}),Object(Q.d)(Zo,{player:i,trimmedStartTimeSeconds:u,enableVideoPlayerModernization:s}),Object(Q.d)("span",{css:s&&Ba.lastLeftControl},Object(Q.d)(SeekControls_SeekForwardControl,{player:i,enableVideoPlayerModernization:s,videoBoundaryElement:p,css:Ba.lastLeftControl})),Object(Q.d)(autoplay_standalone_AutoplayToggleStandalone,{subscribeToAutoplayChanges:function(e){return i.on("autoplaychange",e)},unsubscribeFromAutoplayChanges:function(e){return i.off("autoplaychange",e)},triggerAutoplayChangePlayerEvent:function(){return i.trigger("autoplaychange")},trackV3:l}),ne&&Object(Q.d)(ua,{ref:g,menuPopupVisible:w,onSubtitleMenuClick:function(){toggleMenuPopup("subtitle"),pauseVideoOnlyOnMobile(),l("video_subtitle_menu",{})},buttonRef:b}),z&&Object(Q.d)(sa,{ref:m,menuPopupVisible:x,onSettingsMenuClick:function(){toggleMenuPopup("settings"),pauseVideoOnlyOnMobile(),l("video_settings_menu",{})},buttonRef:f}),C.isIOS?Object(Q.d)(components_IosFullscreenToggle,{player:i,trackV3:l}):Object(Q.d)(components_FullscreenToggle,{onChangeFullScreen:c}))),z&&(s||d?Object(Q.d)(gr,{enableHls:d,autoplay:X,onToggleAutoplay:ee,currentPlaybackRate:P,supportedPlaybackRates:M,onPlaybackRateClick:V,currentResolutionOption:F,supportedResolutions:A,onResolutionOptionClick:B,onSubtitleLanguageChoiceClick:q,onSubtitleOffClick:K,currentTrack:G,tracks:J,ref:h,visible:x}):Object(Q.d)(oa,{ref:h,onClose:T,visible:x,onIncreasePlaybackRateClick:I,onDecreasePlaybackRateClick:E,playbackRate:P,onIncreaseResolutionClick:N,onDecreaseResolutionClick:L,currentResolution:D,supportedResolutions:A})),ne&&Object(Q.d)(pa,{ref:v,onClose:T,visible:w,onSubtitleLanguageChoiceClick:q,onSubtitleOffClick:K,currentTrack:G,tracks:J,subtitleMenuHeight:Z}))},za=t("eJMc"),Ua=t.n(za),Qa=t("kvW3"),Wa=t("vXr1"),qa=t("fAYU"),Ka=t("pLcN"),Ga=t("qenF"),Ja=t("KG2t"),Za={autoNextOverlay:Object(Q.c)(wa||(wa=B()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0 0 0 / 80%);\n    transition: background-color 0.5s linear;\n  "]))),overlayDisplay:Object(Q.c)(Oa||(Oa=B()(["\n    width: 50%;\n  "]))),nextItemBtn:Object(Q.c)(Ta||(Ta=B()(["\n    height: 96px;\n    width: 96px;\n    margin-right: 12px;\n    color: #fff;\n  "]))),itemInfo:Object(Q.c)(ja||(ja=B()(["\n    font-size: 16px;\n    color: #fff;\n\n    > :not(:last-child) {\n      margin-bottom: 12px;\n    }\n\n    .timer {\n      font-weight: bold;\n      font-size: 16px;\n      color: #3cb371;\n    }\n\n    .timer-red {\n      color: #ee4b2b;\n    }\n  "]))),nextItemName:Object(Q.c)(Pa||(Pa=B()(["\n    font-size: 24px;\n    font-weight: bold;\n    text-decoration: none;\n  "]))),link:Object(Q.c)(Ea||(Ea=B()(["\n    color: var(--cds-color-neutral-background-primary) !important;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: none;\n    }\n  "]))),nextItemDuration:Object(Q.c)(Ia||(Ia=B()(["\n    color: #bdbdbd;\n  "]))),nextItemCtaBtn:Object(Q.c)(Ma||(Ma=B()(["\n    font-size: 16px;\n    font-weight: 600;\n    margin-top: 14px;\n    text-decoration: none;\n    text-transform: uppercase;\n    color: var(--cds-color-neutral-background-primary);\n  "]))),cancelBtn:Object(Q.c)(Va||(Va=B()(["\n    margin-left: 1rem;\n    color: var(--cds-color-neutral-background-primary);\n  "])))},autoplay_AutoNextOverlay=function(e){var t,n=e.defaultCountdown,i=void 0===n?10:n,o=e.isAutoNextEnabled,r=e.isAutoNextPaused,a=e.nextItem,s=Object(Wa.b)(),c=Object(W.useState)(i),l=H()(c,2),u=l[0],d=l[1],p=Object(W.useState)(!1),m=H()(p,2),h=m[0],f=m[1],g=Object(W.useState)(!1),v=H()(g,2),b=v[0],y=v[1],C=Object(W.useState)(!1),S=H()(C,2),k=S[0],x=S[1],w=Object(W.useRef)(null),O=null==a?void 0:a.getLink(),T=null==a?void 0:null===(t=a.getContent())||void 0===t?void 0:t.typeName,stopTimer=function(){w.current&&clearInterval(w.current),f(!1)},j=Object(W.useCallback)((function(e){null==e||e.stopPropagation(),stopTimer(),x(!0),ge.b.isFullScreen()&&"lecture"===T&&Object(Ga.e)()||ge.b.exitFullScreen()}),[T]),P=Object(W.useCallback)((function(){d((function(e){return 1===e?(j(),O&&s.push(O),e):e-1}))}),[j,O,s]);if(Object(W.useEffect)((function(){return o&&(w.current=window.setInterval(P,1e3),f(!0)),function(){stopTimer()}}),[P,o]),!a)return null;var E=a.getName(),I=a.getTimeCommitment(),M=Object(vr.y)(I);return Object(Q.d)("div",{css:Za.autoNextOverlay,"data-testid":"autoNextOverlay",className:We()("rc-AutoNextOverlay","horizontal-box","align-items-absolute-center"),onClick:function(e){return e.stopPropagation()}},Object(Q.d)("div",{css:Za.overlayDisplay,className:"overlay-display horizontal-box"},Object(Q.d)("div",{css:Za.nextItemBtn,className:"next-item-button vertical-box"},Object(Q.d)(qa.a,{"data-testid":"next-item-icon-link-".concat(T),component:Ua.a,onClick:j,href:"#",to:O},Object(Q.d)(Ja.a,{size:96,type:T,style:{fill:Je.b.white}}))),Object(Q.d)("div",{className:"next-item-display vertical-box"},Object(Q.d)("div",{css:Za.itemInfo,className:"item-info vertical-box"},Object(Q.d)("span",{className:"up-next"},Si()("Up Next")),Object(Q.d)(qa.a,{component:Ua.a,href:"#",to:O,onClick:j,css:[Za.nextItemName,Za.link]},E),Object(Q.d)("span",{css:Za.nextItemDuration,className:"next-item-duration"},M),h&&!b&&!k&&Object(Q.d)(Qa.a,{message:Si()('Starts in <span class="timer">{countdownTime}</span> {countdownTime, plural, one {second} other {seconds}}'),countdownTime:u}),!h&&!b&&!k&&Object(Q.d)(st.a,{className:"timer-red",component:"span",variant:"subtitleMedium"},r?Si()("Autoplay paused"):Si()("Autoplay disabled")),k&&Object(Q.d)(Ka.a,{inverted:!0,label:Si()("Almost ready...")})),Object(Q.d)("div",{className:"horizontal-box align-items-vertical-center",style:{marginLeft:"-33"}},a&&!k&&Object(Q.d)(qa.a,{component:Ua.a,href:"#",to:O,variant:"quiet",onClick:j,className:"next-item-cta-button",id:"start-button",css:[Za.nextItemCtaBtn,Za.link]},Si()("Start")),a&&o&&h&&Object(Q.d)(qa.a,{href:"#",onClick:function(e){e&&e.stopPropagation(),stopTimer(),y(!0)},className:"next-item-cta-button",id:"cancel-button",css:[Za.nextItemCtaBtn,Za.cancelBtn,Za.link]},Si()("Cancel"))))))},Ya=["width","height"],PlayButton_PlayArrowSvg=function(e){var t=e.width,n=void 0===t?96:t,i=e.height,o=void 0===i?96:i,r=Un()(e,Ya);return(W.createElement("svg",I()({width:n,height:o,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),_a||(_a=W.createElement("path",{d:"M32 68.6998V27.2998C32 26.1665 32.4 25.2165 33.2 24.4498C34 23.6831 34.9333 23.2998 36 23.2998C36.3333 23.2998 36.6833 23.3498 37.05 23.4498C37.4167 23.5498 37.7667 23.6998 38.1 23.8998L70.7 44.5998C71.3 44.9998 71.75 45.4998 72.05 46.0998C72.35 46.6998 72.5 47.3331 72.5 47.9998C72.5 48.6665 72.35 49.2998 72.05 49.8998C71.75 50.4998 71.3 50.9998 70.7 51.3998L38.1 72.0998C37.7667 72.2998 37.4167 72.4498 37.05 72.5498C36.6833 72.6498 36.3333 72.6998 36 72.6998C34.9333 72.6998 34 72.3165 33.2 71.5498C32.4 70.7831 32 69.8331 32 68.6998Z",fill:"white"}))))},Xa=["width","height"],PlayButtonScrimSvg=function(e){var t=e.width,n=void 0===t?124:t,i=e.height,o=void 0===i?124:i,r=Un()(e,Xa);return(W.createElement("svg",I()({width:n,height:o,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),Ra||(Ra=W.createElement("g",{filter:"url(#filter0_bd_1764_10896)"},W.createElement("rect",{x:"0",y:"0",width:"124",height:"124",rx:"62",fill:"black",fillOpacity:"0.66",shapeRendering:"crispEdges"}))),Na||(Na=W.createElement("defs",null,W.createElement("filter",{id:"filter0_bd_1764_10896",x:"-23",y:"-23",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"11.5"}),W.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_1764_10896"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"2"}),W.createElement("feGaussianBlur",{stdDeviation:"4"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.32 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect1_backgroundBlur_1764_10896",result:"effect2_dropShadow_1764_10896"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1764_10896",result:"shape"}))))))},$a={playButtonContainer:Object(Q.c)(La||(La=B()(["\n    position: absolute;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]))),button:Object(Q.c)(Da||(Da=B()(["\n    cursor: pointer;\n    position: relative;\n    width: 124px;\n    height: 124px;\n\n    &:hover svg:first-of-type {\n      opacity: 0.4;\n    }\n  "]))),scrim:Object(Q.c)(Fa||(Fa=B()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity 0.2s cubic-bezier(0, 0, 0.2, 1);\n  "]))),arrow:Object(Q.c)(Ha||(Ha=B()(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "])))},PlayButton_PlayButton=function(e){var t=e.onClick,n=e.onKeyPress,i=e.haspopup,o=e.videoName,r=o?Si()("Play Video for #{videoName}",{videoName:o}):Si()("Play Video");return Object(Q.d)("div",{role:"presentation",onClick:t,onKeyPress:n,className:"rc-PlayButton horizontal-box align-items-absolute-center",css:$a.playButtonContainer},Object(Q.d)("button",{type:"button",className:"vjs-button","aria-disabled":"false","aria-haspopup":!!i||void 0,"aria-label":r,"aria-live":"off",onClick:t,onKeyDown:n,css:$a.button},Object(Q.d)(PlayButtonScrimSvg,{css:$a.scrim}),Object(Q.d)(PlayButton_PlayArrowSvg,{css:$a.arrow,width:70,height:70}),Object(Q.d)("span",{className:"vjs-control-text"},r)))};PlayButton_PlayButton.defaultProps={haspopup:!0};var es,ts=PlayButton_PlayButton,ns={videoControlsContainer:Object(Q.c)(es||(es=B()(["\n    position: absolute;\n    bottom: 0;\n    z-index: 2;\n\n    /* If changing the full-width and full-height nature of this container, make sure to update the code in \n     * the handlePlayerDblClick function in static/bundles/video-player/components/video/VideoPlayer.tsx to \n     * ensure double clicks are triggered when clicking on the right element\n     */\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0 0 0 0%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &.showVideoBanner {\n      z-index: 10000;\n    }\n\n    &.hideContextMenu {\n      pointer-events: none;\n\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    button:focus,\n    button:active {\n      outline: ","px solid #82a8e1;\n    }\n\n    .shareButton {\n      position: absolute;\n      right: 10px;\n      top: 18px;\n      transition: opacity 200ms ease-out;\n    }\n  "])),2)},is=5e3,os=32,rs=13,as=".".concat("rc-VideoControlsContainer"),ss=function(e){function VideoControlsContainer(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).state={isChromeVisible:!1,showAutoNextOverlay:!1,showPlayButton:!0,visiblePopup:null,hideContextMenu:!1},t.handleDocumentMouseMove=function(){t.state.hideContextMenu&&t.setState({hideContextMenu:!1})},t.handleVideoRegionMouseMove=function(){t.showChromeOnControlUse()},t.handleDocumentMouseDown=function(e){var n=t.props.player,i=n.isFullscreen();!t.node||t.node.contains(e.target)||i||n.paused()||t.setChromeVisibility(!1)},t.applySubtitlePosition=function(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,o=e.position,r=void 0===o?50:o,a=e.align,s=void 0===a?"bottom":a;t.forEach((function(e){return e.cues&&Object.keys(e.cues).forEach((function(t){e.cues&&(e.cues[t].position=r,e.cues[t].line=i,e.cues[t].align=s)}))}))},t.onPlayButtonClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,i=n.player,o=n.trackV3;i.play(),t.setState({showPlayButton:!1}),o("video_center_play",{})},t.onPlayButtonKeyPress=function(e){e.keyCode!==os&&e.keyCode!==rs||(t.props.player.play(),t.setState({showPlayButton:!1}))},t.onClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.player;n.paused()?n.play():n.pause()},t.onShareClick=function(e){e.stopPropagation();var n=t.props.player;n.paused()||n.pause()},t.onContextMenu=function(){t.setState({hideContextMenu:!0})},t.hideChrome=function(e){e.stopPropagation();var n=t.state.visiblePopup,i=t.props.player,o=i.isFullscreen();i.paused()||o||null!==n||t.setChromeVisibility(!1)},t.hideChromeOnBlur=function(e){e.currentTarget.contains(e.relatedTarget)||t.hideChrome(e)},t.showChrome=function(e){e.stopPropagation(),t.setChromeVisibility(!0)},t.showChromeOnFocus=function(e){t.showChrome(e),t.clearChromeVisibilityTimeout()},t.startChromeVisibilityTimeout=function(){t.timeoutID=window.setTimeout((function(){t.setChromeVisibility(!1)}),is)},t.clearChromeVisibilityTimeout=function(){t.timeoutID&&clearTimeout(t.timeoutID)},t.showChromeOnControlUse=function(){var e;t.clearChromeVisibilityTimeout();var n=t.props.player;t.setChromeVisibility(!0);var i=null===(e=t.node)||void 0===e?void 0:e.contains(document.activeElement);n.paused()||i||t.startChromeVisibilityTimeout()},t.setChromeVisibility=function(e){var n=t.state.visiblePopup;t.setState({isChromeVisible:e,visiblePopup:e?n:null})},t.setVisiblePopup=function(e){t.setState({visiblePopup:e})},t.assignRef=function(e){t.node=e},t}tt()(VideoControlsContainer,e);var t=VideoControlsContainer.prototype;return t.componentDidMount=function(){var e=this,t=this.props.player;t.one("play",(function(){e.setState({showPlayButton:!1})})),t.on("play",(function(){e.setState({showAutoNextOverlay:!1});var n=Array.from(t.textTracks());e.applySubtitlePosition({textTracks:n}),e.showChromeOnControlUse()})),t.on("seeked",this.showChromeOnControlUse),t.on("volumechange",this.showChromeOnControlUse),t.on("pause",this.showChromeOnControlUse),t.on("ended",(function(){e.setState({showAutoNextOverlay:!0})})),this.setState({showPlayButton:!t.autoplay()}),document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("mousemove",this.handleDocumentMouseMove)},t.componentWillUnmount=function(){this.props.player.off("ended"),this.clearChromeVisibilityTimeout(),document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("mousemove",this.handleDocumentMouseMove)},t.render=function(){var e,t=this.props,n=t.defaultSubtitleLanguage,i=t.nextItem,o=t.player,r=t.videoQuizQuestions,a=t.visibility,s=t.onChangeFullScreen,c=t.autoNextCountdownSeconds,l=t.itemMetadata,u=t.isAutoNextPaused,d=t.enableVideoPlayerModernization,p=t.trackV3,m=t.trimmedStartTimeSeconds,h=t.trimmedDurationSeconds,f=t.enableHls,g=t.videoBoundaryElement,v=this.state,b=v.isChromeVisible,y=v.visiblePopup,C=v.showAutoNextOverlay,S=v.showPlayButton,k=v.hideContextMenu,x=!u&&(An.a&&An.a.get("autoplay")),w=C&&a&&i&&(o.ended()||h);return Object(Q.d)("div",{ref:this.assignRef,role:"presentation",className:We()("rc-VideoControlsContainer",{hideContextMenu:k}),onClick:this.onClick,onFocus:this.showChromeOnFocus,onContextMenu:this.onContextMenu,onBlur:this.hideChromeOnBlur,onMouseEnter:S?void 0:this.showChrome,onMouseLeave:this.hideChrome,onMouseMove:this.handleVideoRegionMouseMove,css:ns.videoControlsContainer},S&&Object(Q.d)(ts,{onClick:this.onPlayButtonClick,onKeyPress:this.onPlayButtonKeyPress,haspopup:!1,videoName:null==l?void 0:null===(e=l.attributes)||void 0===e?void 0:e.name}),w&&Object(Q.d)(autoplay_AutoNextOverlay,{nextItem:i,isAutoNextEnabled:x,defaultCountdown:c,isAutoNextPaused:u}),Object(Q.d)(components_ControlBar,{enableHls:f,visiblePopup:y,videoQuizQuestions:r,setVisiblePopup:this.setVisiblePopup,visible:b,player:o,defaultSubtitleLanguage:n,onChangeFullScreen:s,trackV3:p,trimmedStartTimeSeconds:m,enableVideoPlayerModernization:d,videoBoundaryElement:g}))},VideoControlsContainer}(W.Component),cs=t("++Ya"),ls=Object(r.a)("/api/onDemandVideoProgresses.v1",{type:"rest"}),us={getVideoProgressId:function(e,t){return Object(cs.c)([ee.a.get().id,e,t])},get:function(e,t){var n=this.getVideoProgressId(e,t);if(!ee.a.isAuthenticatedUser())return o.a.reject();var i=new m.a(n);return o()(ls.get(i.toString()))},update:function(e,t,n){var i=this.getVideoProgressId(e,t),r={viewedUpTo:n,videoProgressId:i},a=new m.a(i);return o()(ls.put(a.toString(),{data:r}))}},ds=us,ps=t("BVC1"),ms=Object(r.a)("/api/opencourse.v1",{type:"rest"}),hs={sendEvent:function(e,t){var n=e.itemMetadata,i=n.get("course.slug"),o=n.getId(),r=new m.a(ps.a.join("user","".concat(ee.a.get().id),"course",i,"item",o,"lecture/videoEvents",t));return r.addQueryParam("autoEnroll","false"),ms.post(r.toString(),{data:{contentRequestBody:{}}})}},fs=hs.sendEvent;function isHlsEnabled(){return si.a.get("enableHlsOnInCourseVideoPlayer")}var gs,vs,bs,ys,Cs,Ss,ks,xs,ws,Os=t("W8MJ"),Ts=t.n(Os),js=t("Wjkg"),Ps=t("4uH7"),Es=t("Gcrz"),Is=t("UYTu"),Ms=Object(Is.a)(gs||(gs=B()(['\n  mutation submitQuiz(\n    $itemId: String!\n    $userId: Int!\n    $slug: String!\n    $sessionId: String!\n    $body: String!\n    $skipFetchingResponses: Boolean!\n  ) {\n    submitQuiz(itemId: $itemId, userId: $userId, slug: $slug, sessionId: $sessionId, body: $body)\n      @rest(\n        type: "RestPracticeQuizQuestionGetStateData"\n        path: "opencourse.v1/user/{args.userId}/course/{args.slug}/item/{args.itemId}/lecture/inVideoQuiz/session/{args.sessionId}/action/submitResponse?autoEnroll=false"\n        method: "POST"\n        bodyKey: "body"\n      ) {\n      contentResponseBody @type(name: "RestSubmitQuizResponseBody") {\n        return @type(name: "RestContentResponseBodyReturnObject") {\n          id\n          isSubmitAllowed\n          feedback {\n            feedbackLevel\n            definition {\n              isCorrect\n              display {\n                typeName\n                definition {\n                  dtdId\n                  value\n                }\n              }\n              options {\n                id\n                count\n                isCorrect\n                feedback {\n                  typeName\n                  definition {\n                    dtdId\n                    value\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']))),Vs=function(e){function VideoQuizMutations(){return e.apply(this,arguments)||this}return tt()(VideoQuizMutations,e),VideoQuizMutations.prototype.render=function(){var e=this.props,t=e.itemId,n=e.courseSlug,i=e.question,o=e.sessionId,r=e.userId,a=e.children;return(W.createElement(Es.b,{mutation:Ms},(function(e){return a({submitQuiz:function(a){var s,c;return e({variables:{sessionId:o,userId:r,itemId:t,slug:n,body:{contentRequestBody:{argument:{questionInstance:i.id,response:null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(c=s.definition)||void 0===c?void 0:c.value,timestamp:null}}}}})}})})))},VideoQuizMutations}(W.Component),_s=t("Qdou"),Rs=t("GD6B"),Ns=t("Jn0X"),Ls=t("/Sxx"),Ds=t("vU9D"),util_transformQuizToFormData=function(e,t,n){if(!t)return e&&e.map((function(e){return{prompt:e,response:{typeName:Ds.f.AUTO_GRADABLE_RESPONSE,definition:{value:n&&((e||{}).effectiveResponse||{}).response?((e||{}).effectiveResponse||{}).response:(t=e,"widget"===((t||{}).question||{}).type?{answer:{}}:null)}}};var t}));var i=t.reduce((function(e,t){return D()(D()({},e),{},pi()({},t.questionInstance,t.response))}),{});return e&&e.map((function(e){var t=i[e.id];return{prompt:e,response:{typeName:Ds.f.AUTO_GRADABLE_RESPONSE,definition:{value:t}}}}))},utils_transformQuestionToFormData=function(e){var t=util_transformQuizToFormData([e],void 0,!0),n=H()(t,1)[0],i=n.prompt,o=n.response;return{id:i.id,root:{element:{definition:{prompt:{typeName:Ds.f.AUTO_GRADABLE_PROMPT,definition:{value:{effectiveResponse:i.effectiveResponse,variant:{definition:i.variant},question:i.question,feedback:i.feedback}}},response:o,responseId:i.id},typeName:Ds.f.PROMPT_REQUIRING_RESPONSE_ELEMENT},children:[]}}},Fs={questionArea:Object(Q.c)(vs||(vs=B()(["\n    overflow-y: scroll;\n    padding: 1.5rem;\n\n    &::-webkit-scrollbar {\n      -webkit-appearance: none;\n    }\n\n    &::-webkit-scrollbar:vertical {\n      width: 11px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n      border: 2px solid var(--cds-color-neutral-background-primary);\n      background-color: rgb(0 0 0 / 50%);\n    }\n\n    &::-webkit-scrollbar-track {\n      background-color: var(--cds-color-neutral-background-primary);\n      border-radius: 8px;\n    }\n  "]))),responseBox:Object(Q.c)(bs||(bs=B()(["\n    margin-top: 1.25rem;\n  "]))),legend:Object(Q.c)(ys||(ys=B()(["\n    margin-bottom: 0;\n    border-bottom: none;\n    display: contents;\n  "])))},Hs=function(e){function VideoQuizQuestionArea(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.responseBoxRef=null,n}tt()(VideoQuizQuestionArea,e);var t=VideoQuizQuestionArea.prototype;return t.componentDidUpdate=function(){var e,t,n="[data-test='GradeFeedback-".concat(Ls.a.FAILURE,"]");if(null!==(e=this.containerRef)&&void 0!==e&&e.querySelector(n)||(n="[data-test^='GradeFeedback-']"),"ready"===this.props.currentState){var i,o=null===(i=this.responseBoxRef)||void 0===i?void 0:i.querySelector('[role="group"]');if(o){var r=o.querySelectorAll('input[type="checkbox"]');if(r.length)r[0].focus()}}var a=null===(t=this.containerRef)||void 0===t?void 0:t.querySelector(n);a&&this.containerRef&&(this.containerRef.scrollTop=a.offsetTop)},t.render=function(){var e=this,t=this.props,n=t.question,i=t.isReadonly,o=t.currentState,r="done"===o||"retry"===o;if(!n)return null;var a=utils_transformQuestionToFormData(n).root,s=a.element,c=a.children,l=Object(Ns.a)(s).promptText;return Object(Q.d)("fieldset",{css:Fs.questionArea,ref:function(t){e.containerRef=t},className:"rc-VideoQuizQuestionArea",tabIndex:0},Object(Q.d)("legend",{className:"rc-VideoQuizQuestionArea__legend",css:Fs.legend},Object(Q.d)(_s.a,{value:l})),Object(Q.d)("div",{className:"rc-VideoQuizQuestionArea__responseBox",css:Fs.responseBox,ref:function(t){e.responseBoxRef=t},"aria-live":"polite"},Object(Q.d)(Rs.b,{isReadOnly:i,isDisabled:r,formPart:s,enableFeedbackFocus:!0}),c&&c.length>0&&Object(Q.d)("div",null,c.map((function(e){var t=e.element;return Object(Q.d)(Rs.b,{isReadOnly:i,isDisabled:r,formPart:t})})))))},VideoQuizQuestionArea}(W.Component),As=t("AWZ4"),Bs=t("agp5"),zs=t("uhOI"),Us=t("TSwX"),Qs=t("iR3l"),Ws=t.n(Qs),qs=function(e){function VideoQuizSubmissionButton(){return e.apply(this,arguments)||this}return tt()(VideoQuizSubmissionButton,e),VideoQuizSubmissionButton.prototype.render=function(){var e,t,n=this.props,i=n.onRetry,o=n.question,r=n.onSubmit,a=n.onContinue,s=n.apiState,c="continueOnly"===o.question.responseType,l=zs.a;switch(s){case"submitting":l=zs.c,t=Ws()("Submitting...");break;case"ready":e=r,t=Ws()("Submit");break;case"retry":e=i,t=Ws()("Retry");break;default:e=a,t=Ws()("Continue")}if(c)switch(s){case"submitting":t=Ws()("Continuing...");break;default:t=Ws()("Continue"),e=a}return(W.createElement(Us.a,{label:t,apiStatus:l,onClick:e,variant:"primary",style:{background:"var(--cds-color-interactive-primary)",color:"var(--cds-color-white-0)",display:"inherit"},"data-testid":"VideoQuizSubmission-Button"}))},VideoQuizSubmissionButton}(W.Component),Ks={quizSubmissionArea:Object(Q.c)(Cs||(Cs=B()(["\n    padding: 1.5rem;\n    border-top: 1px solid #e1e1e1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n\n    button {\n      font-size: 0.8rem;\n      margin-right: 1.5rem;\n      color: var(--cds-color-interactive-primary);\n\n      &:last-of-type {\n        margin: 0;\n      }\n    }\n  "])))},Gs=function(e){function VideoQuizSubmissionArea(){return e.apply(this,arguments)||this}return tt()(VideoQuizSubmissionArea,e),VideoQuizSubmissionArea.prototype.render=function(){var e=this.props,t=e.onSubmit,n=e.onContinue,i=e.onRetry,o=e.questionState,r=e.question,a=e.question.id,s="continueOnly"===r.question.responseType;return Object(Q.d)("div",{className:"rc-VideoQuizSubmissionArea",css:Ks.quizSubmissionArea},!s&&Object(Q.d)(As.b,{onClick:n,type:"link",size:"sm"},Ws()("Skip")),Object(Q.d)(Bs.a,{ids:[a]},(function(e){return Object(Q.d)(qs,{onContinue:n,onRetry:i,onSubmit:function(){return e&&e.length>0&&t(e[0])},question:r,apiState:o})})))},VideoQuizSubmissionArea}(W.Component),Js=t("RUkv"),qusetionTypeUtils_isPollQuestion=function(e){return[Js.a.Poll,Js.a.CheckboxPoll].includes(e.question.type)},qusetionTypeUtils_isPauseAndReflectQuestion=function(e){return[Js.a.ReflectText,Js.a.Continue].includes(e.question.type)},Zs={root:Object(Q.c)(Ss||(Ss=B()(["\n    position: absolute;\n    background: rgb(0 0 0 / 75%);\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n    display: block;\n    top: 0;\n    left: 0;\n  "]))),focusTrap:Object(Q.c)(ks||(ks=B()(["\n    height: 1px;\n    width: 1px;\n    position: absolute;\n    top: 10px;\n    left: 0;\n    background: transparent;\n    border: none;\n  "]))),videoQuizWindow:Object(Q.c)(xs||(xs=B()(["\n    position: absolute;\n    top: 50%;\n    max-height: 90%;\n    font-size: 1rem;\n    width: 80%;\n    left: 50%;\n    background: var(--cds-color-neutral-background-primary);\n    transform: translate(-50%, -50%);\n    display: grid;\n    grid-template-rows: auto minmax(0, 1fr) auto;\n    color: var(--cds-color-neutral-primary);\n  "]))),videoQuizHeader:Object(Q.c)(ws||(ws=B()(["\n    line-height: 1.2em;\n    border-bottom: 1px solid #e1e1e1;\n    margin: 0;\n    padding: 1.5rem;\n  "])))},Ys=function(e){function VideoQuizContent(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).blurListeningEnabled=!1,t.state={isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null},t.onBlur=function(e){var n=e.relatedTarget;if(t.blurListeningEnabled&&t.windowRef&&n&&!t.windowRef.contains(n)){var i,o=t.getFocusableWindowElements();null==o||null===(i=o.first)||void 0===i||i.focus()}},t.mouseListener=function(){t.blurListeningEnabled=!1},t.keyListener=function(e){var n=t.props.onContinue;t.blurListeningEnabled=!0,e.keyCode===Ps.a.tab?t.handleTabKey(e):e.keyCode===Ps.a.esc&&n()},t.handleTabKey=function(e){var n=t.getFocusableWindowElements();n&&(e.shiftKey&&n.active===n.first&&(n.last.focus(),e.preventDefault()),e.shiftKey||n.active!==n.last||(n.first.focus(),e.preventDefault()))},t.handleFocus=function(){var e=t.getFocusableWindowElements();e&&e.first.focus()},t.getFocusableWindowElements=function(){if(t.windowRef){var e=t.windowRef.querySelectorAll('a[href], button, textarea, input, select, iframe, [tabindex]:not([tabindex="-1"])');return{first:e[0],last:e[e.length-2],active:document.activeElement,all:e}}return null},t.renderLabel=function(){var e=t.props.question;return e?qusetionTypeUtils_isPollQuestion(e)?Ws()("Poll"):qusetionTypeUtils_isPauseAndReflectQuestion(e)?Ws()("Reflect"):Ws()("Question"):null},t}tt()(VideoQuizContent,e);var t=VideoQuizContent.prototype;return t.componentDidMount=function(){var e,t=this.getFocusableWindowElements();null==t||null===(e=t.first)||void 0===e||e.focus(),document.addEventListener("keydown",this.keyListener),document.addEventListener("mousedown",this.mouseListener)},t.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyListener),document.removeEventListener("mousedown",this.mouseListener)},t.getPersistedResponse=function(){if(this.props.question){var e=js.a.get(this.localStorageKey);if(e)return e}return{feedback:null,response:null}},t.setPersistedResponse=function(e,t){var n=this.props.question;n&&js.a.set("videoQuizResponses.".concat(n.id),{feedback:e,response:t})},t.getQuestionWithSubmission=function(){var e=this.props.question,t=this.state,n=t.latestResponse,i=t.latestFeedback;if(e){var o,r,a=this.getPersistedResponse(),s=i||a.feedback,c=n||a.response,l={questionInstance:e.id,response:null==c?void 0:null===(o=c.response)||void 0===o?void 0:null===(r=o.definition)||void 0===r?void 0:r.value};return D()(D()({},e),{},{feedback:s,effectiveResponse:l})}return null},t.resetQuestion=function(){js.a.remove(this.localStorageKey),this.setState({isSubmitting:!1,didError:!1,latestFeedback:null,latestResponse:null})},t.render=function(){var e,t=this,n=this.props,i=n.onContinue,o=n.onSubmit,r=n.question,a=this.state,s=a.isSubmitting,c=a.didError;if(!r)return null;var l=this.getQuestionWithSubmission(),u=null==l?void 0:l.feedback,d=null==u?void 0:null===(e=u.definition)||void 0===e?void 0:e.isCorrect,p=qusetionTypeUtils_isPollQuestion(r),m="ready";return c?m="errored":s?m="submitting":u&&(m=d||p?"done":"retry"),Object(Q.d)("div",{role:"dialog","aria-labelledby":"dialog_videoQuizQuestion",className:"rc-VideoQuiz__window",css:Zs.videoQuizWindow,ref:function(e){t.windowRef=e}},Object(Q.d)(st.a,{variant:"titleSmall",component:"h2",id:"dialog_videoQuizQuestion",className:"video-quiz-header",css:Zs.videoQuizHeader},this.renderLabel()),Object(Q.d)(Hs,{isReadonly:void 0!==d,currentState:m,question:l}),Object(Q.d)(Gs,{onRetry:function(){return t.resetQuestion()},onContinue:i,onSubmit:function(e){t.setState({isSubmitting:!0}),o(e).then((function(n){var i,o,r,a,s=(null!==(i=null==n?void 0:null===(o=n.data)||void 0===o?void 0:null===(r=o.submitQuiz)||void 0===r?void 0:null===(a=r.contentResponseBody)||void 0===a?void 0:a.return)&&void 0!==i?i:{}).feedback;t.setState({isSubmitting:!1,didError:!1,latestFeedback:s,latestResponse:e}),t.setPersistedResponse(s,e)})).catch((function(){return t.setState({didError:!0})}))},question:r,questionState:m}),Object(Q.d)("button",{css:Zs.focusTrap,type:"button",className:"focus-trap",onFocus:this.handleFocus}))},Ts()(VideoQuizContent,[{key:"localStorageKey",get:function(){var e;return"videoQuizResponses.".concat(null===(e=this.props.question)||void 0===e?void 0:e.id)}}]),VideoQuizContent}(W.Component),Xs=function(e){function VideoQuiz(){return e.apply(this,arguments)||this}return tt()(VideoQuiz,e),VideoQuiz.prototype.render=function(){var e=this.props,t=e.onContinue,n=e.sessionId,i=e.itemId,o=e.courseSlug,r=e.question;if(!r)return null;var a=ee.a.get().id;return Object(Q.d)("div",{className:"rc-VideoQuiz",css:Zs.root},Object(Q.d)(Vs,{itemId:i,courseSlug:o,userId:a,sessionId:n,question:r},(function(e){var n=e.submitQuiz;return Object(Q.d)(Ys,{question:r,onContinue:t,onSubmit:n})})))},VideoQuiz}(W.Component),getSyncPlayerOnTimeUpdate=function(e){var t=e.player,n=e.trimmedDurationSeconds,i=e.trimmedStartTimeSeconds;return function(){var e=null==t?void 0:t.currentTime(),o=null==t?void 0:t.duration();if(t&&e&&o){var r=null!=i?i:0,a=n?Math.floor(r+n):o;e<r?t.currentTime(r):e>a&&(t.pause(),t.trigger("ended"))}}},syncPlayerDuration=function(e,t){t&&e.duration(t)};function toDecimalSeconds(e){return parseFloat(e.toFixed(3))}function toSeconds(e){return toDecimalSeconds(e/1e3)}function getVideoTrimmedDurationSeconds(e,t){return"number"!=typeof e||"number"!=typeof t?null:toSeconds(t-e)}var $s=t("F/us"),ec=t.n($s),tc=function Cuepoint(e,t,n){var i=ec()(t);this.name=i.has("name")?t.name:"",this.startTime=t.at||0,this.endTime=i.has("to")?t.to:0,this.type=i.has("to")?Cuepoint.RANGE:Cuepoint.POINT,this.callback=n||function(){},this.player=e,this.visible=i.has("visible")&&t.visible};tc.POINT=0,tc.RANGE=1,ec.a.extend(tc.prototype,{type:tc.POINT,visible:!1,marker:null,startTime:0,endTime:0,name:"",didFire:!1,move:function(e){this.startTime=parseFloat(e/100*this.player.duration()).toFixed(1),this.marker&&this.marker.move(e)},filter:function(e,t){if(this.type===tc.POINT)return e<this.startTime&&this.startTime<=t;var n=e>=this.startTime&&e<this.endTime,i=e<this.startTime,o=t>this.startTime&&t<this.endTime;return n||i&&o},setFired:function(e){this.didFire=e},fire:function(){this.name&&this.player.emitter.trigger("cuepoint."+this.name),this.callback&&this.callback(),this.setFired(!0)}});var nc=[],ic=!1;Ee.a.registerPlugin("addCuepoint",(function(e,t){this.eventEmitter(),nc.push(new tc(this,e,t)),this.on("seeking",(function(){ic=!0})),this.on("seeked",(function(){ic=!1;var e=this.currentTime();ec()(nc).chain().filter((function(t){return t.startTime>e})).forEach((function(e){e.setFired(!1)}))}));var n=0;this.on("timeupdate",(function(){var e=this.currentTime();ic||ec()(nc).chain().filter((function(t){return t.filter(n,e)&&!t.didFire})).invoke("fire"),n=e})),this.on("dispose",(function(){nc=[]}))})),Ee.a.registerPlugin("eventEmitter",(function(){this.emitter||(this.emitter=Yn.a.emitter())}));t("t9gw");var oc=t("oYk5"),rc=t.n(oc);function tab_visible(e){return rc.a.expr.filters.visible(e)&&!rc()(e).parents().addBack().filter((function(){return"hidden"===rc.a.css(this,"visibility")})).length}function _focusable(e){var t,n,i,o=e.nodeName.toLowerCase(),r=!isNaN(rc.a.attr(e,"tabindex"));return"area"===o?(n=(t=e.parentNode).name,!(!e.href||!n||"map"!==t.nodeName.toLowerCase())&&(!!(i=rc()("img[usemap=#"+n+"]")[0])&&tab_visible(i))):/^(input|select|textarea|button|object)$/.test(o)?!e.disabled&&tab_visible(e):"a"===o?(e.href||r)&&tab_visible(e):r&&tab_visible(e)}function tabbable(e){var t=rc.a.attr(e,"tabindex"),n=isNaN(t);return(n||t>=0)&&_focusable(e)}var ac={isFocusable:function(e){return _focusable(e,isNaN(rc.a.attr(e,"tabindex")))},isTabbable:tabbable,getNext:function(e){for(var t=e;t;)if((t=t.nextSibling)&&tabbable(t))return t;return null},getPrevious:function(e){for(var t=e;t;)if((t=t.previousSibling)&&tabbable(t))return t;return null}};Ee.a.registerPlugin("hotkeys",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},i=null;t.el().hasAttribute("tabIndex")||t.el().setAttribute("tabIndex","-1"),t.on("play",(function(){var e=t.el().querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var keyDown=function(i){var o=e.volumeStep||n.volumeStep,r=e.seekStep||n.seekStep,a=e.enableMute||n.enableMute,s=e.enableFullscreen||n.enableFullscreen,c=e.playbackStep||n.playbackStep,l=e.playbackLowerLimit||n.playbackLowerLimit,u=e.playbackUpperLimit||n.playbackUpperLimit;if(t.controls()){var d=document.activeElement;if(d===t.el()||d===t.el().querySelector(".iframeblocker"))if(32===i.which)i.preventDefault(),t.paused()?t.play():t.pause();else if(37===i.which){i.preventDefault();var p=t.currentTime()-r;t.currentTime()<=r&&(p=0),t.currentTime(p)}else 39===i.which?(i.preventDefault(),t.currentTime(t.currentTime()+r)):40===i.which?(i.preventDefault(),t.volume(t.volume()-o)):38===i.which?(i.preventDefault(),t.volume(t.volume()+o)):77===i.which?a&&(t.muted()?t.muted(!1):t.muted(!0)):70===i.which?s&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen()):i.shiftKey&&(190===i.which&&t.playbackRate()<u?t.playbackRate(t.playbackRate()+c):188===i.which&&t.playbackRate()>l&&t.playbackRate(t.playbackRate()-c))}};return t.on("keydown",keyDown),t.on("userinactive",(function(){if(t.controls()){var e=document.activeElement,n=rc()(t.controlBar.el_),restoreFocus=function(){t.el_.focus()};n.find(e).size()>0?(i=document.activeElement,n.css("transition")?n.one("transitionend",restoreFocus):restoreFocus()):i=null}})),t.on("useractive",(function(){if(t.controls()&&i){var e=rc()(t.controlBar.el_),returnFocus=function(){i&&(i.focus(),i=null)};e.css("transition")?e.one("transitionend",returnFocus):returnFocus()}})),rc()(document).on("keydown.videoJSPlayer",(function(e){if(9===e.which&&!t.userActive()){if(i){var n=null;(n=e.shiftKey?ac.getPrevious(i):ac.getNext(i))&&(i=n)}t.userActive(!0)}})),t.on("dispose",(function(e){rc()(document).off("keydown.videoJSPlayer")})),this})),Ee.a.registerPlugin("joinEvents",(function(){this.eventEmitter();var e=null,t=null,n=!1,triggerJoining=function(){n||(e=new Date,this.trigger("joining"))};this.on("play",triggerJoining),this.one("durationchange",(function(){t=new Date,n=!0,this.emitter.set("joined",{joinDuration:t-e}),this.off("play",triggerJoining)}))}));t("JAA1");var attachWaitTimer=function(e){var t=null,n=0,i="STOPPED",o=0,r=0,a=0,s=null,triggerEvent=function(){(o>0||r>0||a>0)&&(e.trigger({type:"waitmetrics",playDuration:o,waitDuration:r,waitCount:a}),o=0,r=0,a=0)},stopTimer=function(){s&&(clearInterval(s),s=null)},timerTick=function(){if(e.contentEl()){var s,c=new Date,l=e.currentTime();s=e.paused()?"STOPPED":l>n?"PLAYING":"WAITING";var u=c-t;"WAITING"!==i&&"WAITING"===s&&u<250||("WAITING"!==i&&"WAITING"===s&&(a+=1),"PLAYING"===s?o+=u:"WAITING"===s?r+=u:"STOPPED"===s&&(stopTimer(),triggerEvent()),o+r>=15e3&&triggerEvent(),t=c,n=l,i=s)}else stopTimer()},startTimer=function(){s||(t=new Date,s=setInterval(timerTick,100))};e.on("play",startTimer),e.on("timeupdate",startTimer)};Ee.a.registerPlugin("waitEvents",(function(){attachWaitTimer(this)}));var sc,cc=t("4x9Y"),lc=(t("DJ+3"),t("HXl9"),["onVideoPlayedToEnd"]),uc=["onVideoPlayedToEnd"],dc="VideoPlayer(corelex)",pc={volumeStep:.1,seekStep:10,enableMute:!0,enableFullscreen:!0,playbackStep:.25,playbackLowerLimit:.75,playbackUpperLimit:2},mc={videoPlayer:Object(Q.c)(sc||(sc=B()(["\n    .vjs-react {\n      font-family: OpenSans, Arial, sans-serif;\n\n      /* Player background-color defaults to black */\n      background-color: transparent;\n    }\n\n    .vjs-react .vjs-overlay {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      top: 0;\n      background-color: rgb(0 0 0 / 75%);\n      z-index: 3;\n      padding-top: 0;\n\n      .coursera-assess-assessment-in-video {\n        .coursera-assess-style-question-in-video {\n          padding: 36px !important;\n        }\n      }\n    }\n\n    .vjs-react .vjs-poster {\n      /* Poster defaults to black background. Make it transparent so it works with any color video player background. */\n      background-color: transparent;\n    }\n\n    .vjs-react.vjs-coursera-skin.vjs-coursera-phoenix-skin {\n      border-radius: var(--cds-border-radius-200);\n\n      /* Cover up the background that scrolls behind the video player\n         Because the outline appears outside its container, we need to leave space around the container to prevent the outline being cut off.\n         Temporary fix; will change to allocate space inside the container for the outline */\n      outline: ","px solid var(--cds-color-neutral-background-primary) !important;\n\n      &:focus {\n        /* !important is needed to override the !important styles\n           used by the legacy implementation */\n        outline: ","px solid #82a8e1 !important;\n      }\n\n      .vjs-mouse-display {\n        .vjs-time-tooltip {\n          top: -35px;\n          font-size: 13px;\n          border-radius: 1px;\n          background-color: #111;\n        }\n      }\n\n      .vjs-volume-panel {\n        &:hover {\n          .vjs-volume-control {\n            width: 3em;\n            height: 8em;\n            display: block;\n          }\n        }\n      }\n\n      .vjs-volume-control {\n        transition: none;\n        height: 0;\n        width: 0;\n        display: none;\n      }\n\n      .vjs-progress-holder {\n        margin: 0;\n      }\n\n      .vjs-text-track {\n        font-size: 1.8em;\n      }\n\n      .vjs-control-bar {\n        height: 35px;\n      }\n\n      .vjs-menu {\n        margin-bottom: 15px;\n      }\n\n      .vjs-tech {\n        z-index: 1;\n      }\n    }\n  "])),2,2)},hc=function(e){function VideoPlayer(t){var n;(n=e.call(this,t)||this).player=void 0,n.playerRef=W.createRef(),n.eventingVideoMetadata={videoId:""},n.hlsSource=void 0,n.state={videoProgress:null,videoQuizQueue:[],activeQuestion:null},n.togglePlayingState=function(e){n.player.paused()?(n.player.play(),e&&n.trackVideoPlayerClickEvent("video_play_hotkey",{})):(n.player.pause(),e&&n.trackVideoPlayerClickEvent("video_pause_hotkey",{}))},n.handleTabVisiblityForAutoPlayPause=function(){n.props.shouldDisableSkippingForward&&(document.hidden?n.player.pause():n.player.play())},n.handleWindowBlur=function(){n.props.shouldDisableSkippingForward&&n.player.pause()},n.handleWindowFocus=function(){n.props.shouldDisableSkippingForward&&n.player.play()},n.dismissVideoSkippingDisabledNotification=function(){(0,n.props.setShowVideoSkippingDisabledNotification)(!1)},n.handlePlayerKeyDown=function(e){var t=n.player.options(),i=pc.volumeStep,o=pc.seekStep,r=D()(D()({},t),pc),a=r.volumeStep,s=void 0===a?i:a,c=r.seekStep,l=void 0===c?o:c,u=n.props,d=u.shouldDisableSkippingForward,p=u.learnerMaxVideoProgressInSeconds,m=u.setShowVideoSkippingDisabledNotification;if(document.activeElement===n.player.el())switch(e.which){case 32:case 13:e.preventDefault(),n.togglePlayingState(!0);break;case 37:e.preventDefault();var h=n.player.currentTime(),f=null!=h?h:k,g=h-l;h<=l&&(g=0),n.player.currentTime(g),n.trackVideoPlayerClickEvent("video_seek_backward_hotkey",{previousVideoPosition:f,videoPosition:g});break;case 39:var v=n.player.currentTime(),b=null!=v?v:k,y=v+l;if(!d||y<p){e.preventDefault();var C=n.player.currentTime(y);n.player.currentTime(C),n.trackVideoPlayerClickEvent("video_seek_forward_hotkey",{previousVideoPosition:b,videoPosition:y})}else m(!0);break;case 38:e.preventDefault();var S=n.player.volume(),x=null!=S?S:k,w=S+s;n.player.volume(w),n.trackVideoPlayerClickEvent("video_volume_increase_hotkey",{previousVolume:x,volume:w});break;case 40:e.preventDefault();var O=n.player.volume(),T=null!=O?O:k,j=O-s;n.player.volume(j),n.trackVideoPlayerClickEvent("video_volume_decrease_hotkey",{previousVolume:T,volume:j})}},n.handlePlayerDblClick=function(e){if(e.preventDefault(),e.target.matches(as)){var t,i,o=n.player.options(),r=pc.enableFullscreen,a=D()(D()({},o),pc).enableFullscreen;if(void 0===a?r:a)if(ge.b.isFullScreen())ge.b.exitFullScreen({detail:{videoPlayer:null===(t=n.player)||void 0===t?void 0:t.el_}}),n.trackVideoPlayerClickEvent("video_full_screen_double_click_hotkey",{fullscreen:!1});else ge.b.enterFullScreen({detail:{videoPlayer:null===(i=n.player)||void 0===i?void 0:i.el_}}),n.trackVideoPlayerClickEvent("video_full_screen_double_click_hotkey",{fullscreen:!0})}},n.handleDocumentKeyDown=function(e){var t=n.player.options(),i=e.ctrlKey||e.altKey||e.metaKey;if(n.trapFocusInIvq(e),!i){var o=pc.enableMute,r=pc.enableFullscreen,a=pc.playbackStep,s=pc.playbackLowerLimit,c=pc.playbackUpperLimit,l=D()(D()({},t),pc),u=l.enableMute,d=void 0===u?o:u,p=l.enableFullscreen,m=void 0===p?r:p,h=l.playbackStep,f=void 0===h?a:h,g=l.playbackLowerLimit,v=void 0===g?s:g,b=l.playbackUpperLimit,y=void 0===b?c:b,C=e.target||e.srcElement,S=C.tagName;if(!("INPUT"===S||"SELECT"===S||"TEXTAREA"===S||C.isContentEditable))switch(e.which){case 75:e.preventDefault(),n.player.paused()?(n.player.play(),n.trackVideoPlayerClickEvent("video_play_hotkey",{})):(n.player.pause(),n.trackVideoPlayerClickEvent("video_pause_hotkey",{}));break;case 77:e.preventDefault(),d&&(n.player.muted(!n.player.muted()),n.trackVideoPlayerClickEvent("video_mute_hotkey",{}));break;case 70:var x,w;if(e.preventDefault(),m)if(ge.b.isFullScreen())ge.b.exitFullScreen({detail:{videoPlayer:null===(x=n.player)||void 0===x?void 0:x.el_}}),n.trackVideoPlayerClickEvent("video_full_screen_hotkey",{fullscreen:!1});else ge.b.enterFullScreen({detail:{videoPlayer:null===(w=n.player)||void 0===w?void 0:w.el_}}),n.trackVideoPlayerClickEvent("video_full_screen_hotkey",{fullscreen:!0});break;case 190:e.preventDefault();var O=n.player.playbackRate();if(e.shiftKey&&O<y){var T=null!=O?O:k,j=O+f;n.player.playbackRate(j),n.trackVideoPlayerClickEvent("video_playback_rate_increase_hotkey",{previousPlaybackRate:T,playbackRate:j})}break;case 188:e.preventDefault();var P=n.player.playbackRate();if(e.shiftKey&&P>v){var E=null!=P?P:k,I=P-f;n.player.playbackRate(I),n.trackVideoPlayerClickEvent("video_playback_rate_decrease_hotkey",{previousPlaybackRate:E,playbackRate:I})}}}},n.initializeSubtitleTracks=function(){var e=Jn()(n.player.textTracks(),(function(e){return e.language===An.a.get("subtitleLanguage")}));e&&(e.mode="showing"),n.player.trigger("trackloaded")},n.setupTrimmedDurationSeconds=function(){syncPlayerDuration(n.player,n.props.viewOptions.videoContent.trimmedDurationSeconds)},n.onLoadedMetadata=function(){n.setUserPreferences(),n.initializeSubtitleTracks(),n.attachVideoEndedListener(),n.initializeVideoQuizListeners(),n.attachVideoProgressCuepoints(),n.setupTrimmedDurationSeconds()},n.applySubtitlePosition=function(e){var t=e.textTracks,n=e.line,i=void 0===n?100:n,o=e.position,r=void 0===o?50:o,a=e.align,s=void 0===a?"bottom":a;t.forEach((function(e){return e.cues&&Object.keys(e.cues).forEach((function(t){e.cues&&(e.cues[t].position=r,e.cues[t].line=i,e.cues[t].align=s)}))}))},n.createVideoJSPlayer=function(){var e,t=n.props,i=t.viewOptions,o=i.videoContent,r=i.nextItemMetadataOrItemGroup,a=i.course,s=t.layoutMode,c=void 0===s?"fluid":s,l=o.name,u=o.itemMetadata,d=o.sources,p=null!==(e=si.a.get("enableNewDefaultResolution"))&&void 0!==e&&e,m=An.a.get("resolution")||videoUtils_getDefaultVideoResolution(p),h=getVideoSource(d,m),f="fluid"===c?{fluid:!0}:{fill:!0},g=Object($n.a)(),v={nextItemMetadataOrItemGroup:r,title:l,subtitle:a.get("name"),courseId:a.get("id"),itemId:u.get("id"),moduleName:u.get("module.name"),moduleId:u.get("module.id"),lessonId:u.get("lesson.id"),lessonName:u.get("lesson.name"),defaultSubtitleLanguage:An.a.get("subtitleLanguage"),controls:!1,html5:{nativeTextTracks:g,nativeAudioTracks:!1,nativeVideoTracks:!1,vhs:{overrideNative:!0,limitRenditionByPlayerDimensions:!0,useDevicePixelRatio:!0}},poster:o.getPosterForResolution("720p"),sources:isHlsEnabled()&&n.hlsSource?[{type:"application/x-mpegURL",src:n.hlsSource}]:n.formatVideoSource(h),plugins:{hotkeys:{},resolutions:{sourcesByResolution:videoUtils_formatSourcesByResolution(o.sources),resolution:m},joinEvents:{},waitEvents:"IE"!==Xn.a.browser.name?{}:void 0}},b=D()(D()({},v),f),y=Object(Ee.a)(n.videoNode,b);return y.emitter||(y.emitter=Yn.a.emitter()),y.setupHeartbeatListener(),y.currentTrack=function(){return y.textTracks().tracks_.find((function(e){return"showing"===e.mode}))},y},n.syncPlayer=getSyncPlayerOnTimeUpdate({player:n.player,trimmedDurationSeconds:n.props.viewOptions.videoContent.trimmedDurationSeconds}),n.handleTimeUpdate=function(){n.syncPlayer(),n.props.setLearnerMaxVideoProgressInSeconds(Math.max(n.props.learnerMaxVideoProgressInSeconds,n.player.currentTime()))},n.setupVideoPlayerEvents=function(e){var t=n.props.viewOptions,i=t.videoContent.subtitlesVtt,o=t.setInteractiveTranscript,r=t.course;e.ready((function(){var t=r.get("primaryLanguageCodes");o({player:e,languageMap:i,defaultLanguage:t&&t[0]})})),e.on("error",(function(){Object(cc.a)(e,dc)})),e.on("contextmenu",(function(e){n.props.isContextMenuEnabled||e.preventDefault()})),e.on("loadedmetadata",n.onLoadedMetadata),e.on("durationchange",n.setInitialPlaybackTime),e.on("play",(function(){var e=Array.from(n.player.textTracks());n.applySubtitlePosition({textTracks:e})})),e.on("timeupdate",n.handleTimeUpdate),e.on("keydown",n.handlePlayerKeyDown),document.addEventListener("keydown",n.handleDocumentKeyDown)},n.setInitialPlaybackTime=function(){var e,t=n.props.viewOptions,i=t.course,o=t.videoContent,r=t.startPlaybackSeconds;n.player.off("durationchange",n.setInitialPlaybackTime);var a=null!==(e=o.trimmedStartTimeSeconds)&&void 0!==e?e:0,s=o.trimmedDurationSeconds;if(void 0!==r)n.setPlaybackTime(r);else{var c=o.videoId,l=i.get("id");ds.get(l,c).then((function(e){return e.elements[0]})).fail((function(){return ee.a.isAuthenticatedUser()?{courseId:l,videoId:c,userId:ee.a.get().id,viewedUpTo:a}:{}})).done((function(e){var t=e.viewedUpTo,i=toDecimalSeconds((void 0===t?0:t)/1e3);if(a>i&&(i=a),s){var o=s+a;i>o&&(i=o)}n.setState({videoProgress:D()(D()({},e),{},{viewedUpTo:1e3*i})}),n.setPlaybackTime(i,!a),n.trackInitialVideoPlayerEvent(i)}))}},n.setUserPreferences=function(){var e=An.a.get("playbackRate"),t=An.a.get("volume");n.player.playbackRate(e),n.player.volume(t)},n.updateProgress=function(){var e=n.props.viewOptions,t=e.course,i=e.videoContent,o=n.player.duration(),r=n.player.currentTime(),a=o*y,s=parseInt((1e3*n.player.currentTime()).toString(),10);r>a&&(s=0);var c=i.videoId,l=t.get("id");ds.update(l,c,s)},n.initializeVideoQuizListeners=function(){var e=n.props.viewOptions.videoQuizModel;if(e){var t=e.questions,i=void 0===t?[]:t,o=Kn()(Wn()(i,"video.order","desc"),"video.cuePointMs");Object.keys(o).forEach((function(e){var t=o[e],i=parseInt(e,10)/1e3;n.player.addCuepoint({at:i,visible:!0},(function(){var e=Ue()(t),i=n.getScrollContainer();n.player.pause(),n.player.emitter.trigger("videoQuizView.visible"),i&&(i.scrollTop=0);var o=e.pop();n.setState({activeQuestion:o,videoQuizQueue:e})}))}))}},n.attachVideoProgressCuepoints=function(){var e=n.props.viewOptions.videoContent.trimmedDurationSeconds,t=null!=e?e:n.player.duration();[.25,.5,.75].forEach((function(e){var i=t*e;n.player.addCuepoint({at:i,visible:!0},(function(){n.updateProgress()}))}))},n.attachVideoEndedListener=function(){var e,t=n.props.viewOptions.videoContent,i=t.trimmedDurationSeconds,r=(t.trimmedStartTimeSeconds,null!=i?i:n.player.duration()),a=r*y,s=r+i;n.player.addCuepoint({at:a,to:s},(e=!1,function(){if(!e){e=!0;var t=n.props,i=t.viewOptions,r=i.videoContent,a=i.courseProgress,s=t.itemMetadata,c=r.itemMetadata.getId(),l=a.getItemProgress(c);o()(fs(r,"ended")).then((function(e){if(l&&e&&e.itemProgress){var t=n.context.executeAction,i=D()(D()({},e.itemProgress),{},{progressState:ae.e});l.set(i),t(li.c,{courseProgress:a});var o=s.get("course").get("slug");t(ci.a,{courseSlug:o,refetch:!0}),Object(li.b)(a.get("id"),a)}})).done();var u=n.context._eventData.namespace.app;AnalyticsMetadataFetcher_createVideoEventTracker(u,n.player)("end")}}));var c=n.props.onVideoPlayedToEnd;n.player.one("ended",(function(){var e=n.props.itemMetadata.get("id"),t=An.a&&An.a.get("autoplay"),i=ge.b.isFullScreen();c({itemId:e,isAutoPlayEnabled:t,isFullScreenEnabled:i})}))},n.formatVideoSource=function(e){var t=[{type:"video/webm",src:e["video/webm"]}];return Object.keys(e).filter((function(e){return"video/webm"!==e})).forEach((function(n){t.push({type:n,src:e[n]})})),t},n.resumePlayback=function(){var e=n.player.duration();n.player.emitter.trigger("videoQuizView.hidden"),n.setState({activeQuestion:null}),e>n.player.currentTime()&&n.player.play()},n.goToNextIVQorResumePlayback=function(){var e=n.state.videoQuizQueue;if(e.length>0){var t=e.pop();t&&n.setState({activeQuestion:t,videoQuizQueue:e})}else n.resumePlayback()},n.setupEventingVideoMetadata=function(){var e,t=n.props,i=t.viewOptions,o=i.videoContent,r=i.course,a=t.learnerMaxVideoProgressInSeconds,s=o.name,c=o.itemMetadata,l=null!==(e=si.a.get("enableNewDefaultResolution"))&&void 0!==e&&e,u=An.a.get("resolution")||videoUtils_getDefaultVideoResolution(l);return{videoId:c.get("id"),autoplay:An.a.get("autoplay"),courseId:r.get("id"),courseName:r.get("name"),courseSlug:r.get("slug"),fullscreen:ge.b.isFullScreen(),lessonId:c.get("lesson.id"),lessonName:c.get("lesson.name"),moduleId:c.get("module.id"),moduleName:c.get("module.name"),playbackRate:An.a.get("playbackRate"),resolution:getResolutionNumber(u),subtitleLanguage:An.a.get("subtitleLanguage"),videoDuration:c.get("timeCommitment")/1e3,videoLibraryVersion:String(Ee.a.VERSION),videoName:s,videoPosition:a?Math.round(a):k,volume:An.a.get("volume")}},n.trackVideoPlayerClickEvent=function(e,t){var i=n.props.trackV3;n.eventingVideoMetadata=n.setupEventingVideoMetadata(),i("click_button",{button:{name:e},videoPlayer:D()(D()({},n.eventingVideoMetadata),t)})},n.trackInitialVideoPlayerEvent=function(e){var t=n.props.trackV3;n.eventingVideoMetadata=n.setupEventingVideoMetadata(),t("view_button",{button:{name:"video_player"},videoPlayer:D()(D()({},n.eventingVideoMetadata),{},{videoPosition:e})})};var i=t.viewOptions.videoContent.getHlsSource()+"&source=web";return n.hlsSource=isHlsEnabled()?i:void 0,n}tt()(VideoPlayer,e);var t=VideoPlayer.prototype;return t.componentDidMount=function(){var e,t=this.props,n=t.viewOptions,i=n.setVideoPlayer,o=n.videoContent,r=n.courseProgress,a=t.setVideoRegion,s=t.checkLearnerVideoProgress,c=o.itemMetadata.getId(),l=r.getItemProgress(c).get("progressState"),u=o.disableSkippingForward;document.addEventListener("visibilitychange",this.handleTabVisiblityForAutoPlayPause),window.addEventListener("blur",this.handleWindowBlur),window.addEventListener("focus",this.handleWindowFocus),s(l,u),this.player=this.createVideoJSPlayer(),this.setupVideoPlayerEvents(this.player),i(this.player),a(this.videoNode),null!==(e=this.playerRef)&&void 0!==e&&e.current&&(this.playerRef.current.tabIndex=-1)},t.componentDidUpdate=function(e){e.deferAutoplayListener&&!this.props.deferAutoplayListener&&this.props.viewOptions.autoplay&&this.player.play()},t.componentWillUnmount=function(){var e=this,t=this.props.viewOptions.setInteractiveTranscript;document.removeEventListener("visibilitychange",this.handleTabVisiblityForAutoPlayPause),window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("focus",this.handleWindowFocus),this.updateProgress(),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.player&&(this.player.isFullscreen()?(this.player.one("fullscreenchange",(function(){e.player.dispose()})),this.player.exitFullscreen()):this.player.dispose()),t(null)},t.trapFocusInIvq=function(e){var t=document.querySelector(".vjs-overlay");if(t){var n=Array.from(t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]')).filter((function(e){return"none"!==e.style.display})),i=n[0],o=n[n.length-1];9===e.keyCode&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),i.focus()))}},t.setPlaybackTime=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.max(0,e-(t?C:0));this.player.currentTime(n)},t.getScrollContainer=function(){return document.querySelector('[data-id="item-scroll-container"]')},t.render=function(){var e,t=this,n=this.props,i=n.viewOptions,o=n.viewOptions.nextItemMetadataOrItemGroup,r=n.ariaLabel,a=n.visibility,s=n.itemMetadata,c=n.isFullscreen,l=n.layoutMode,u=void 0===l?"fluid":l,d=n.autoNextCountdownSeconds,p=n.showVideoSkippingDisabledNotification,m=n.isAutoNextPaused,h=D()(D()({},i),{},{videoPlayer:this.player}),f=h.videoContent,g=h.videoQuizModel,v=h.autoplay,b=(g||{}).questions,y=void 0===b?[]:b,C=this.state,S=C.videoProgress,k=C.activeQuestion,x=null!==(e=si.a.get("enableVideoPlayerModernization"))&&void 0!==e&&e,w=f.getSources(),O=f.subtitlesVtt;for(var T in O)O[T]&&O[T].url&&(O[T].url=O[T].url.replace(/^https?:\/\/[^\/]+\//,"/"));var j=v?void 0:f.getPosterForResolution("720p"),P=w["video/webm"],E="fill"===u?{width:"100%",height:"100%"}:{},I=We()("vjs-react","c-video",{"vjs-fluid":"fluid"===u},"vjs-circle-play-centered","vjs-coursera-skin","vjs-coursera-phoenix-skin","video-js",{"vjs-fill":"fill"===u}),M=s.get("id"),V=isHlsEnabled(),R=V&&!!this.hlsSource;return Object(Q.d)("div",{css:mc.videoPlayer,ref:function(e){var n,i;e&&(ge.b.setOriginalContainerElRef(e),null!==(n=t.player)&&void 0!==n&&n.el_&&ge.b.setFullScreenElRef(null===(i=t.player)||void 0===i?void 0:i.el_))},style:D()({position:"relative"},E),onDoubleClick:this.handlePlayerDblClick},Object(Q.d)("div",{"data-vjs-player":!0,ref:this.playerRef},g&&Object(Q.d)(Xs,{key:null==k?void 0:k.id,onContinue:this.goToNextIVQorResumePlayback,itemId:M,courseSlug:s.get("course").get("slug"),sessionId:null==g?void 0:g.sessionId,question:k}),Object(Q.d)("video",{className:I,crossOrigin:"anonymous",preload:"auto",ref:function(e){t.videoNode=e},poster:j,autoPlay:v,tabIndex:0,"aria-label":r},P&&Object(Q.d)("source",{key:w[P],type:"video/webm",src:P}),R?Object(Q.d)("source",{key:this.hlsSource,type:"application/x-mpegURL",src:this.hlsSource}):Object.keys(w).filter((function(e){return"video/webm"!==e})).map((function(e){var t=w[e];return Object(Q.d)("source",{key:t,type:e,src:t})})),Object.keys(O).map((function(e){var t=O[e];return Object(Q.d)("track",{key:e,kind:"captions",label:Si()(t.label),src:t.url,srcLang:e})}))),Object(Q.d)("div",{role:"alert"},p&&Object(Q.d)(learning_effort_VideoSkippingDisabledNotification,{onDismiss:this.dismissVideoSkippingDisabledNotification})),this.player&&Object(Q.d)(ss,{enableHls:R,defaultSubtitleLanguage:An.a.get("subtitleLanguage"),nextItem:o,player:this.player,videoQuizQuestions:y,onChangeFullScreen:function(e){var n,i,o,r;e?ge.b.exitFullScreen({detail:{videoPlayer:null===(o=t.player)||void 0===o?void 0:o.el_}}):ge.b.enterFullScreen({detail:{videoPlayer:null===(r=t.player)||void 0===r?void 0:r.el_}});t.trackVideoPlayerClickEvent("video_full_screen",{fullscreen:!e}),null===(n=(i=t.props).onChangeFullScreen)||void 0===n||n.call(i,!e)},itemMetadata:s,visibility:a,isFullscreen:c,autoNextCountdownSeconds:d,isAutoNextPaused:m,trackV3:this.trackVideoPlayerClickEvent,trimmedStartTimeSeconds:f.trimmedStartTimeSeconds,trimmedDurationSeconds:f.trimmedDurationSeconds,enableVideoPlayerModernization:x||V,videoBoundaryElement:this.playerRef.current||void 0}),this.player&&Object(Q.d)(gi,{player:this.player,videoProgress:S})))},VideoPlayer}(W.Component);hc.contextTypes={executeAction:Y.a.func,_eventData:Y.a.object};var fc,gc,vc,bc,yc,Cc,Sc,kc,xc,wc,Oc,Tc,VideoPlayer_VideoPlayerWithFirstPlay=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext(),n=t.onVideoPlayedToEnd,i=Un()(t,lc),o=e.onVideoPlayedToEnd,r=Un()(e,uc);return Object(Q.d)(hc,I()({},r,i,{onVideoPlayedToEnd:function(e){o(e),n()}}))},VideoPlayer_VideoPlayerWithDayOneOnboardingContext=function(e){var t=Object(ai.b)().isOpen;return Object(Q.d)(VideoPlayer_VideoPlayerWithFirstPlay,I()({},e,{viewOptions:D()(D()({},e.viewOptions),{},{autoplay:e.viewOptions.autoplay&&!t}),deferAutoplayListener:t}))},jc=Object(j.b)(P.b.createTrackedContainer((function(){return{namespace:{app:"open_course.video",page:"item_layout"}}})))((function(e){var t=Object(ui.e)();return Object(Q.d)(ri.a,{componentName:dc,errorComponent:Object(Q.d)(ei.a,{severity:"error",title:Si()("There has been an error"),role:"alert"},Si()("An error was encountered while playing this video, and our development team has been alerted. Please try again later."))},Object(Q.d)(VideoPlayer_VideoPlayerWithDayOneOnboardingContext,I()({},e,{trackV3:t})))})),cds_VideoOrigamiRegion=function(e){var t,n=e.computedItem,i=e.courseProgress,o=e.verificationDisplay,r=e.itemMetadata,a=e.videoContent,s=e.videoQuizModel,c=e.startPlaybackSeconds,l=e.autoplay,u=e.setVideoPlayer,d=e.setInteractiveTranscript,p=e.setVideoRegion,m=e.ariaLabel,h=e.isFullscreen,f=e.layoutMode,g=e.visibility,v=e.isContextMenuEnabled,b=e.autoNextCountdownSeconds,y=e.onVideoPlayedToEnd,C=e.isAutoNextPaused,S=r.get("course"),k=r.get("courseMaterials"),x={course:S,courseProgress:i,computedItem:n,videoContent:a,videoQuizModel:s,nextItemMetadataOrItemGroup:null==k?void 0:null===(t=k.getNeighbors(r))||void 0===t?void 0:t.nextItemMetadataOrItemGroup,verificationDisplay:o,startPlaybackSeconds:c,autoplay:l,setVideoPlayer:u,setInteractiveTranscript:d};return W.createElement(jc,{viewOptions:x,setVideoRegion:p,ariaLabel:m,itemMetadata:r,visibility:g,isFullscreen:h,layoutMode:f,isContextMenuEnabled:v,autoNextCountdownSeconds:b,onVideoPlayedToEnd:y,isAutoNextPaused:C})},Pc=t("GqWO"),DiscussTabContent_DiscussTabContent=function(e){var t=e.weekNumber;Object(it.a)();return Object(Q.d)("div",{css:Object(Q.c)(fc||(fc=B()(["\n        max-width: 700px;\n        padding-bottom: var(--cds-spacing-200);\n      "])))},Object(Q.d)(st.a,{component:"p",variant:"bodyPrimary"},O()("You can visit the Forums page to see all the different topics and discussions that are available. From there, you can post a question, start a new discussion, or join an existing conversation.")),Object(Q.d)("div",{css:Object(Q.c)(gc||(gc=B()(["\n          margin-top: var(--cds-spacing-300);\n        "])))},Object(Q.d)(qa.a,{icon:vc||(vc=Object(Q.d)(_n.a,null)),"aria-label":O()("Discuss, opens discussion forums in another browser window"),variant:"quiet",iconPosition:"after",href:Object(Pc.q)(t),target:"_blank",typographyVariant:"bodyPrimary"},O()("Discuss"))))},Ec=t("ahDc"),Ic=t("9A5E"),tabContent_DownloadTabContent=function(e){var t=e.lectureDownloadLinks;return Object(Q.d)("ul",{css:function(){return Object(Q.c)(bc||(bc=B()(["\n        list-style: none;\n        margin: 0;\n        padding: 0 0 0 var(--cds-spacing-100);\n      "])))}},t.map((function(e){var t=e.download,n=e.displayName,i=e.href,o=e.fileType,r=e.trackingName,a=e.data,s=e.onClick;return Object(Q.d)("li",{key:"".concat(n).concat(o),css:function(){return Object(Q.c)(yc||(yc=B()(["\n            margin-bottom: var(--cds-spacing-300);\n          "])))}},Object(Q.d)(qa.a,{variant:"quiet",component:Ic.a,onClick:s,href:i,data:a,download:t,trackingName:r,target:"_blank",rel:"noopener noreferrer",icon:Cc||(Cc=Object(Q.d)(Ec.a,null)),iconPosition:"before",typographyVariant:"bodyPrimary"},"".concat(n," ").concat(o)))})))},Mc=t("1M3H"),Vc=t.n(Mc),_c=t("qSs1"),Rc=t("vUL0"),Nc={overrideContextualHelpStyles:function(){return Object(Q.c)(Sc||(Sc=B()(["\n    .cds-ContextualHelp-container {\n      @media (min-width: 600px) {\n        display: flex;\n        justify-content: flex-end;\n      }\n    }\n  "])))}},LectureSummaryContent_LectureSummaryContent=function(e){var t=e.itemSummaryHtml,n=e.name,i=(Object(it.a)(),Vc()({breaks:!0}).render(null!=t?t:""));return Object(Q.d)("div",{css:Object(Q.c)(kc||(kc=B()(["\n        max-width: 700px;\n        padding-bottom: var(--cds-spacing-200);\n      "])))},Object(Q.d)(ie.a,{container:!0,spacing:16},Object(Q.d)(ie.a,{container:!0,item:!0,justifyContent:"space-between"},Object(Q.d)(ie.a,{xs:12,sm:6},Object(Q.d)(st.a,{component:"h3",variant:"subtitleMedium"},n)),Object(Q.d)(ie.a,{xs:12,sm:6},Object(Q.d)(_c.a,{css:Nc.overrideContextualHelpStyles,helpToggleProps:{"aria-label":O()("Information about Coursera Coach")},tooltipProps:{closeButtonProps:{"aria-label":O()("Close information about Coursera Coach")}},label:Object(Q.d)(W.Fragment,null,Object(Q.d)(st.a,{component:"p",variant:"bodyPrimary",color:"supportText"},O()("Generated by")),Object(Q.d)(Rc.a,{hexColorCode:"#0056d2",css:Object(Q.c)(xc||(xc=B()(["\n                      height: 12px;\n                      width: 80px;\n                      margin-left: 4px;\n                      margin-right: 4px;\n                    "])))}),Object(Q.d)(st.a,{component:"p",css:Object(Q.c)(wc||(wc=B()(["\n                      color: #0056d2;\n                    "])))},O()("coach")))},Object(Q.d)(st.a,{component:"p"},O()("Coursera Coach is an AI-powered assistant that helps you review, summarize, and retain what you're learning."))))),Object(Q.d)(ie.a,{item:!0},t&&Object(Q.d)(st.a,{component:"p",dangerouslySetInnerHTML:{__html:i}}))))},NotesTabContent_NotesTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.loading,n=e.videoPlayer,i=e.highlights,o=e.notificationAnnouncement,r=e.onDelete,a=e.onUpdate;return Object(Q.d)("div",{css:Object(Q.c)(Oc||(Oc=B()(["\n        max-width: 700px;\n      "])))},Object(Q.d)(qt,{loading:t,videoPlayer:n,highlights:i,notificationAnnouncement:o,onDelete:r,onUpdate:a}))},Lc=t("He/R"),Dc=t("fguj"),Fc={namespace:{app:"ondemand",page:"interactive_transcript"}},Hc=t("kj/T"),Ac=t.n(Hc),components_TrackChooser=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelect,o=e.courseId,r=e.itemId;return Object(Q.d)(Lc.a,{"data-testid":"track-chooser-select",defaultValue:n.languageCode,onChange:function(e){var a=e.target.value,s=n.languageCode,c={itemId:r,courseId:o,previousLanguage:s};if("-1"===a){var l=D()(D()({},c),{},{newLanguage:void 0});P.b.trackComponent(Fc,l,"track_chooser","deselected")}else{var u=D()(D()({},c),{},{newLanguage:a});P.b.trackComponent(Fc,u,"track_chooser","selected")}var d=t.getFromLanguageCode(a);_e.set("language-code",a),i&&i(d)},label:Ac()("Transcript language"),labelPlacement:"integrated"},t.toArray().map((function(e){var t=e.label,n=e.languageCode;return Object(Q.d)(Dc.a,{key:"track-".concat(n),value:n,"aria-label":"".concat(Ac()("Language"),", ").concat(t)},t)})))},Bc=t("8WNh"),zc=t("WG1l"),Uc=t.n(zc),findParentCueElement=function(e){return e.matches(".rc-Phrase")?e:e.closest(".rc-Phrase")},findCueElementWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"]'))},findCueMarkWithIndex=function(e){return document.querySelector('[data-cue-index="'.concat(e,'"] mark'))},getCueIndex=function(e){var t=e.getAttribute("data-cue-index");return null==t?null:parseInt(t,10)},getCueIndexFromText=function(e){if(!e||!e.parentElement)return null;var t=findParentCueElement(e.parentElement);return t?getCueIndex(t):null},Qc=function getTextNodesFromPhrase(e){return"#text"===e.nodeName?[e]:Array.from(e.childNodes).reduce((function(e,t){return[].concat(Ue()(e),Ue()(getTextNodesFromPhrase(t)))}),[])},getHighlightsForCue=function(e,t){return t.filter((function(t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex&&(t.transcriptTextStartIndex.cueIndex===e.index||t.transcriptTextEndIndex.cueIndex===e.index||e.index>t.transcriptTextStartIndex.cueIndex&&e.index<t.transcriptTextEndIndex.cueIndex)}))},getHighlightedTextIndicesForCue=function(e,t){return t.transcriptTextStartIndex&&t.transcriptTextEndIndex?e.index===t.transcriptTextStartIndex.cueIndex?e.index===t.transcriptTextEndIndex.cueIndex?{start:t.transcriptTextStartIndex.textIndex,end:t.transcriptTextEndIndex.textIndex+1}:{start:t.transcriptTextStartIndex.textIndex,end:e.text.length+1}:e.index>t.transcriptTextStartIndex.cueIndex?e.index<t.transcriptTextEndIndex.cueIndex?{start:0,end:e.text.length+1}:e.index===t.transcriptTextEndIndex.cueIndex?{start:0,end:t.transcriptTextEndIndex.textIndex+1}:{start:0,end:0}:{start:0,end:0}:{start:0,end:0}},getHighlightForCueElement=function(e,t){var n=getCueIndex(t);return null===n?null:e.find((function(e){var t=e.transcriptTextStartIndex,i=e.transcriptTextEndIndex;return!(!t||!i)&&(n>=t.cueIndex&&n<=i.cueIndex)}))},getIsCueIncludedInHighlight=function(e,t){var n=t.transcriptTextStartIndex,i=t.transcriptTextEndIndex;return!(!n||!i)&&(e.index>=n.cueIndex&&e.index<=i.cueIndex)},getTranscriptSelection=function(){var e=window.getSelection();if(e&&e.toString()){var t,n,i=e.anchorNode,o=e.anchorOffset,r=e.focusNode,a=e.focusOffset,s=getCueIndexFromText(r),c=getCueIndexFromText(i);if(null!==c&&null!==s)return c<s?(t={cueIndex:c,textIndex:o},n={cueIndex:s,textIndex:a-1}):c===s?(t={cueIndex:c,textIndex:Math.min(o,a)},n={cueIndex:c,textIndex:Math.max(o,a)-1}):(t={cueIndex:s,textIndex:a},n={cueIndex:c,textIndex:o-1}),{transcriptTextStartIndex:t,transcriptTextEndIndex:n}}},mouseMovedInNeighborhoodOfHighlight=function(e,t,n){var i=t.transcriptTextStartIndex,o=t.transcriptTextEndIndex;if(!i||!o)return!1;var r=findCueMarkWithIndex(i.cueIndex),a=findCueMarkWithIndex(o.cueIndex);if(!r||!a)return!1;var s=r.getBoundingClientRect(),c=a.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.left+50,d=l.right-250,p=Math.min(s.top,c.top)-50,m=Math.max(s.bottom,c.bottom);return e.clientX>=u&&e.clientX<=d&&e.clientY>=p&&e.clientY<=m},Wc=function getClosestTextNodeInTree(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=e;null!=i&&(3!==i.nodeType||i===n);){var o=i.childNodes,r="left"===t?o[o.length-1]:o[0],a=(i||{}).childNodes.length>0&&getClosestTextNodeInTree(r,t,n);i=a||("left"===t?i.previousSibling:i.nextSibling)}return i},getAdjacentTextNode=function(e,t){var n=Wc(e,t);if(n)return n;for(var i=e.parentElement;"left"===t?!i.previousSibling:!i.nextSibling;)i=i.parentElement;var o="left"===t?i.previousSibling:i.nextSibling;return 3===(null==o?void 0:o.nodeType)?o:Wc(o,t)},TranscriptHighlighterUtils_getTextNodeWordStartingOffsets=function(e){var t=e.data.split(" ");return 1===t.length?[0]:t.reduce((function(e,n,i){return[].concat(Ue()(e),[e[i]+n.length+(i!==t.length-1?1:0)])}),[0])},expandSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var o=i.getRangeAt(0),r=o.startContainer,a=o.startOffset,s=o.endContainer,c=o.endOffset,l="left"===t?r:s,u="left"===t?a:c,d="left"===t?0===u:u>=l.length-1,p=d?getAdjacentTextNode(l,t):l;if(p)if("word"===n){var m=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var h=d?p.length-1:u,f=m.find((function(e,t){return h>e&&h<=m[t+1]}))||0;o.setStart(p,f)}else{var g=d?0:u,v=m.find((function(e,t){return g>=m[t-1]&&g<e}))||m[m.length-1];o.setEnd(p,v)}}else if("phrase"===n)if("left"===t){o.setStart(p,0)}else{var b=p.length-1;o.setEnd(p,b)}}},contractSelection=function(e){var t=e.direction,n=e.magnitude,i=window.getSelection();if(i){var o=i.getRangeAt(0),r=o.startContainer,a=o.startOffset,s=o.endContainer,c=o.endOffset,l="left"===t?s:r,u="left"===t?c:a,d="left"===t?0===u:u>=l.length-1,p=d?getAdjacentTextNode(l,t):l;if(p)if("word"===n){var m=TranscriptHighlighterUtils_getTextNodeWordStartingOffsets(p);if("left"===t){var h=d?p.length-1:u,f=m.find((function(e,t){return h>e&&h<=m[t+1]}))||0;o.setEnd(p,f)}else{var g=d?0:u,v=m.find((function(e,t){return g<e&&g>=m[t-1]}))||m[m.length-1];o.setStart(p,v)}}else if("phrase"===n)if("left"===t){o.setEnd(p,0)}else{var b=p.length-1;o.setStart(p,b)}}},Phrase_styles=function(e){var t="rgba(42, 181, 115, 0.15)";return Object(Q.c)(Tc||(Tc=B()(["\n    opacity: 1;\n    display: inline;\n\n    &:hover {\n      cursor: text;\n      background-color: #eee;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &.active {\n      background-color: ",";\n      outline: 1px solid ",";\n      outline-offset: -1px;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.highlighted {\n      .highlight {\n        background-color: ",";\n      }\n\n      &:hover {\n        background-color: transparent;\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background: transparent;\n        }\n      }\n    }\n\n    &.targeted {\n      &:hover {\n        background-color: transparent;\n      }\n\n      .highlight {\n        background-color: ",";\n      }\n\n      &.active {\n        background-color: ",";\n\n        .highlight {\n          background-color: transparent;\n        }\n      }\n    }\n  "])),t,"rgba(42, 181, 115, 0.5)","rgba(59, 175, 218, 0.2)",t,"rgba(59, 175, 218, 0.4)",t)},qc=function(e){function Phrase(t){var n;return(n=e.call(this,t)||this).setPhraseRef=function(e){n.phrase=e},n.handleClick=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t.preventDefault();var i=n.props,o=i.cue,r=i.onClick;n.phrase&&n.phrase.setAttribute("tabIndex","0");var a=window.getSelection();a&&a.toString()||n.phrase&&n.phrase.focus(),r&&r(o,e)}},n.handleFocus=function(){var e=n.props.onFocus;window.setTimeout((function(){var t=window.getSelection();if(n.phrase&&t){var i=n.getTextRangeForPhrase();i&&(t.removeAllRanges(),t.addRange(i)),e&&e()}}),0)},n.handleMouseDown=function(){var e=window.getSelection();e&&e.toString()&&e.empty(),n.phrase&&n.phrase.removeAttribute("tabIndex")},n.getTextRangeForPhrase=function(){if(!n.phrase)return null;var e=Qc(n.phrase),t=e[0],i=e[e.length-1],o=document.createRange();return o.setStart(t,0),o.setEnd(i,i.length-1),o},n.phrase=null,n}return tt()(Phrase,e),Phrase.prototype.render=function(){var e,t=this,n=this.props,i=n.cue,o=n.highlights,r=n.isActive,a=n.isTargeted,s=n.shouldDisableSkippingForward,c=0!==o.length,l=c&&!a,u=c&&a,d=We()("rc-Phrase",{active:r,targeted:u,highlighted:l}),p=o.map((function(e){return getHighlightedTextIndicesForCue(i,e)}));return e=s?Ac()("toggling through the video using the transcript is disabled on first play of the video"):r?Ac()("toggle video from current lecture segment"):Ac()("play video from #{cueText}",{cueText:i.text}),Object(Q.d)("div",{tabIndex:0,role:"button","data-cue":i.id,className:d,ref:this.setPhraseRef,"data-cue-index":i.index,onClick:this.handleClick(!1),onMouseDown:this.handleMouseDown,onKeyPress:function(e){return Object(qe.a)(e,t.handleClick(!0))},onFocus:this.handleFocus,"aria-label":e,css:Phrase_styles(this.props.theme)},c&&Object(Q.d)(oe.a,{component:Uc.a,autoEscape:!0,searchWords:[],highlightClassName:"highlight",textToHighlight:"".concat(i.text," "),findChunks:function(){return p},"aria-hidden":!0}),!c&&Object(Q.d)(st.a,{component:"span","aria-hidden":!0},"".concat(i.text," ")))},Phrase}(W.Component),Kc=Object(ft.a)(qc);Kc.displayName="Phrase";var Gc,Jc,Zc=Kc,Paragraph_styles=function(){return Object(Q.c)(Gc||(Gc=B()(["\n  .timestamp {\n    border: none;\n    height: 26px;\n    color: #666;\n    font-size: 12px;\n    line-height: 26px;\n    margin-right: 30px;\n    margin-left: -7px;\n    background: white;\n\n    &:focus {\n      color: #333;\n      outline: 2px solid #888;\n      outline-offset: -5px;\n    }\n\n    &:hover {\n      color: #333;\n      text-decoration: underline;\n    }\n  }\n"])))},Yc=function(e){function Paragraph(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handleTimestampClick=function(e){e.preventDefault();var n=t.props,i=n.cues;(0,n.onCueClick)(i[0])},t}return tt()(Paragraph,e),Paragraph.prototype.render=function(){var e=this.props,t=e.cues,n=e.onCueClick,i=e.onPhraseFocus,o=e.activeCues,r=e.targetedHighlight,a=e.highlights,s=e.hideTime,c=e.renderPlainText,l=(e.theme,e.shouldDisableSkippingForward),u=t[0];return Object(Q.d)(ie.a,{container:!0,css:Paragraph_styles},Object(Q.d)(ie.a,{item:!0,className:"rc-Paragraph",css:Object(Q.c)(Jc||(Jc=B()(["\n            display: flex;\n            padding: 0 0 var(--cds-spacing-200) 0;\n          "])))},!s&&Object(Q.d)("button",{type:"button",className:"timestamp",onClick:this.handleTimestampClick,"aria-labelledby":"button-label-".concat(u.id)},Object(Q.d)("span",{id:"button-label-".concat(u.id),className:"sr-only"},Object(Q.d)(ct.FormattedMessage,I()({message:Ac()("Play video starting at {hours}:{minutes}:{seconds} and follow transcript")},Object(lt.e)(u.startTimeForDisplay)))),Object(lt.c)(u.startTimeForDisplay)),Object(Q.d)("div",{className:"phrases"},t.map((function(e){var t=o&&o.find((function(t){return e.id===t.id})),s=getHighlightsForCue(e,a),u=!(!r||!getIsCueIncludedInHighlight(e,r));return c?Object(Q.d)("div",{className:"rc-Phrase"},Object(Q.d)(st.a,{component:"p"},e.text)):Object(Q.d)(Zc,{cue:e,key:e.id,onClick:n,onFocus:i,isActive:!!t,isTargeted:u,highlights:s,shouldDisableSkippingForward:l})})))))},Paragraph}(W.Component),Xc=Object(ft.a)(Yc),$c={Transcript:Object(Q.c)({padding:"0",lineHeight:"26px",position:"relative"}),Paragraph:Object(Q.c)({marginBottom:"15px"})},Transcript_Transcript=function(e){var t=e.paragraphs,n=e.highlights,i=e.onCueClick,o=e.onPhraseFocus,r=e.activeCues,a=e.targetedHighlight,s=e.hideTime,c=e.renderPlainText,l=e.shouldDisableSkippingForward;return Object(Q.d)(Pt.a,{trackingName:"interactive_transcript",trackMouseEnters:!0,trackMouseLeaves:!0,className:"rc-Transcript",css:$c.Transcript},t.map((function(e){return Object(Q.d)(Xc,{cues:e,key:e[0].startTime,onCueClick:i,onPhraseFocus:o,activeCues:r,highlights:n,targetedHighlight:a,hideTime:s,renderPlainText:c,css:$c.Paragraph,shouldDisableSkippingForward:l})})))};Transcript_Transcript.displayName="Transcript";var el,tl,nl,il=Transcript_Transcript,ol=t("sEfC"),rl=t.n(ol),TranscriptHighlightButton_styles=function(){return Object(Q.c)(el||(el=B()(["\n  left: 320px;\n  z-index: 1000;\n  margin-top: -40px;\n  position: absolute;\n\n  button {\n    transition-property: background-color, border;\n  }\n\n  .transcript-highlight-btn-arrow-down {\n    width: 0;\n    height: 0;\n    bottom: -10px;\n    position: absolute;\n    border-top: 20px solid #2a73cc;\n    border-left: 20px solid transparent;\n    border-right: 20px solid transparent;\n    transition: border 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  }\n\n  &:hover {\n    .transcript-highlight-btn-arrow-down {\n      border-top: 20px solid #0156b8;\n    }\n  }\n"])))},al=Object(Be.b)({type:"BUTTON"})(As.b),components_TranscriptHighlightButton=function(e){var t=e.cueIndex,n=e.label,i=e.trackingName,o=e.onClick,r=findCueElementWithIndex(t),a=null==r?void 0:r.offsetTop;return Object(Q.d)("div",{className:"rc-TranscriptHighlightButton",style:{top:a},css:TranscriptHighlightButton_styles},Object(Q.d)(al,{"data-testid":"transcriptHighlightButton",size:"sm",label:n,type:"primary",onClick:o,trackingName:i,style:{fontWeight:"bold"},tabIndex:-1},tl||(tl=Object(Q.d)("div",{className:"transcript-highlight-btn-arrow-down"}))))},HotkeyUtils_getModifierKeyForPlatform=function(){var e=!1;return"undefined"!=typeof window&&(e=window.navigator.platform.includes("Mac")),e?"":Ac()("CTRL")},components_RemoveTranscriptHighlight=function(e){var t=e.targetedHighlight,n=e.onRemove,i=e.showKeyboardControls,o=HotkeyUtils_getModifierKeyForPlatform(),r=Ac()("Press [#{modiferKey} + D] to Delete Note",{modiferKey:o}),a=i?r:Ac()("Delete Note"),s=Object(W.useCallback)((function(){return function(e){e.target&&e.target.innerText===a&&n()}}),[a,n]);if(Object(W.useEffect)((function(){return document.addEventListener("mousedown",s()),function(){document.removeEventListener("mousedown",s())}}),[s]),!t.transcriptTextStartIndex)return null;var c=t.transcriptTextStartIndex.cueIndex;return(W.createElement(components_TranscriptHighlightButton,{onClick:n,cueIndex:c,label:a,trackingName:"delete_transcript_highlight"}))},components_SaveHighlightConfirmationPopup=function(e){var t=e.cueIndex,n=e.onTimeoutReached;return Object(W.useEffect)((function(){var e=setTimeout(n,800);return function(){return clearTimeout(e)}}),[t,n]),t||0===t?W.createElement(components_TranscriptHighlightButton,{cueIndex:t,label:Ac()("Note saved!"),trackingName:"transcript_highlight_saved_popup",onClick:function(){n()}}):null},sl=function(e){function SaveTranscriptHighlight(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props.onSave,t=window.getSelection();t&&t.empty(),e()},n.handleDocumentMouseDown=function(e){var t=n.props.onCancel;n.saveHighlight&&!n.saveHighlight.contains(e.target)&&t()},n.saveHighlight=null,n}tt()(SaveTranscriptHighlight,e);var t=SaveTranscriptHighlight.prototype;return t.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown)},t.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown)},t.render=function(){var e=this.props,t=e.showKeyboardControls,n=e.transcriptSelection.transcriptTextStartIndex.cueIndex,i=HotkeyUtils_getModifierKeyForPlatform(),o=Ac()("Press [#{modiferKey} + S] to Save Note",{modiferKey:i}),r=t?o:Ac()("Save Note");return W.createElement(components_TranscriptHighlightButton,{cueIndex:n,label:r,onClick:this.handleClick,trackingName:"create_transcript_highlight"})},SaveTranscriptHighlight}(W.Component),cl=function(e){function TranscriptSelectionAnnouncer(){return e.apply(this,arguments)||this}return tt()(TranscriptSelectionAnnouncer,e),TranscriptSelectionAnnouncer.prototype.render=function(){var e=this.props.announcementText;return e?W.createElement("div",{className:"rc-TranscriptSelectionAnnouncer sr-only","aria-live":"assertive","aria-atomic":!0},W.createElement("span",{key:e},e)):null},TranscriptSelectionAnnouncer}(W.PureComponent),ll=Object(Q.c)({position:"relative"}),ul=function(e){function TranscriptHighlighter(t){var n;return(n=e.call(this,t)||this).handleSave=function(){var e=n.props,t=e.onSave,i=e.showSaveConfirmations,o=n.state.transcriptSelection;if(o){t(o);var r=o.transcriptTextStartIndex.cueIndex;n.setState({transcriptSelection:void 0});var a=window.getSelection();a&&a.empty(),n.updateAnnouncementText(Ac()("Note Saved!")),i&&n.showSaveConfirmation(r)}},n.handleRemove=function(){var e=n.props.onRemove,t=n.state.targetedHighlight;t&&(e(t.id),n.setState({targetedHighlight:void 0}),n.updateAnnouncementText(Ac()("Note Deleted!")))},n.handleCancel=function(){var e=window.getSelection();e&&e.empty(),n.setState({transcriptSelection:void 0})},n.handleMouseUp=function(){n.updateSelection(),n.setState({showKeyboardControls:!1})},n.handleMouseMove=function(e){n.mouseMoveTimeout&&clearTimeout(n.mouseMoveTimeout),n.mouseMoveTimeout=window.setTimeout((function(){var t=n.state.targetedHighlight,i=n.props,o=i.highlights,r=i.onSelect,a=window.getSelection();if(a&&a.toString())return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();var s=e.target&&e.target.matches("mark")?findParentCueElement(e.target):null,c=s?getHighlightForCueElement(o,s):null;if(c||!t||!n.transcriptHighlighter||!mouseMovedInNeighborhoodOfHighlight(e,t,n.transcriptHighlighter)){if(!c)return n.mouseMoveTimeout=null,void n.resetTargetedHighlight();n.setState({targetedHighlight:c}),r(c),n.mouseMoveTimeout=null}}),0)},n.handleMouseLeave=function(){n.mouseMoveTimeout=null,n.resetTargetedHighlight()},n.handleKeyboardControls=function(e){if("Tab"===e.key&&n.setState({showKeyboardControls:!0}),!e.shiftKey||"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||window.setTimeout(n.updateSelection,0),e.metaKey||e.ctrlKey||e.ctrlKey&&e.altKey){var modifySelection=function(t){return e.preventDefault(),e.stopPropagation(),e.shiftKey?contractSelection(t):expandSelection(t)};switch(e.key){case"l":case"ArrowRight":modifySelection({direction:"right",magnitude:"word"});break;case"h":case"ArrowLeft":modifySelection({direction:"left",magnitude:"word"});break;case"j":case"ArrowDown":modifySelection({direction:"right",magnitude:"phrase"});break;case"k":case"ArrowUp":modifySelection({direction:"left",magnitude:"phrase"});break;case"s":e.preventDefault(),n.handleSave();break;case"d":e.preventDefault(),n.handleRemove();break;default:return}window.setTimeout(n.updateSelection,0)}},n.handleSelectingNote=function(e){var t=n.props.highlights,i=HotkeyUtils_getModifierKeyForPlatform(),o=findParentCueElement(e),r=o?getHighlightForCueElement(t,o):null;r&&(n.setState({targetedHighlight:r}),n.updateAnnouncementText(Ac()("Previously saved note: #{highlightedText}. Press [#{modifierKey} + D] to delete the note",{highlightedText:r.transcriptText,modifierKey:i})))},n.updateSelection=function(){var e=getTranscriptSelection(),t=HotkeyUtils_getModifierKeyForPlatform();n.setState({transcriptSelection:e});var i=window.getSelection();if(i){var o=Array.from(document.getElementsByTagName("mark")).filter((function(e){return i.containsNode(e,!0)}))[0];o?n.handleSelectingNote(o):(n.resetTargetedHighlight(),n.updateAnnouncementText(Ac()("#{selectedText}: Added to Selection. Press [#{modifierKey} + S] to save as a note",{selectedText:i&&i.toString(),modifierKey:t})))}},n.resetTargetedHighlight=function(){var e=n.props.onSelect;n.setState({targetedHighlight:null}),e(null)},n.updateAnnouncementText=rl()((function(e){return n.setState({announcementText:e})}),250,{leading:!0}),n.clearSaveConfirmation=function(){n.setState({saveConfirmationCueIndex:void 0})},n.mouseMoveTimeout=null,n.transcriptHighlighter=null,n.saveHighlightButton=null,n.setTranscriptHighlighterRef=function(e){n.transcriptHighlighter=e},n.setSaveHighlightButtonRef=function(e){n.saveHighlightButton=e},n.state={announcementText:null,targetedHighlight:null,transcriptSelection:void 0,showKeyboardControls:!1},n}tt()(TranscriptHighlighter,e);var t=TranscriptHighlighter.prototype;return t.componentDidMount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.addEventListener("keydown",this.handleKeyboardControls)},t.componentWillUnmount=function(){this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseup",this.handleMouseUp),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mousemove",this.handleMouseMove),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("mouseleave",this.handleMouseLeave),this.transcriptHighlighter&&this.transcriptHighlighter.removeEventListener("keydown",this.handleKeyboardControls)},t.showSaveConfirmation=function(e){this.setState({saveConfirmationCueIndex:e})},t.render=function(){var e=this.props,t=e.children,n=e.showSaveConfirmations,i=this.state,o=i.transcriptSelection,r=i.announcementText,a=i.targetedHighlight,s=i.showKeyboardControls,c=i.saveConfirmationCueIndex,l=HotkeyUtils_getModifierKeyForPlatform();return Object(Q.d)("div",{className:"rc-TranscriptHighlighter",ref:this.setTranscriptHighlighterRef,css:ll},o&&!a&&Object(Q.d)(sl,{onSave:this.handleSave,onCancel:this.handleCancel,transcriptSelection:o,showKeyboardControls:s}),a&&Object(Q.d)(components_RemoveTranscriptHighlight,{targetedHighlight:a,onRemove:this.handleRemove,showKeyboardControls:s}),n&&Object(Q.d)(components_SaveHighlightConfirmationPopup,{cueIndex:c,onTimeoutReached:this.clearSaveConfirmation}),Object(Q.d)(ot.a,{component:"p",className:"rc-A11yScreenReaderOnly"},Ac()("You may navigate through the transcript using tab. To save a note for a section of text press #{modifierKey} + S. To expand your selection you may use #{modifierKey} + arrow key. You may contract your selection using shift + #{modifierKey} + arrow key. For screen readers that are incompatible with using arrow keys for shortcuts, you can replace them with the H J K L keys. Some screen readers may require using #{modifierKey} in conjunction with the alt key",{modifierKey:l})),W.cloneElement(t,{onPhraseFocus:this.updateSelection}),Object(Q.d)(cl,{announcementText:r}))},TranscriptHighlighter}(W.Component),dl=function(e){function InteractiveTranscript(t){var n;(n=e.call(this,t)||this).handleTrackLoaded=function(){var e=n.state.track;e&&e.cues&&n.setState((function(){return{isLoading:!1,cues:e.cues}}))},n.handleCueClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.props,o=i.onTimeChange,r=i.handlePausePlayer,a=i.shouldDisableSkippingForward,s=n.state.playingCue,c=s===e,l=!t||t&&!c;a||(l?(o(e.startTime+.01),n.setState({playingCue:e})):(r(),n.setState({playingCue:null})))},n.handleHighlightSelection=function(e){e!==n.state.targetedHighlight&&n.setState({targetedHighlight:e})},n.handleInteractiveEffectDisable=function(e){if(27===e.keyCode){var t=n.state.renderPlainText;n.setState({renderPlainText:!t})}};var i=t.track;return n.state={track:i,cues:i&&i.cues||[],isLoading:!0,playingCue:null,targetedHighlight:null,componentDidMount:!1,renderPlainText:!1},n}tt()(InteractiveTranscript,e);var t=InteractiveTranscript.prototype;return t.componentDidMount=function(){var e=this.props,t=e.trimmedStartTimeSeconds,n=e.trimmedEndTimeSeconds,i=this.state.track;i&&TrackUtils_loadTrack(i,t,n).then(this.handleTrackLoaded).done(),this.setState((function(){return{componentDidMount:!0}}))},t.componentWillReceiveProps=function(e){var t=this.props.track,n=e.track,i=e.trimmedStartTimeSeconds,o=e.trimmedEndTimeSeconds;n&&!n.error&&t&&n.languageCode!==t.languageCode&&(this.setState({track:n,isLoading:!0}),TrackUtils_loadTrack(n,i,o).then(this.handleTrackLoaded).done())},t.render=function(){var e=this.props,t=e.time,n=e.timeDiff,i=e.highlights,o=e.onSaveHighlight,r=e.onRemoveHighlight,a=e.hideTime,s=e.disableHighlighting,c=e.showSaveConfirmations,l=e.shouldDisableSkippingForward,u=this.state,d=u.cues,p=u.track,m=u.isLoading,h=u.targetedHighlight,f=u.componentDidMount,g=u.renderPlainText,v=m&&(!p||!p.isLoaded),b=!s&&Object(Gt.a)();if(!p)return null;var y=f?Object(lt.b)(d,t):[],C=!v&&d&&d.length>0;return W.createElement("div",{onKeyDown:this.handleInteractiveEffectDisable},v&&W.createElement("div",{className:"horizontal-box align-items-absolute-center",style:{height:"100px"},"data-testid":"load"},nl||(nl=W.createElement(Bc.a,null))),W.createElement(ot.a,{component:"span",className:"rc-A11yScreenReaderOnly"},W.createElement("h3",null,g?Ac()("Basic Transcript - Enable interactive transcript mode by pressing the escape key"):Ac()("Interactive Transcript - Enable basic transcript mode by pressing the escape key"))),C&&b&&W.createElement(ul,{highlights:i,onSave:o,onRemove:r,onSelect:this.handleHighlightSelection,showSaveConfirmations:c},W.createElement(il,{highlights:i,activeCues:y,onCueClick:this.handleCueClick,targetedHighlight:h,paragraphs:n?Object(lt.a)(d,n):Object(lt.a)(d),hideTime:a,renderPlainText:g,shouldDisableSkippingForward:l})),C&&!b&&W.createElement(il,{highlights:i,activeCues:y,targetedHighlight:null,onCueClick:this.handleCueClick,paragraphs:n?Object(lt.a)(d,n):Object(lt.a)(d),hideTime:a,renderPlainText:g,shouldDisableSkippingForward:l}))},InteractiveTranscript}(W.Component),InteractiveTranscript_InteractiveTranscriptWithContext=function(e){var t=LearningEffortFirstPlayContext_useLearningEffortFirstPlayContext().shouldDisableSkippingForward,n=VideoTrimmingContext_useVideoTrimmingContext(),i=n.trimmedStartTimeSeconds,o=n.trimmedEndTimeSeconds;return W.createElement(dl,I()({},e,{shouldDisableSkippingForward:t,trimmedStartTimeSeconds:i,trimmedEndTimeSeconds:o}))};InteractiveTranscript_InteractiveTranscriptWithContext.defaultProps={highlights:[],onSaveHighlight:function(){},onRemoveHighlight:function(){},handlePausePlayer:function(){}};var pl,ml,hl,fl,gl=InteractiveTranscript_InteractiveTranscriptWithContext,cds_VideoJsTranscriptContainer=function(e){var t=e.player,n=e.selectedTrack,i=e.highlights,o=e.onRemoveHighlight,r=e.onSaveHighlight,a=Object(W.useState)(0),s=H()(a,2),c=s[0],l=s[1];Object(W.useEffect)((function(){var handleTimeUpdate=function(){return l(t.currentTime())};return t.on("timeupdate",handleTimeUpdate),function(){t.off("timeupdate",handleTimeUpdate)}}),[t]);return W.createElement(gl,{time:c,timeDiff:void 0,track:n,highlights:i||[],onTimeChange:function(e){t.currentTime(e),t.paused()&&t.play(),l(e)},onRemoveHighlight:o,onSaveHighlight:function(e){var t=Object(Jt.b)(e,n);r&&r(t)},handlePausePlayer:function(){return t.pause()},showSaveConfirmations:!0})},cds_VideoTranscriptToolbar=function(e){var t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,o=e.itemId,r=e.courseId;return Object(Q.d)(W.Fragment,null,Object(Q.d)(components_TrackChooser,{tracks:t,selectedTrack:n,onTrackSelect:i,courseId:r,itemId:o}))},TranscriptTabContent_TranscriptTabContent=function(){var e=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),t=e.tracks,n=e.selectedTrack,i=e.onTrackSelected,o=e.courseId,r=e.computedItem,a=e.videoPlayer,s=e.highlights,c=e.onSaveHighlight,l=e.onRemoveHighlight;return(W.createElement(ie.a,{container:!0,justifyContent:"center",css:function(){return Object(Q.c)(pl||(pl=B()(["\n        gap: 32px;\n        padding-top: var(--cds-spacing-200);\n\n        & .rc-VolunteerLink {\n          padding: var(--cds-spacing-100) 0 0;\n        }\n\n        "," {\n          flex-wrap: wrap;\n        }\n\n        "," {\n          gap: 0;\n\n          & .rc-Paragraph > button {\n            margin: 0 var(--cds-spacing-200) 0 0;\n          }\n\n          & .rc-TranscriptHighlightButton {\n            left: 0;\n          }\n        }\n      "])),te.a.up("md"),te.a.down("sm"))}},W.createElement(ie.a,{item:!0,md:9,xs:12,css:Object(Q.c)(ml||(ml=B()(["\n          max-width: 700px;\n        "])))},n&&W.createElement(cds_VideoJsTranscriptContainer,{player:a,highlights:s,selectedTrack:n,onSaveHighlight:c,onRemoveHighlight:l})),t&&W.createElement(ie.a,{item:!0,md:2,xs:12,css:function(){return Object(Q.c)(hl||(hl=B()(["\n            margin-block: -16px;\n\n            "," {\n              margin-block: unset;\n              max-width: 700px;\n            }\n          "])),te.a.down("sm"))}},W.createElement(cds_VideoTranscriptToolbar,{tracks:t,selectedTrack:n,onTrackSelected:i,courseId:o,itemId:null==r?void 0:r.id}))))},vl=Object(W.memo)(TranscriptTabContent_TranscriptTabContent),bl=t("ML/G"),util_trackCoreVideoEvent=function(e,t,n,i){bl.a.pushV2(["core.video_access",{client:"web",generation:"phoenix",course_id:e,course_item_id:t,playable:n,download:i}])},fileDownloadUtils_getVideoFilename=function(e,t){var n=t.name;return e||n||O()("lecture")},fileDownloadUtils_onVideoSourceClick=function(e,t){var n=t.id;util_trackCoreVideoEvent(e,n,!0,!0)},fileDownloadUtils_getVideoDownloadForResolution=function(e){var t=e.fileName,n=e.resolution,i=e.href,o=e.fileExtension,r=void 0===o?"mp4":o,a=e.onClick;return{displayName:O()("Lecture Video (#{resolution})",{resolution:n}),trackingName:"download_video",href:i,download:"".concat(t,".").concat(r),fileType:r,onClick:a}},fileDownloadUtils_getLectureDownloadLinks=function(e){var t=e.videoContent,n=e.languageCode,i=e.computedItem,o=e.assetSources,r=e.courseId,a=t&&function(e){return!Object(s.a)(d.get("itemVideoDownloadBlacklist"),e)}(r),c=function(e){return e.map((function(e){var t=e.itemName,n=e.url,i=e.fileType,o=e.typeName;return{displayName:t,href:n,fileType:i,assetTypeName:o,trackingName:"focused_lex_download_asset",data:{asset_type:o},download:"asset"===o?t:void 0}}))}(o);if(!a)return c;var l=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mp4",o=getResolutionRange(e),r=H()(o,2),a=r[0],s=r[1],c=[a,s],l=fileDownloadUtils_getVideoFilename(t.name,t),handleVideoSourceClick=function(){return fileDownloadUtils_onVideoSourceClick(n,t)};return c.map((function(t){var n=e.getSourcesForResolution(t),o=n&&n["video/mp4"];if(o)return fileDownloadUtils_getVideoDownloadForResolution({fileName:l,resolution:t,href:o,fileExtension:i,onClick:handleVideoSourceClick})}))}(t,i,r),u=function(e,t){var n=e.getSubtitlesUrl("subtitlesVtt",t),i=e.getSubtitlesLabel("subtitlesVtt",t);if(n)return{displayName:O()("Subtitles (#{subtitleLanguage})",{subtitleLanguage:i}),trackingName:"focused_lex_download_subtitle",data:{languageCode:t,format:"vtt"},download:"subtitles-".concat(t,".vtt"),fileType:"WebVTT",href:n}}(t,n),p=function(e,t){var n=e.getSubtitlesUrl("subtitlesTxt",t);if(n){var i=e.getSubtitlesLabel("subtitlesTxt",t);return{href:n,download:"transcript.txt",trackingName:"focused_lex_download_transcript",data:{languageCode:t,format:"txt"},displayName:O()("Transcript (#{subtitleLanguage})",{subtitleLanguage:i}),fileType:"txt"}}}(t,n);return[].concat(Ue()(l),[u,p],Ue()(c)).filter((function(e){return!!e}))},yl=t("HHRp"),Cl=Object(Be.b)({type:"BUTTON"})(ut.a);Cl.displayName="TrackedButton";var toolbar_CaptureHighlightButton=function(e){var t,n=e.selectedTrack,i=e.videoPlayer,o=Object(W.useState)(!1),r=H()(o,2),a=r[0],s=r[1],c=Object(W.useState)(!1),l=H()(c,2),u=l[0],d=l[1],p=Object(W.useState)(null),m=H()(p,2),h=m[0],f=m[1],g=VideoHighlightManagerProvider_useVideoHighlightingManagerContext(),v=g.onCapture,b=g.selectedTab,y=g.setSelectedTab;Object(W.useEffect)((function(){return i.emitter.on("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.on("videoQuizView.visible",(function(){return s(!0)})),function(){"function"==typeof i.emitter.off&&(i.emitter.off("videoQuizView.hidden",(function(){return s(!1)})),i.emitter.off("videoQuizView.visible",(function(){return s(!0)})))}}),[]);return W.createElement("div",{className:"rc-CaptureHighlightButton"},W.createElement(Cl,{disabled:a,id:"save-note-button",variant:"ghost",iconPosition:"before",icon:fl||(fl=W.createElement(yl.a,{size:"small"})),onClick:function(e){if("Enter"!==e.key&&" "!==e.key&&(t&&clearTimeout(t),n)){var o=Object(Jt.a)(n,i);v&&(v(o),"NOTES"!==b&&y&&y("NOTES")),f(o),d(!0),t=window.setTimeout((function(){d(!1)}),5e3)}},trackingName:"create_video_highlight"},O()("Save note")),W.createElement(cds_HighlightCapturePreview,{show:u,highlight:h,onClick:function(){t&&clearTimeout(t),d(!1)}}))};function VideoIsPlayingStateProvider(e){var t=e.videoPlayer,n=e.children,i=Object(W.useState)(!1),o=H()(i,2),r=o[0],a=o[1];return Object(W.useEffect)((function(){return t&&(t.on("play",(function(){return a(!0)})),t.on("pause",(function(){return a(!1)})),t.on("ended",(function(){return a(!1)}))),function(){t&&(t.off("play",(function(){return a(!0)})),t.off("pause",(function(){return a(!1)})),t.off("ended",(function(){return a(!1)})))}}),[t]),n({isPlaying:r})}var videoSettingsUtils_getStorageKey=function(){var e=ee.a.get().external_id;return"itemPage_firstVideoAutoplayHasBeenSet_".concat(e)},Sl=t("KoCz"),kl=t("WkKJ");function ContinuousSignalTracker(e){var t=e.shouldSend,n=e.sendSignalData,i=Object(kl.b)();return Object(W.useEffect)((function(){var e,o;return t&&null!==(e=window)&&void 0!==e&&e.setInterval&&(o=window.setInterval((function(){i(n)}),kl.a)),function(){o&&clearInterval(o)}}),[i,t,n]),null}var xl,wl,Ol,Tl,jl,Pl,El,Il,Ml,Vl,_l,Rl,Nl=t("7ipH"),Ll=t("2T3l"),Dl=t("CLvh"),Fl=t.n(Dl),getSocialCaptions=function(e){var t=e.courseName,n=e.partnerName,i=e.videoTitle;return{twitter:function(){return Fl()("Check out this video from #{partnerName}: #{courseName} on @Coursera.",{courseName:t,partnerName:n,videoTitle:i})},whatsapp:function(e){return Fl()("I found a great video from a course called #{courseName}. I think youll really like it. Its from #{partnerName} on Coursera, an online learning platform that partners with top universities and companies around the world Check it out: #{shareLink}",{courseName:t,partnerName:n,shareLink:e})},emailSubject:function(){return Fl()("I found an interesting video for you on Coursera!")},emailBody:function(e){return Fl()("I thought you might like this video from #{courseName} offered by #{partnerName}: on Coursera. #{shareLink}\n\nCoursera also offers online courses and Professional Certificates from 190+ world-class universities and companies, including Yale, the University of Pennsylvania, Google, IBM, and more.\n\nLet me know what you think!",{courseName:t,partnerName:n,shareLink:e})}}},Hl=t("ZLWr"),Al=t.n(Hl),Bl={titleAndSaveNoteContainer:Object(Q.c)(xl||(xl=B()(["\n    margin-top: var(--cds-spacing-150);\n    background-color: var(--cds-color-white-0);\n    z-index: 1; /* so that the video player is on top of the title and save note container */\n    & button > span {\n      white-space: nowrap;\n    }\n  "]))),iTakeSpace:function(e,t){return Object(Q.c)(wl||(wl=B()(["\n    width: 100%;\n    height: 0;\n    "," {\n      /* Empty div above video that keeps the overall scroll height the same.\n      Since videoHeight already accounts for VIDEO_TOP, don't need to account for that again. */\n      height: ","px;\n    }\n  "])),te.a.up("md"),t-e)},videoPlayerRow:function(e,t){return Object(Q.c)(Ol||(Ol=B()(["\n    margin-top: ","px;\n    background-color: var(--cds-color-neutral-background-primary);\n\n    /* Rounded corners: */\n\n    z-index: 2; /* This is needed so that buttons in lecture tab panels don't overlap the video when they overflow their container. */\n    height: ","px;\n\n    /* Grid sets flex-basis to 100%. This causes the video to have zero height when it's not sticky. */\n    flex-basis: unset;\n\n    "," {\n      position: ",";\n      height: ","px;\n\n      /* stick below ItemPrimaryNavigation, leaving room for the focus outline as well */\n      top: ","px;\n      flex-basis: 100%;\n    }\n  "])),2,t,te.a.up("md"),e?"sticky":"static",t,78)},videoPlayerContainer:function(e){return Object(Q.c)(Tl||(Tl=B()(["\n    width: 100%;\n    height: 100%;\n    background-color: var(--cds-color-grey-25);\n    border-radius: var(--cds-border-radius-200);\n    "," {\n      z-index: 3;\n      height: ","px;\n    }\n\n    & .rc-VideoMiniPlayer .vjs-coursera-skin {\n      /* !important is needed to override the !important property rule used by videoJS */\n      outline: none !important;\n    }\n  "])),te.a.up("md"),e)},feedbackButtons:Object(Q.c)(jl||(jl=B()(["\n    margin-top: var(--cds-spacing-200);\n    margin-bottom: var(--cds-spacing-200);\n  "]))),overrideItemFeedbackStyles:Object(Q.c)(Pl||(Pl=B()(["\n    & .c-flag-categories-modal > div {\n      bottom: 0;\n    }\n  "]))),embeddedSourceAttribution:Object(Q.c)(El||(El=B()(["\n    margin-top: var(--cds-spacing-100);\n    margin-bottom: var(--cds-spacing-200);\n  "])))},zl=Object(Q.d)("div",null,""),Ul=[{label:Al()("Give me practice questions"),isCoachTrigger:!0,action:J.d.PracticeQuestions,mode:J.f.ItemLearning},{label:Al()("Explain this topic in simple terms"),isCoachTrigger:!0,action:J.d.SimpleExplanation,mode:J.f.ItemLearning},{label:Al()("Give me a summary"),isCoachTrigger:!0,action:J.d.Summarize,mode:J.f.ItemLearning},{label:Al()("Give me real-life examples"),isCoachTrigger:!0,action:J.d.RealLifeExamples,mode:J.f.ItemLearning}],VideoItem_VideoItem=function(e){var t,n,i,o=e.autoplay,r=e.course,a=e.computedItem,s=e.videoContent,c=e.itemMetadata,l=e.hasModalOpen,u=e.courseProgress,d=e.verificationDisplay,p=e.startPlaybackSeconds,m=e.videoQuizModel,h=e.executeAction,f=e.isSubtitleTranslationEnabled,g=e.weekNumber,v=e.itemSummaryHtml,b=e.scrollingContainerRef,y=e.isPreviewMode,C=e.hasNoProgressInVideoItems,S=e._eventData,k=e.embeddedCoachEnabled,x=void 0!==k&&k,w=e.isAutoNextPaused,O=void 0!==w&&w,T=e.setIsUserReportingIssue,j=Object(W.useState)({isFullScreen:!1,visiblePlayer:!1,videoPlayer:void 0,videoRegion:void 0}),P=H()(j,2),E=P[0],I=P[1],M=Object(ne.a)(te.a.only("md")),R=Object(ne.a)(te.a.only("lg")),L=Object(ne.a)(te.a.only("xl")),F=Object(W.useState)(!1),A=H()(F,2),z=A[0],q=A[1],K=function(e,t,n){return e?Yt:t?Xt:n?$t:Yt}(M,R,L),J=K+68-240,Z=Object(W.useState)(0),Y=H()(Z,2),X=Y[0],ae=Y[1],se=Object(W.useState)({tracks:void 0,selectedTrack:void 0}),le=H()(se,2),ve=le[0],be=le[1],ye=Object(W.useState)([]),Ce=H()(ye,2),Se=Ce[0],ke=Ce[1],xe=Object(W.useState)(""),we=H()(xe,2),Oe=we[0],Te=we[1],je=a.id,Pe=ge.b.isFullScreen(),Ee=Object(W.useState)(!1),Ie=H()(Ee,2),Me=(Ie[0],Ie[1]),_e=null==b?void 0:b.current,Re=function(e,t,n){return n?240:e>68?Math.max(240,t-(e-68)):t}(X,K,z),Ne=Object(W.useCallback)((function(){if(_e){var e=_e.scrollTop;z?function(e,t,n,i){return e>t&&t<=i-n}(X,e,Re,K)&&q(!1):e>=J&&q(!0),ae(e)}}),[_e,z,X,J,Re,K]);Object(W.useEffect)((function(){return _e&&_e.addEventListener("scroll",Ne),function(){null==_e||_e.removeEventListener("scroll",Ne)}}),[_e,Ne]);var Le=r.slug,De=r.id,Fe=s.name,He=Al()("Video: #{name}",{name:Fe}),Ae=c.get("courseMaterials"),Be=null==Ae?void 0:null===(t=Ae.getNeighbors(c))||void 0===t?void 0:t.nextItemMetadataOrItemGroup,ze=E.videoRegion&&E.videoPlayer,Ue=(D()(D()({},S),{},{namespace:D()(D()({},null==S?void 0:S.namespace),{},{app:"course",page:"learner_activity"})}),{courseId:De,userActionType:Nl.a.video_is_playing,itemData:{itemId:je,itemTypeName:"lecture"}}),Qe=downloadsDropdownUtils_isContextMenuEnabled(De),setVisibility=function(e){I((function(t){return D()(D()({},t),{},{visiblePlayer:e})}))},onSubtitlesChange=function(){Te(downloadsDropdownUtils_getLanguageCode(c,E.videoPlayer,s))};Object(W.useEffect)((function(){var e=E.videoPlayer;if(e)return e.on("subtitleschange",onSubtitlesChange),function(){var e=N()(V()().mark((function _callee(){var e;return V()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,downloadsDropdownUtils_fetchLectureAssets(c);case 2:e=t.sent,ke(e);case 4:case"end":return t.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}()(),Te(downloadsDropdownUtils_getLanguageCode(c,e,s)),function(){e.off("subtitleschange",onSubtitlesChange)}}),[s,c,E.videoPlayer]);var We,qe=Object(W.useMemo)((function(){return fileDownloadUtils_getLectureDownloadLinks({videoContent:s,languageCode:Oe,computedItem:a,assetSources:Se,courseId:De})}),[s,Oe,a,Se,De]),Ke=Boolean(!Object(Ll.a)(De)&&!y&&g),Ge=Boolean(ve.tracks&&ve.selectedTrack),Je=(We=videoSettingsUtils_getStorageKey(),Ve.a.getItem(We,JSON.parse,void 0)),Ze=C&&!Je;return Object(W.useEffect)((function(){Ze&&(An.a.set("autoplay",!0),function(){var e=videoSettingsUtils_getStorageKey();Ve.a.setItem(e,!0,JSON.stringify)}())}),[Ze]),Object(Q.d)(Cn,{autoplay:o||Ze,courseSlug:Le,computedItem:a,isVideoHighlightingEnabled:!0},Object(Q.d)(ie.a,{id:"video-item-outermost-container",container:!0,direction:"column",wrap:"nowrap"},Object(Q.d)("div",{css:Bl.iTakeSpace(Re,K)}),Object(Q.d)(ie.a,{id:"video-player-row",item:!0,container:!0,xs:12,direction:"row",css:Bl.videoPlayerRow(X,K)},Object(Q.d)(ie.a,{id:"video-player-container",alignContent:"flex-start",item:!0,css:Bl.videoPlayerContainer(Re)},Object(Q.d)(G.a,{onChange:function(e){(e||E.isFullScreen)&&setVisibility(e)}},Object(Q.d)(Hn,{videoPlayer:E.videoPlayer,videoRegion:E.videoRegion,nextItem:Be,parentCb:setVisibility,hasModalOpen:l,layoutMode:"fill"},Object(Q.d)(cds_VideoOrigamiRegion,{computedItem:a,courseProgress:u,verificationDisplay:d,itemMetadata:c,autoplay:o||Ze,startPlaybackSeconds:p,videoQuizModel:m,videoContent:s,setVideoPlayer:function(e){I((function(t){return D()(D()({},t),{},{videoPlayer:e})})),e.el().focus()},setVideoRegion:function(e){I((function(t){return D()(D()({},t),{},{videoRegion:e})}))},setInteractiveTranscript:function(e){if(e){if(U()(e.languageMap))return h(setUIPanelEnabled,!1),void be((function(e){return D()(D()({},e),{},{tracks:void 0,selectedTrack:void 0})}));var t=ve.selectedTrack,n=e.languageMap,i=e.defaultLanguage,o=TrackUtils_buildTracks(n),r=TrackUtils_getDefaultTrack(o,i),a=t||r;h(setUIPanelEnabled,!0),be((function(e){return D()(D()({},e),{},{tracks:o,selectedTrack:a})}))}else be((function(e){return D()(D()({},e),{},{tracks:void 0,selectedTrack:void 0})}))},ariaLabel:He,visibility:E.visiblePlayer,isFullscreen:Pe,layoutMode:"fill",isContextMenuEnabled:Qe,autoNextCountdownSeconds:5,onVideoPlayedToEnd:function(){return Me(!0)},isAutoNextPaused:O}))))),ze&&Object(Q.d)(VideoHighlightManagerProvider_VideoHighlightingManagerProvider,{itemId:je,courseId:De,videoPlayer:E.videoPlayer,videoRegionRef:E.videoRegion,selectedTrack:ve.selectedTrack,tracks:ve.tracks,onTrackSelected:function(e){e&&be((function(t){return D()(D()({},t),{},{selectedTrack:e})}))},computedItem:a,itemMetadata:c,videoContent:s,course:r,isSubtitleTranslationEnabled:f,executeAction:h},Object(Q.d)(ie.a,{item:!0,container:!0,direction:"column"},Object(Q.d)(ie.a,{id:"video-item-title-and-save-note",container:!0,item:!0,direction:"row",xs:12,justifyContent:"space-between",alignItems:"center",css:Bl.titleAndSaveNoteContainer},Object(Q.d)(ie.a,{item:!0,"data-testid":"video-item-title-and-attribution"},Object(Q.d)(oe.a,{variant:"h1semibold",className:"video-name"},Fe,Object(Q.d)(fe.a,{courseId:De})),c.getEmbeddedContentSourceCourseId()&&Object(Q.d)("div",{css:Bl.embeddedSourceAttribution},Object(Q.d)(de.a,{embeddedContentSourceCourseId:c.getEmbeddedContentSourceCourseId(),includeCourseName:pe.a.INLINE,originalName:c.getOriginalName()}))),Object(Q.d)(ie.a,{item:!0},Ge&&Object(Q.d)(toolbar_CaptureHighlightButton,{videoPlayer:E.videoPlayer,selectedTrack:ve.selectedTrack}))),x&&Object(Q.d)(ie.a,{item:!0},Object(Q.d)("div",{css:Object(Q.c)(Il||(Il=B()(["\n                      margin-bottom: var(--cds-spacing-100);\n                      margin-top: var(--cds-spacing-100);\n                    "])))},Object(Q.d)(ce.ExternalCoachDisclosure,{stickyPreferenceKey:"video-item",actionButtons:Ul,disclosureMessage:Al()("Let me know if you have any questions about this material. I'm here to help!"),courseId:De,itemId:a.id,recommendedActionsEnabled:!0,clipRecommendationsEnabled:Object(ue.d)()}))),Object(Q.d)(ie.a,{item:!0,xs:12},Object(Q.d)(LectureTabs_LectureTabs,{isLoggedIn:Object(ee.c)(),stickyTop:Re+78+2,transcriptTabContent:Ge?Ml||(Ml=Object(Q.d)(vl,null)):zl,downloadTabContent:0===qe.length?null:Object(Q.d)(tabContent_DownloadTabContent,{lectureDownloadLinks:qe}),discussTabContent:Ke?Object(Q.d)(DiscussTabContent_DiscussTabContent,{weekNumber:g}):null,notesTabContent:Ge?Vl||(Vl=Object(Q.d)(NotesTabContent_NotesTabContent,null)):null,lectureSummaryTabContent:v?Object(Q.d)(LectureSummaryContent_LectureSummaryContent,{itemSummaryHtml:v,name:Fe}):null,notifyOnTabChange:function(){if(_e&&z){_e.removeEventListener("scroll",Ne);var e=c.getEmbeddedContentSourceCourseId()?90:48,t=J+e+12;_e.scrollTop=t,ae(t),_e.addEventListener("scroll",Ne)}},courseId:De})))),_l||(_l=Object(Q.d)(re.a,{color:"light"})),Object(Q.d)(ie.a,{container:!0,css:Bl.feedbackButtons},Object(Q.d)(ie.a,{item:!0},Object(Q.d)(me.a,{setIsUserReportingIssue:T,courseId:De,computedItem:a,itemFeedbackType:he.c.Lecture,css:Bl.overrideItemFeedbackStyles})),Object(Q.d)(ie.a,{item:!0},Object(Q.d)(Rn,{utmMediumParam:"page_share",utmContentParam:"in_course_lecture",utmCampaignParam:"bar_button",title:Al()("Share this video"),description:Al()("If you enjoy this video, take the time to show your friends."),captions:getSocialCaptions({courseName:null==r?void 0:r.name,partnerName:null==c?void 0:null===(n=c.get("course"))||void 0===n?void 0:null===(i=n.get("universities"))||void 0===i?void 0:i.getNamesString()}),titleComponent:"h2"}),Object(Q.d)(VideoIsPlayingStateProvider,{videoPlayer:E.videoPlayer},(function(e){var t=e.isPlaying;return Object(Q.d)(ContinuousSignalTracker,{shouldSend:t,sendSignalData:{heartbeatData:Ue}})}))))))},Ql=Object(j.b)(Object(X.a)(["SessionStore","CourseStore","ProgressStore"],(function(e,t){for(var n,i=e.SessionStore,o=e.CourseStore,r=e.ProgressStore,a=t.course,s=null===(n=o.getMaterials())||void 0===n?void 0:n.getLectureItemMetadatas().map((function(e){return e.id})),c=!0,l=0;l<s.length;l+=1){var u=s[l];if(r.getItemProgress(u).isAtLeastStarted()){c=!1;break}}return{courseBranchId:i.getBranchId()||a.id,hasNoProgressInVideoItems:c}})),Object(j.c)({executeAction:Y.a.func.isRequired,_eventData:Y.a.object,_withTrackingData:Y.a.func}))((function(e){var t=Object(W.useState)(!1),n=H()(t,2),i=n[0],o=(n[1],Object(W.useState)(!1)),r=H()(o,2),a=r[0],s=r[1],c=Object(ve.c)(),l=c.setPlugins,u=c.closeTools,d=Object(ue.e)().showEmbeddedCoach;return Object(W.useEffect)((function(){return d?(l([{name:"coach",icon:Rl||(Rl=Object(Q.d)(le.a,null)),component:Object(Q.d)(ce.CoachChatEmbedded,{courseId:e.course.id,itemId:e.computedItem.id,onClose:function(){u()},recommendedActionsEnabled:!0,clipRecommendationsEnabled:!0,mode:J.f.ItemLearning,homeView:{title:"Ask me anything about what you are learning. I'm here to help!",subtitle:"To get started, type your question below or try one of these examples:",quickMessages:[{message:Al()("Explain this topic in simple terms"),action:J.d.SimpleExplanation},{message:Al()("Give me a summary"),action:J.d.Summarize},{message:Al()("Give me practice questions"),action:J.d.PracticeQuestions},{message:Al()("Give me real-life examples"),action:J.d.RealLifeExamples}]}})}]),function(){l([])}):function(){}}),[d,e.course.id,e.computedItem.id,l,u]),Object(Q.d)("div",{role:"region","aria-label":Al()("Video item")},Object(Q.d)(Sl.b.Consumer,null,(function(t){var n=t.hasModalOpen,o=t.setHasModalOpen;return Object(Q.d)(LearningEffortFirstPlayContext_LearningEffortFirstPlayContextProvider,null,Object(Q.d)(VideoTrimmingContext_VideoTrimmingContextProvider,{trimmedStartTimeSeconds:e.videoContent.trimmedStartTimeSeconds,trimmedDurationSeconds:e.videoContent.trimmedDurationSeconds},Object(Q.d)(VideoItem_VideoItem,I()({},e,{setIsUserReportingIssue:s,hasModalOpen:n,setHasModalOpen:o,embeddedCoachEnabled:d,isAutoNextPaused:i||a}))))})))})),Wl=t("jGbM"),ql=t("/0hG"),Kl=t("KnSn"),Gl=t("doNK"),contentRequester_buildBaseUrl=function(){return ps.a.join("user",ee.a.get().id,"course",this.itemMetadata.get("course").get("slug"),"item",this.itemMetadata.getId(),{closedPeer:"peer",gradedPeer:"peer",phasedPeer:"peer",splitPeerReviewItem:"peer"}[e=this.itemMetadata.getTypeName()]||e);var e},ContentRequester=function(e){this.itemMetadata=e};ContentRequester.prototype.request=function(e,t){var n=this.itemMetadata,i=contentRequester_buildBaseUrl.call(this),r=new m.a(ps.a.join(i,e));/action/.test(e)&&r.addQueryParam("autoEnroll","false");var a={data:{contentRequestBody:t}};return o.a.allSettled([Object(Kl.b)(n.get("course").get("id")),Object(Gl.b)(n.get("course").get("slug")),ql.a.post(r.toString(),a)]).spread((function(e,t,i){if("rejected"===i.state)throw i.reason;var o=t.value,r=e.value,a=i.value,s=n.getId(),c=o.getItemProgress(s);c&&a&&a.itemProgress&&c.set(a.itemProgress,{refreshCourseProgress:!0});var l=r.getItemGrade(s);return l&&a&&a.itemGradeRecord&&(l.set(a.itemGradeRecord),r.refresh()),a&&a.contentResponseBody}))};var Jl=ContentRequester,Requester=function(e,t){this._contentRequester=e,this._sessionId=t};Requester.prototype.action=function(e,t){return this._contentRequester.request(ps.a.join("inVideoQuiz","session",this._sessionId,"action",e),{argument:t}).then(ec.a.property("return"))};var Zl=Requester,models_VideoQuiz=function(e){var t=e.sessionId,n=e.questions;this.sessionId=t,this.questions=n},videoQuizPromise=function(e){var t=e.metadata.getDefinition("hasInVideoAssessment"),n=e.authenticated;return t&&n?function(e){var t=new Jl(e.metadata);return t.request(ps.a.join("inVideoQuiz","session"),{}).then((function(e){var n=e.session.id,i=new Zl(t,n);return o.a.all([e.session.id,i.action("getQuestions",{})])})).spread((function(e,t){var n={sessionId:e};return ec()(n).extend(t),n}))}(e).then((function(e){return new models_VideoQuiz(e)})).catch((function(e){return o.a.fcall(ec.a.constant(null))})):o.a.fcall(ec.a.constant(null))},Yl=t("5pVP"),Xl=t("noZS"),$l=t.n(Xl),eu=t("xkGU"),tu=t.n(eu),nu=t("/hg5");function getSubtitleLabel(e,t){var n=Object(nu.b)(e),i=Object(nu.a)(e);return t?"".concat(n," (").concat(i,")"):n}function constructLanguageMap(e,t){var n={},i=Object(Yl.d)();return Object.keys(e).forEach((function(o){if("__typename"!==o){var r=(null==t?void 0:t[o])||[],a=["machineTranslation"].concat(Ue()(i?["aiGenerated"]:[])),s=r.some((function(e){return a.includes(e.name)&&e.value}));n[o]={label:getSubtitleLabel(o,s),url:e[o]}}})),n}var iu,ou=t("K7Vu"),ru={mp4VideoUrl:"video/mp4",webMVideoUrl:"video/webm"},video=function(e){var t=e.metadata;return function(e){var t=e.itemId,n=e.courseId,i=e.courseSlug,o=new ou.a({itemId:t,courseId:n,courseSlug:i}),r={includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags)","disableSkippingForward"].concat(Ue()(Object(Yl.c)()?["startMs","endMs"]:[]))};return o.getWithCourseItemId(ae.d.lectureVideosApi,r).then((function(e){var t=e.linked["onDemandVideos.v1"][0],n=e.elements[0].disableSkippingForward,i=e.elements[0].startMs,o=e.elements[0].endMs;return D()(D()({},t),{},{disableSkippingForward:n,startTimeMs:i,endTimeMs:o})}))}({itemId:t.get("id"),courseId:t.get("course.id"),courseSlug:t.get("course.slug")}).then((function(e){var n,i=$l()(e.sources.byResolution,(function(e){var t={};return tu()(ru,(function(n,i){i in e&&(t[n]=e[i])})),t})),o=e.sources.playlists.hls;return new Bn({itemMetadata:t,hlsSource:o,videoId:e.id,sources:i,subtitles:constructLanguageMap(e.subtitles,e.subtitlesAssetTags),subtitlesVtt:constructLanguageMap(e.subtitlesVtt,e.subtitlesAssetTags),subtitlesTxt:constructLanguageMap(e.subtitlesTxt,e.subtitlesAssetTags),posters:$l()(e.sources.byResolution,(function(e){return e.previewImageUrl})),disableSkippingForward:e.disableSkippingForward,trimmedStartTimeSeconds:(n=e.startTimeMs,toSeconds(null!=n?n:0)),trimmedDurationSeconds:getVideoTrimmedDurationSeconds(e.startTimeMs,e.endTimeMs)})}))},au=Object(Is.a)(iu||(iu=B()(['\n  query GetItemSummaryByItemId($input: GetItemSummaryByItemIdVariables!) {\n    GetItemSummary(input: $input)\n      @rest(\n        type: "GetItemSummary"\n        path: "grpc/lexexperiments/itemsummary/v1beta1/ItemSummaryAPI/GetItemSummary"\n        method: "POST"\n      ) {\n      itemSummary @type(name: "ItemSummary") {\n        itemId\n        summary\n        title\n      }\n    }\n  }\n']))),cds_ItemSummaryProvider=function(e){var t=e.itemId,n=e.courseId,i=e.userId,o=e.children;return function(e){return an.preview("showLectureSummary",{course_id:e})&&featureFlags_userLanguageSupportsLectureSummaries()}(n)?W.createElement(Es.c,{query:au,variables:{input:{itemId:t,courseId:n,userId:i}}},(function(e){var t,n,i=e.loading,r=e.error,a=e.data,s=null==a?void 0:null===(t=a.GetItemSummary)||void 0===t?void 0:null===(n=t.itemSummary)||void 0===n?void 0:n.summary;return o({loading:i,error:r,itemSummaryHtml:s})})):o({loading:!1})},su=t("TdzE"),cu=t("PStO"),lu=t("aZBY"),uu=t("emlC"),utils_withVideoItemData=function(){return function(e){var t=e.displayName||e.name,n=function(t){function HOC(e){var n;return(n=t.call(this,e)||this).state={videoQuizModel:null,videoContent:null},n}tt()(HOC,t);var n=HOC.prototype;return n.componentDidMount=function(){var e=this,t=this.props.itemMetadata,n=Se()([video({metadata:t}),videoQuizPromise({metadata:t,authenticated:!0})]);o.a.all(n).spread((function(t,n){e.setState({videoContent:t,videoQuizModel:n||null})})).done()},n.render=function(){var t,n=this,i=this.props.router.location,o=this.state,r=o.videoQuizModel,a=o.videoContent;if(!a)return null;var s=i&&i.query.t?parseInt(i.query.t,10):void 0,c=null===(t=this.state.videoContent)||void 0===t?void 0:t.trimmedStartTimeSeconds;Object(Yl.c)()&&c&&"number"==typeof s&&(s=toDecimalSeconds(s+c));var l=!(!i||!i.query.t)||An.a.get("autoplay");return(W.createElement(cds_ItemSummaryProvider,{itemId:String(this.props.itemMetadata.id),courseId:this.props.courseId,userId:ee.a.get().id},(function(t){var i=t.itemSummaryHtml,o=t.loading;return(W.createElement(e,I()({},n.props,{autoplay:l||!1,videoQuizModel:r,videoContent:a,startPlaybackSeconds:s,itemSummaryHtml:i,isLoadingSummary:o})))})))},HOC}(W.Component);return n.displayName="withVideoItemData(".concat(t,")"),Object(Wl.a)(n,e),Object(j.b)(Object(Nt.a)((function(e){return{router:e}})),Object(su.b)(),Object(uu.a)(["ProgressStore","VerificationStore","CourseScheduleStore","SessionStore","CourseStore"],(function(e,t){var n=e.ProgressStore,i=e.VerificationStore,o=e.CourseScheduleStore,r=e.SessionStore,a=e.CourseStore,s=t.itemMetadata.get("lesson.module.id"),c=o.getSchedule();return{courseId:a.getCourseId(),isSubtitleTranslationEnabled:a.isSubtitleTranslationEnabledForCourse(),courseProgress:n.courseProgress,verificationDisplay:i.getVerificationDisplay(),weekNumber:c.getWeekForModuleId(s),isPreviewMode:r.isPreviewMode()}})),cu.b.createContainer((function(e){var t=e.courseId;return{course:lu.a.get(t,{fields:["isClosedCourse","s12nIds"],params:{showHidden:!0}})}})))(n)}},du=Object(j.b)(utils_withVideoItemData(),P.b.createTrackedContainer((function(){return{namespace:{page:"focused_lex_video_item"}}})))(Ql);du.displayName="ComposedVideoItemWithHighlighting";t.d(e,"isContextMenuEnabled",(function(){return downloadsDropdownUtils_isContextMenuEnabled})),t.d(e,"VideoItemContainer",(function(){return du})),t.d(e,"MIN_WIDTH_FOR_TABBED_NOTES_DRAWER",(function(){return 730}))},"kj/T":function(module,exports,e){var t=e("nzgR"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},lhOz:function(module,exports,e){},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return reshapeHighlightForClient})),t.d(e,"f",(function(){return updateHighlight})),t.d(e,"b",(function(){return m})),t.d(e,"c",(function(){return deleteHighlight})),t.d(e,"a",(function(){return compareHighlightsByStartTimestamp})),t.d(e,"d",(function(){return h}));var n=t("fsL8"),i=t.n(n),o=t("yXPU"),r=t.n(o),a=t("fw5G"),s=t.n(a),c=t("v6sC"),l=t("sQ/U"),u=t("p6CZ"),d=Object(c.a)("/api/userNotes.v1",{type:"rest"}),p=function(){var e=r()(i()().mark((function _callee(e,t,n,o,r){var a,l,p,m,h;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=(new s.a).addQueryParam("action","getScreenShotUploadUrlV2").addQueryParam("courseId",e).addQueryParam("itemId",t).addQueryParam("userId",o).addQueryParam("timestamp",n),i.next=3,d.post(a.toString());case 3:return l=i.sent,p=l.split("?")[0],m=Object(u.c)(r),h=Object(c.a)(l,{type:"rest"}),i.next=9,h.put("",{contentType:"image/png",data:m,processData:!1});case 9:return i.abrupt("return",p);case 10:case"end":return i.stop()}}),_callee)})));return function(t,n,i,o,r){return e.apply(this,arguments)}}(),reshapeHighlightForClient=function(e){var t=e.id,n=e.createdAt,i=e.updatedAt,o=e.userText,r=e.shouldFocusOn,a=e.details.definition,s=a.noteEndTs,c=a.noteStartTs,l=a.captureTs,u=a.snapshotUrl,d=a.transcriptTextStartIndex,p=a.transcriptTextEndIndex,m=a.transcriptText;return{id:t,itemId:a.itemId,itemName:a.itemName,clientId:t,createdAt:n,updatedAt:i,languageCode:a.languageCode,noteText:o,noteEndTs:s&&s/1e3,noteStartTs:c&&c/1e3,captureTs:l&&l/1e3,snapshotUrl:u,transcriptTextStartIndex:d,transcriptTextEndIndex:p,transcriptText:m,pendingCreate:!1,pendingUpdate:!1,shouldFocusOn:r}},updateHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.languageCode,o=e.id,r=e.highlight,a=new s.a(o),c=Object(u.d)({itemId:t,courseId:n,highlight:r,languageCode:i});return d.put(a.toString(),{data:c})},m=function(){var e=r()(i()().mark((function _callee2(e){var t,n,o,r,a,s,c,m,h,f,g;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=e.itemId,a=e.courseId,s=e.languageCode,c=e.highlight,m=Object(u.d)({itemId:r,courseId:a,highlight:c,languageCode:s}),h=l.a.get().id,!c.snapshotDataUrl){i.next=8;break}return i.next=6,p(a,r,m.details.definition.noteStartTs,h,c.snapshotDataUrl);case 6:f=i.sent,m.details.definition.snapshotUrl=f;case 8:return i.next=10,d.post("",{data:m});case 10:return g=i.sent,i.abrupt("return",{id:g.elements[0].id,snapshotUrl:(null===(t=g.elements[0])||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:null===(o=n.definition)||void 0===o?void 0:o.snapshotUrl)||""});case 12:case"end":return i.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),deleteHighlight=function(e){var t=e.id,n=new s.a(t);return d.delete(n.toString())},compareHighlightsByStartTimestamp=function(e,t){return e.noteStartTs<t.noteStartTs?-1:e.noteStartTs>t.noteStartTs?1:0},h=function(){var e=r()(i()().mark((function _callee3(e){var t,n,o,r,a;return i()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.itemId,n=e.courseId,o=e.languageCode,r=(new s.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",o).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details"),i.next=4,d.get(r.toString());case 4:return a=i.sent,i.abrupt("return",a.elements.map(reshapeHighlightForClient).sort(compareHighlightsByStartTimestamp));case 6:case"end":return i.stop()}}),_callee3)})));return function(t){return e.apply(this,arguments)}}()},"nQ+W":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},nzgR:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),i=t("F9YM");t.d(e,"c",(function(){return getBlobFromDataURI})),t.d(e,"b",(function(){return highlightUtils_generateHighlightFromTranscriptSelection})),t.d(e,"a",(function(){return highlightUtils_generateHighlightFromCaptureButton})),t.d(e,"d",(function(){return getDraftFromHighlight}));var getBlobFromDataURI=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0;r<t.length;r+=1)o[r]=t.charCodeAt(r);return new Blob([i],{type:n})},highlightUtils_generateHighlightFromTranscriptSelection=function(e,t){var i=e.transcriptTextStartIndex,o=e.transcriptTextEndIndex,r=t.cues.filter((function(e){return e.index>=i.cueIndex&&e.index<=o.cueIndex})),a=r.reduce((function(e,t){var n=t.index,r=t.text,a=i.cueIndex,s=i.textIndex,c=o.cueIndex,l=o.textIndex;return n===a?n===c?"".concat(e).concat(r.substring(s,l+1)):"".concat(e).concat(r.substring(s)):n===c?"".concat(e," ").concat(r.substring(0,l+1)):"".concat(e," ").concat(r)}),""),s=Object(n.a)(),c=s,l=r[0],u=r[r.length-1].endTime;return{id:s,clientId:c,captureTs:l.startTime,noteStartTs:l.startTime,noteEndTs:u,transcriptText:a,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:i,transcriptTextEndIndex:o,pendingCreate:!0,pendingUpdate:!1}},highlightUtils_generateHighlightFromCaptureButton=function(e,t){var o=Object(n.a)(),r=o,a=e.languageCode,s=t.currentTime(),c=Object(i.d)(e.cues,s,a),l=c[0],u=c[c.length-1],d=c.reduce((function(e,t){return t.index===l.index?"".concat(e).concat(t.text):"".concat(e," ").concat(t.text)}),""),p={textIndex:0,cueIndex:l.index},m={textIndex:u.text.length-1,cueIndex:u.index},h=u.endTime;return{id:o,clientId:r,captureTs:s,noteStartTs:l.startTime,noteEndTs:h,transcriptText:d,noteText:"",languageCode:a,transcriptTextStartIndex:p,transcriptTextEndIndex:m,snapshotDataUrl:function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),i=t.getContext("2d");return i&&n&&i.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")}(t),pendingCreate:!0,pendingUpdate:!1}},getDraftFromHighlight=function(e){var t=e.itemId,n=e.courseId,i=e.highlight,o=e.languageCode,r=i.noteStartTs,a=i.noteEndTs,s=i.captureTs,c=i.snapshotUrl,l=i.transcriptText,u=i.noteText,d=i.transcriptTextEndIndex;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:c||"",transcriptTextStartIndex:i.transcriptTextStartIndex,transcriptTextEndIndex:d,languageCode:o,transcriptText:l,noteEndTs:a&&1e3*a,captureTs:s&&1e3*s,noteStartTs:r&&1e3*r}},userNote:u}}},qenF:function(module,e,t){"use strict";t.d(e,"a",(function(){return isCDSAdoptionQ2ABTestEnabled})),t.d(e,"d",(function(){return isFullstoryOnCourseHomeForPartnersEnabled})),t.d(e,"e",(function(){return persistentFullScreenVideo})),t.d(e,"c",(function(){return isFlashcardsEnabledForUserAndCourse})),t.d(e,"b",(function(){return isComposablePageHeaderEnabledInCourse}));var n=t("VTx5"),i=t("DeKs"),o=t("+rcu"),isCDSAdoptionQ2ABTestEnabled=function(){return!0},isFullstoryOnCourseHomeForPartnersEnabled=function(){return n.a.get("enableFullstoryOnCourseHomeForPartners")},persistentFullScreenVideo=function(){return i.a.get("persistentFullScreenVideo")},isFlashcardsEnabledForUserAndCourse=function(e){return o.a.get("showFlashcards",{course_id:e})},isComposablePageHeaderEnabledInCourse=function(){return o.a.get("enableComposablePageHeaderInCourse")}},rO66:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},t9gw:function(module,e,t){"use strict";var n=t("ZwCU"),i=t.n(n),o=t("8OJ3"),Heartbeat=function(e,t,n){e.on("playing",function(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(n,parseInt(t,10))}.bind(this)),e.on("pause",function(){window.clearInterval(this.interval)}.bind(this)),e.on("dispose",function(){window.clearInterval(this.interval)}.bind(this))};o.a.registerPlugin("setupHeartbeatListener",(function(){var e=this,t=[];e.emitter||(e.emitter=i.a.emitter()),e.emitter.on("emitter.listener",(function(n,i){var o;if(o=/^heartbeat(:(\d+))?$/.exec(n)){var r=o[2]||5e3;t.push(new Heartbeat(e,r,i))}}))}))},u5HK:function(module,exports,e){var t=e("YH9Q"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},uKqt:function(module,e,t){"use strict";t.d(e,"d",(function(){return i})),t.d(e,"i",(function(){return o})),t.d(e,"e",(function(){return r})),t.d(e,"c",(function(){return a})),t.d(e,"f",(function(){return s})),t.d(e,"j",(function(){return c})),t.d(e,"a",(function(){return l})),t.d(e,"g",(function(){return u})),t.d(e,"b",(function(){return d})),t.d(e,"h",(function(){return p}));var n=t("cVIm"),i="823425307723964",o=("".concat(n.a.url.resource_assets,"sharing/link-icon.png"),"tw"),r="fb",a="email",s="ln",c="wa",l="link",u="mobile",d="api/customUrls.v1",p="action=share"},vbpD:function(module,e,t){"use strict";var n=t("3tO9"),i=t.n(n),o=t("J4zp"),r=t.n(o),a=t("q1tI"),s=t("Yql6"),c=t("+TN3"),l=t("agHs"),u=t("KjNy"),d=t.n(u),hooks_useHasDayOneOnboardingModalBeenSeen=function(){var e,t,n=Object(c.b)(d.a,{variables:{eventType:"DAY_ONE_ONBOARDING_MODAL_SEEN"},context:{clientName:"gatewayGql"}}),i=n.loading,o=n.error,r=n.data;return a.useEffect((function(){o&&l.captureException(o)}),[o]),{loading:i,hasBeenSeen:!!o||!(null==r||null===(e=r.LexExperimentEvents)||void 0===e||null===(t=e.queryByEventType)||void 0===t||!t.id)||!1}};t.d(e,"a",(function(){return DayOneOnboardingModalProvider_DayOneOnboardingModalProvider})),t.d(e,"b",(function(){return DayOneOnboardingModalProvider_useDayOneOnboardingModal}));var p=a.createContext({isOpen:!1,openModal:function(){},closeModal:function(){},firstItemId:void 0,courseBranchId:void 0,hasBeenSeenInPreviousSession:!1,hasBeenSeenInPreviousSessionIsLoading:!1,hasBeenSeenInThisSession:!1}),DayOneOnboardingModalProvider_DayOneOnboardingModalProvider=function(e){var t=e.children,n=e.courseBranchId,o=hooks_useHasDayOneOnboardingModalBeenSeen(),c=o.hasBeenSeen,l=o.loading,u=Object(s.a)(),d=a.useState(!1),m=r()(d,2),h=m[0],f=m[1],g=a.useState(!1),v=r()(g,2),b=v[0],y=v[1],C=a.useState(void 0),S=r()(C,2),k=S[0],x=S[1],w=a.useCallback((function(e){x(e),f(!0)}),[x,f]),O=a.useCallback((function(){f(!1),y(!0),u("close_modal",i()({modal:{name:"course_day_one_onboarding_benchmark_screen"},courseItem:{id:k}},n?{courseBranch:{id:n}}:{}))}),[f,u,k,n]);return a.createElement(p.Provider,{value:{isOpen:h,openModal:w,closeModal:O,firstItemId:k,hasBeenSeenInPreviousSession:c,hasBeenSeenInPreviousSessionIsLoading:l,hasBeenSeenInThisSession:b,courseBranchId:n}},t)},DayOneOnboardingModalProvider_useDayOneOnboardingModal=function(){return a.useContext(p)}},wi9P:function(module,exports,e){e("lhOz")},xmJK:function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"yh+z":function(module,e,t){"use strict";var n=t("fw5G"),i=t.n(n),o=t("MnCE"),r=t("+LJP"),a=t("Vwt+");e.a=function(e){return Object(o.b)(Object(r.a)((function(e){return{router:e}})),Object(o.o)((function(t){var n=t.router,o=t.shareLink,r=t.hashedUserId,s=t.utmContentParam,c=t.utmMediumParam,l=t.utmCampaignParam,u=t.utmProductParam,d=t.extraQueryParams,p=o?new i.a(o):Object(a.d)(n);(p.addQueryParam("utm_source",e),c&&p.addQueryParam("utm_medium",c),s&&p.addQueryParam("utm_content",s),l&&p.addQueryParam("utm_campaign",l),u&&p.addQueryParam("utm_product",u),r&&p.addQueryParam("utm_user",r),d)&&Object.keys(d).forEach((function(e){p.addQueryParam(e,d[e])}));return{targetShareLink:p.toString()}})))}}}]);
//# sourceMappingURL=en.32.d12b8d2b38767e4ef7e8.js.map